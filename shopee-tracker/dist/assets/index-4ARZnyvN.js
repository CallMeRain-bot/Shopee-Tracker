function tp(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ef(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),n}var Tf={exports:{}},mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=Symbol.for("react.transitional.element"),ap=Symbol.for("react.fragment");function xf(t,e,n){var a=null;if(n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:np,type:t,key:a,ref:e!==void 0?e:null,props:n}}mr.Fragment=ap;mr.jsx=xf;mr.jsxs=xf;Tf.exports=mr;var o=Tf.exports,Of={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.transitional.element"),ip=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),rp=Symbol.for("react.profiler"),up=Symbol.for("react.consumer"),op=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),dp=Symbol.for("react.memo"),Nf=Symbol.for("react.lazy"),fp=Symbol.for("react.activity"),gh=Symbol.iterator;function mp(t){return t===null||typeof t!="object"?null:(t=gh&&t[gh]||t["@@iterator"],typeof t=="function"?t:null)}var Af={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cf=Object.assign,kf={};function di(t,e,n){this.props=t,this.context=e,this.refs=kf,this.updater=n||Af}di.prototype.isReactComponent={};di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rf(){}Rf.prototype=di.prototype;function Po(t,e,n){this.props=t,this.context=e,this.refs=kf,this.updater=n||Af}var Wo=Po.prototype=new Rf;Wo.constructor=Po;Cf(Wo,di.prototype);Wo.isPureReactComponent=!0;var vh=Array.isArray;function zu(){}var ce={H:null,A:null,T:null,S:null},Uf=Object.prototype.hasOwnProperty;function Fo(t,e,n){var a=n.ref;return{$$typeof:Zo,type:t,key:e,ref:a!==void 0?a:null,props:n}}function gp(t,e){return Fo(t.type,e,t.props)}function ec(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zo}function vp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yh=/\/+/g;function Hr(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vp(""+t.key):e.toString(36)}function yp(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(zu,zu):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Oa(t,e,n,a,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Zo:case ip:l=!0;break;case Nf:return l=t._init,Oa(l(t._payload),e,n,a,i)}}if(l)return i=i(t),l=a===""?"."+Hr(t,0):a,vh(i)?(n="",l!=null&&(n=l.replace(yh,"$&/")+"/"),Oa(i,e,n,"",function(c){return c})):i!=null&&(ec(i)&&(i=gp(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(yh,"$&/")+"/")+l)),e.push(i)),1;l=0;var r=a===""?".":a+":";if(vh(t))for(var u=0;u<t.length;u++)a=t[u],s=r+Hr(a,u),l+=Oa(a,e,n,s,i);else if(u=mp(t),typeof u=="function")for(t=u.call(t),u=0;!(a=t.next()).done;)a=a.value,s=r+Hr(a,u++),l+=Oa(a,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Oa(yp(t),e,n,a,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function Ls(t,e,n){if(t==null)return t;var a=[],i=0;return Oa(t,a,"","",function(s){return e.call(n,s,i++)}),a}function pp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ph=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bp={map:Ls,forEach:function(t,e,n){Ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ls(t,function(){e++}),e},toArray:function(t){return Ls(t,function(e){return e})||[]},only:function(t){if(!ec(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Activity=fp;$.Children=bp;$.Component=di;$.Fragment=sp;$.Profiler=rp;$.PureComponent=Po;$.StrictMode=lp;$.Suspense=hp;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce;$.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ce.H.useMemoCache(t)}};$.cache=function(t){return function(){return t.apply(null,arguments)}};$.cacheSignal=function(){return null};$.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var a=Cf({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!Uf.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(a[s]=e[s]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),r=0;r<s;r++)l[r]=arguments[r+2];a.children=l}return Fo(t.type,i,a)};$.createContext=function(t){return t={$$typeof:op,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:up,_context:t},t};$.createElement=function(t,e,n){var a,i={},s=null;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)Uf.call(e,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=e[a]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var r=Array(l),u=0;u<l;u++)r[u]=arguments[u+2];i.children=r}if(t&&t.defaultProps)for(a in l=t.defaultProps,l)i[a]===void 0&&(i[a]=l[a]);return Fo(t,s,i)};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:cp,render:t}};$.isValidElement=ec;$.lazy=function(t){return{$$typeof:Nf,_payload:{_status:-1,_result:t},_init:pp}};$.memo=function(t,e){return{$$typeof:dp,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ce.T,n={};ce.T=n;try{var a=t(),i=ce.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(zu,ph)}catch(s){ph(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),ce.T=e}};$.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()};$.use=function(t){return ce.H.use(t)};$.useActionState=function(t,e,n){return ce.H.useActionState(t,e,n)};$.useCallback=function(t,e){return ce.H.useCallback(t,e)};$.useContext=function(t){return ce.H.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t,e){return ce.H.useDeferredValue(t,e)};$.useEffect=function(t,e){return ce.H.useEffect(t,e)};$.useEffectEvent=function(t){return ce.H.useEffectEvent(t)};$.useId=function(){return ce.H.useId()};$.useImperativeHandle=function(t,e,n){return ce.H.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return ce.H.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ce.H.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ce.H.useMemo(t,e)};$.useOptimistic=function(t,e){return ce.H.useOptimistic(t,e)};$.useReducer=function(t,e,n){return ce.H.useReducer(t,e,n)};$.useRef=function(t){return ce.H.useRef(t)};$.useState=function(t){return ce.H.useState(t)};$.useSyncExternalStore=function(t,e,n){return ce.H.useSyncExternalStore(t,e,n)};$.useTransition=function(){return ce.H.useTransition()};$.version="19.2.3";Of.exports=$;var A=Of.exports;const Df=jf(A),_p=tp({__proto__:null,default:Df},[A]);var zf={exports:{}},gr={},Mf={exports:{}},Bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,q){var B=C.length;C.push(q);e:for(;0<B;){var P=B-1>>>1,re=C[P];if(0<i(re,q))C[P]=q,C[B]=re,B=P;else break e}}function n(C){return C.length===0?null:C[0]}function a(C){if(C.length===0)return null;var q=C[0],B=C.pop();if(B!==q){C[0]=B;e:for(var P=0,re=C.length,tt=re>>>1;P<tt;){var mt=2*(P+1)-1,hn=C[mt],Vt=mt+1,ba=C[Vt];if(0>i(hn,B))Vt<re&&0>i(ba,hn)?(C[P]=ba,C[Vt]=B,P=Vt):(C[P]=hn,C[mt]=B,P=mt);else if(Vt<re&&0>i(ba,B))C[P]=ba,C[Vt]=B,P=Vt;else break e}}return q}function i(C,q){var B=C.sortIndex-q.sortIndex;return B!==0?B:C.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,r=l.now();t.unstable_now=function(){return l.now()-r}}var u=[],c=[],h=1,f=null,d=3,m=!1,p=!1,_=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function b(C){for(var q=n(c);q!==null;){if(q.callback===null)a(c);else if(q.startTime<=C)a(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function T(C){if(_=!1,b(C),!p)if(n(u)!==null)p=!0,O||(O=!0,G());else{var q=n(c);q!==null&&He(T,q.startTime-C)}}var O=!1,j=-1,R=5,D=-1;function M(){return S?!0:!(t.unstable_now()-D<R)}function N(){if(S=!1,O){var C=t.unstable_now();D=C;var q=!0;try{e:{p=!1,_&&(_=!1,g(j),j=-1),m=!0;var B=d;try{t:{for(b(C),f=n(u);f!==null&&!(f.expirationTime>C&&M());){var P=f.callback;if(typeof P=="function"){f.callback=null,d=f.priorityLevel;var re=P(f.expirationTime<=C);if(C=t.unstable_now(),typeof re=="function"){f.callback=re,b(C),q=!0;break t}f===n(u)&&a(u),b(C)}else a(u);f=n(u)}if(f!==null)q=!0;else{var tt=n(c);tt!==null&&He(T,tt.startTime-C),q=!1}}break e}finally{f=null,d=B,m=!1}q=void 0}}finally{q?G():O=!1}}}var G;if(typeof v=="function")G=function(){v(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=N,G=function(){le.postMessage(null)}}else G=function(){y(N,0)};function He(C,q){j=y(function(){C(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(C){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var B=d;d=q;try{return C()}finally{d=B}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(C,q){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var B=d;d=C;try{return q()}finally{d=B}},t.unstable_scheduleCallback=function(C,q,B){var P=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,C){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,C={id:h++,callback:q,priorityLevel:C,startTime:B,expirationTime:re,sortIndex:-1},B>P?(C.sortIndex=B,e(c,C),n(u)===null&&C===n(c)&&(_?(g(j),j=-1):_=!0,He(T,B-P))):(C.sortIndex=re,e(u,C),p||m||(p=!0,O||(O=!0,G()))),C},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(C){var q=d;return function(){var B=d;d=q;try{return C.apply(this,arguments)}finally{d=B}}}})(Bf);Mf.exports=Bf;var Sp=Mf.exports,Lf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=A;function Hf(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dn(){}var Ge={d:{f:dn,r:function(){throw Error(Hf(522))},D:dn,C:dn,L:dn,m:dn,X:dn,S:dn,M:dn},p:0,findDOMNode:null},jp=Symbol.for("react.portal");function Ep(t,e,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jp,key:a==null?null:""+a,children:t,containerInfo:e,implementation:n}}var Li=wp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vr(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge;Ye.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Hf(299));return Ep(t,e,null,n)};Ye.flushSync=function(t){var e=Li.T,n=Ge.p;try{if(Li.T=null,Ge.p=2,t)return t()}finally{Li.T=e,Ge.p=n,Ge.d.f()}};Ye.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ge.d.C(t,e))};Ye.prefetchDNS=function(t){typeof t=="string"&&Ge.d.D(t)};Ye.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,a=vr(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ge.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:s}):n==="script"&&Ge.d.X(t,{crossOrigin:a,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ye.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=vr(e.as,e.crossOrigin);Ge.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ge.d.M(t)};Ye.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,a=vr(n,e.crossOrigin);Ge.d.L(t,n,{crossOrigin:a,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ye.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=vr(e.as,e.crossOrigin);Ge.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ge.d.m(t)};Ye.requestFormReset=function(t){Ge.d.r(t)};Ye.unstable_batchedUpdates=function(t,e){return t(e)};Ye.useFormState=function(t,e,n){return Li.H.useFormState(t,e,n)};Ye.useFormStatus=function(){return Li.H.useHostTransitionStatus()};Ye.version="19.2.3";function qf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qf)}catch(t){console.error(t)}}qf(),Lf.exports=Ye;var Tp=Lf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=Sp,$f=A,xp=Tp;function E(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yf(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bh(t){if(Ts(t)!==t)throw Error(E(188))}function Op(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,a=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bh(i),t;if(s===a)return bh(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==a.return)n=i,a=s;else{for(var l=!1,r=i.child;r;){if(r===n){l=!0,n=i,a=s;break}if(r===a){l=!0,a=i,n=s;break}r=r.sibling}if(!l){for(r=s.child;r;){if(r===n){l=!0,n=s,a=i;break}if(r===a){l=!0,a=s,n=i;break}r=r.sibling}if(!l)throw Error(E(189))}}if(n.alternate!==a)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Kf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Kf(t),e!==null)return e;t=t.sibling}return null}var he=Object.assign,Np=Symbol.for("react.element"),Hs=Symbol.for("react.transitional.element"),Ri=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),Xf=Symbol.for("react.consumer"),Wt=Symbol.for("react.context"),tc=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),Lu=Symbol.for("react.suspense_list"),nc=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Hu=Symbol.for("react.activity"),Ap=Symbol.for("react.memo_cache_sentinel"),_h=Symbol.iterator;function Ti(t){return t===null||typeof t!="object"?null:(t=_h&&t[_h]||t["@@iterator"],typeof t=="function"?t:null)}var Cp=Symbol.for("react.client.reference");function qu(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Cp?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Mu:return"Profiler";case Qf:return"StrictMode";case Bu:return"Suspense";case Lu:return"SuspenseList";case Hu:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ri:return"Portal";case Wt:return t.displayName||"Context";case Xf:return(t._context.displayName||"Context")+".Consumer";case tc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nc:return e=t.displayName||null,e!==null?e:qu(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return qu(t(e))}catch{}}return null}var Ui=Array.isArray,H=$f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=xp.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ta={pending:!1,data:null,method:null,action:null},$u=[],Ua=-1;function Ht(t){return{current:t}}function Re(t){0>Ua||(t.current=$u[Ua],$u[Ua]=null,Ua--)}function se(t,e){Ua++,$u[Ua]=t.current,t.current=e}var Lt=Ht(null),as=Ht(null),On=Ht(null),Nl=Ht(null);function Al(t,e){switch(se(On,e),se(as,t),se(Lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?xd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=xd(e),t=fv(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Re(Lt),se(Lt,t)}function Fa(){Re(Lt),Re(as),Re(On)}function Vu(t){t.memoizedState!==null&&se(Nl,t);var e=Lt.current,n=fv(e,t.type);e!==n&&(se(as,t),se(Lt,n))}function Cl(t){as.current===t&&(Re(Lt),Re(as)),Nl.current===t&&(Re(Nl),ms._currentValue=ta)}var qr,Sh;function Qn(t){if(qr===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qr=e&&e[1]||"",Sh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Sh}var $r=!1;function Vr(t,e){if(!t||$r)return"";$r=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){d=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),l=s[0],r=s[1];if(l&&r){var u=l.split(`
`),c=r.split(`
`);for(i=a=0;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(a===u.length||i===c.length)for(a=u.length-1,i=c.length-1;1<=a&&0<=i&&u[a]!==c[i];)i--;for(;1<=a&&0<=i;a--,i--)if(u[a]!==c[i]){if(a!==1||i!==1)do if(a--,i--,0>i||u[a]!==c[i]){var h=`
`+u[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=i);break}}}finally{$r=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qn(n):""}function kp(t,e){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==e&&e!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Vr(t.type,!1);case 11:return Vr(t.type.render,!1);case 1:return Vr(t.type,!0);case 31:return Qn("Activity");default:return""}}function wh(t){try{var e="",n=null;do e+=kp(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Gu=Object.prototype.hasOwnProperty,ac=Ne.unstable_scheduleCallback,Gr=Ne.unstable_cancelCallback,Rp=Ne.unstable_shouldYield,Up=Ne.unstable_requestPaint,ut=Ne.unstable_now,Dp=Ne.unstable_getCurrentPriorityLevel,If=Ne.unstable_ImmediatePriority,Jf=Ne.unstable_UserBlockingPriority,kl=Ne.unstable_NormalPriority,zp=Ne.unstable_LowPriority,Zf=Ne.unstable_IdlePriority,Mp=Ne.log,Bp=Ne.unstable_setDisableYieldValue,xs=null,ot=null;function wn(t){if(typeof Mp=="function"&&Bp(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(xs,t)}catch{}}var ct=Math.clz32?Math.clz32:qp,Lp=Math.log,Hp=Math.LN2;function qp(t){return t>>>=0,t===0?32:31-(Lp(t)/Hp|0)|0}var qs=256,$s=262144,Vs=4194304;function Xn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yr(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var i=0,s=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var r=a&134217727;return r!==0?(a=r&~s,a!==0?i=Xn(a):(l&=r,l!==0?i=Xn(l):n||(n=r&~t,n!==0&&(i=Xn(n))))):(r=a&~s,r!==0?i=Xn(r):l!==0?i=Xn(l):n||(n=a&~t,n!==0&&(i=Xn(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Os(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $p(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(){var t=Vs;return Vs<<=1,!(Vs&62914560)&&(Vs=4194304),t}function Yr(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ns(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vp(t,e,n,a,i,s){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var r=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=l&~n;0<n;){var h=31-ct(n),f=1<<h;r[h]=0,u[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var m=d[h];m!==null&&(m.lane&=-536870913)}n&=~f}a!==0&&Wf(t,a,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(l&~e))}function Wf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-ct(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Ff(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-ct(n),i=1<<a;i&e|t[a]&e&&(t[a]|=e),n&=~i}}function em(t,e){var n=e&-e;return n=n&42?1:ic(n),n&(t.suspendedLanes|e)?0:n}function ic(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sc(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function tm(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function jh(t,e){var n=Z.p;try{return Z.p=t,e()}finally{Z.p=n}}var qn=Math.random().toString(36).slice(2),ze="__reactFiber$"+qn,Fe="__reactProps$"+qn,fi="__reactContainer$"+qn,Yu="__reactEvents$"+qn,Gp="__reactListeners$"+qn,Yp="__reactHandles$"+qn,Eh="__reactResources$"+qn,As="__reactMarker$"+qn;function lc(t){delete t[ze],delete t[Fe],delete t[Yu],delete t[Gp],delete t[Yp]}function Da(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kd(t);t!==null;){if(n=t[ze])return n;t=kd(t)}return e}t=n,n=t.parentNode}return null}function mi(t){if(t=t[ze]||t[fi]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Di(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(E(33))}function Ka(t){var e=t[Eh];return e||(e=t[Eh]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ke(t){t[As]=!0}var nm=new Set,am={};function fa(t,e){ei(t,e),ei(t+"Capture",e)}function ei(t,e){for(am[t]=e,t=0;t<e.length;t++)nm.add(e[t])}var Kp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Th={},xh={};function Qp(t){return Gu.call(xh,t)?!0:Gu.call(Th,t)?!1:Kp.test(t)?xh[t]=!0:(Th[t]=!0,!1)}function hl(t,e,n){if(Qp(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Gs(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Gt(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function vt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function im(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xp(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){if(!t._valueTracker){var e=im(t)?"checked":"value";t._valueTracker=Xp(t,e,""+t[e])}}function sm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=im(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ip=/[\n"\\]/g;function bt(t){return t.replace(Ip,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qu(t,e,n,a,i,s,l,r){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+vt(e)):t.value!==""+vt(e)&&(t.value=""+vt(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?Xu(t,l,vt(e)):n!=null?Xu(t,l,vt(n)):a!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.name=""+vt(r):t.removeAttribute("name")}function lm(t,e,n,a,i,s,l,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Ku(t);return}n=n!=null?""+vt(n):"",e=e!=null?""+vt(e):n,r||e===t.value||(t.value=e),t.defaultValue=e}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=r?t.checked:!!a,t.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),Ku(t)}function Xu(t,e,n){e==="number"&&Rl(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qa(t,e,n,a){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&a&&(t[n].defaultSelected=!0)}else{for(n=""+vt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,a&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rm(t,e,n){if(e!=null&&(e=""+vt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+vt(n):""}function um(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(E(92));if(Ui(a)){if(1<a.length)throw Error(E(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=vt(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Ku(t)}function ti(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oh(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Jp.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function om(t,e,n){if(e!=null&&typeof e!="object")throw Error(E(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var i in e)a=e[i],e.hasOwnProperty(i)&&n[i]!==a&&Oh(t,i,a)}else for(var s in e)e.hasOwnProperty(s)&&Oh(t,s,e[s])}function rc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(t){return Pp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ft(){}var Iu=null;function uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var za=null,Xa=null;function Nh(t){var e=mi(t);if(e&&(t=e.stateNode)){var n=t[Fe]||null;e:switch(t=e.stateNode,e.type){case"input":if(Qu(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var i=a[Fe]||null;if(!i)throw Error(E(90));Qu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&sm(a)}break e;case"textarea":rm(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Qa(t,!!n.multiple,e,!1)}}}var Kr=!1;function cm(t,e,n){if(Kr)return t(e,n);Kr=!0;try{var a=t(e);return a}finally{if(Kr=!1,(za!==null||Xa!==null)&&(Ar(),za&&(e=za,t=Xa,Xa=za=null,Nh(e),t)))for(e=0;e<t.length;e++)Nh(t[e])}}function is(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Fe]||null;if(a===null)return null;n=a[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=!1;if(sn)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Ju=!1}var jn=null,oc=null,fl=null;function hm(){if(fl)return fl;var t,e=oc,n=e.length,a,i="value"in jn?jn.value:jn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(a=1;a<=l&&e[n-a]===i[s-a];a++);return fl=i.slice(t,1<a?1-a:void 0)}function ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function Ah(){return!1}function et(t){function e(n,a,i,s,l){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],this[r]=n?n(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ys:Ah,this.isPropagationStopped=Ah,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=et(ma),Cs=he({},ma,{view:0,detail:0}),Wp=et(Cs),Qr,Xr,Oi,br=he({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Qr=t.screenX-Oi.screenX,Xr=t.screenY-Oi.screenY):Xr=Qr=0,Oi=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Xr}}),Ch=et(br),Fp=he({},br,{dataTransfer:0}),e0=et(Fp),t0=he({},Cs,{relatedTarget:0}),Ir=et(t0),n0=he({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=et(n0),i0=he({},ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s0=et(i0),l0=he({},ma,{data:0}),kh=et(l0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o0[t])?!!e[t]:!1}function cc(){return c0}var h0=he({},Cs,{key:function(t){if(t.key){var e=r0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cc,charCode:function(t){return t.type==="keypress"?ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d0=et(h0),f0=he({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=et(f0),m0=he({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cc}),g0=et(m0),v0=he({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=et(v0),p0=he({},br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b0=et(p0),_0=he({},ma,{newState:0,oldState:0}),S0=et(_0),w0=[9,13,27,32],hc=sn&&"CompositionEvent"in window,Hi=null;sn&&"documentMode"in document&&(Hi=document.documentMode);var j0=sn&&"TextEvent"in window&&!Hi,dm=sn&&(!hc||Hi&&8<Hi&&11>=Hi),Uh=" ",Dh=!1;function fm(t,e){switch(t){case"keyup":return w0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function E0(t,e){switch(t){case"compositionend":return mm(e);case"keypress":return e.which!==32?null:(Dh=!0,Uh);case"textInput":return t=e.data,t===Uh&&Dh?null:t;default:return null}}function T0(t,e){if(Ma)return t==="compositionend"||!hc&&fm(t,e)?(t=hm(),fl=oc=jn=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dm&&e.locale!=="ko"?null:e.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x0[t.type]:e==="textarea"}function gm(t,e,n,a){za?Xa?Xa.push(a):Xa=[a]:za=a,e=Zl(e,"onChange"),0<e.length&&(n=new pr("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var qi=null,ss=null;function O0(t){cv(t,0)}function _r(t){var e=Di(t);if(sm(e))return t}function Mh(t,e){if(t==="change")return e}var vm=!1;if(sn){var Jr;if(sn){var Zr="oninput"in document;if(!Zr){var Bh=document.createElement("div");Bh.setAttribute("oninput","return;"),Zr=typeof Bh.oninput=="function"}Jr=Zr}else Jr=!1;vm=Jr&&(!document.documentMode||9<document.documentMode)}function Lh(){qi&&(qi.detachEvent("onpropertychange",ym),ss=qi=null)}function ym(t){if(t.propertyName==="value"&&_r(ss)){var e=[];gm(e,ss,t,uc(t)),cm(O0,e)}}function N0(t,e,n){t==="focusin"?(Lh(),qi=e,ss=n,qi.attachEvent("onpropertychange",ym)):t==="focusout"&&Lh()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _r(ss)}function C0(t,e){if(t==="click")return _r(e)}function k0(t,e){if(t==="input"||t==="change")return _r(e)}function R0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dt=typeof Object.is=="function"?Object.is:R0;function ls(t,e){if(dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Gu.call(e,i)||!dt(t[i],e[i]))return!1}return!0}function Hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qh(t,e){var n=Hh(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hh(n)}}function pm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Rl(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function dc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var U0=sn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Zu=null,$i=null,Pu=!1;function $h(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pu||Ba==null||Ba!==Rl(a)||(a=Ba,"selectionStart"in a&&dc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),$i&&ls($i,a)||($i=a,a=Zl(Zu,"onSelect"),0<a.length&&(e=new pr("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=Ba)))}function Gn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},Pr={},_m={};sn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function ga(t){if(Pr[t])return Pr[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _m)return Pr[t]=e[n];return t}var Sm=ga("animationend"),wm=ga("animationiteration"),jm=ga("animationstart"),D0=ga("transitionrun"),z0=ga("transitionstart"),M0=ga("transitioncancel"),Em=ga("transitionend"),Tm=new Map,Wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wu.push("scrollEnd");function Ut(t,e){Tm.set(t,e),fa(e,[t])}var Ul=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gt=[],Ha=0,fc=0;function Sr(){for(var t=Ha,e=fc=Ha=0;e<t;){var n=gt[e];gt[e++]=null;var a=gt[e];gt[e++]=null;var i=gt[e];gt[e++]=null;var s=gt[e];if(gt[e++]=null,a!==null&&i!==null){var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}s!==0&&xm(n,i,s)}}function wr(t,e,n,a){gt[Ha++]=t,gt[Ha++]=e,gt[Ha++]=n,gt[Ha++]=a,fc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function mc(t,e,n,a){return wr(t,e,n,a),Dl(t)}function va(t,e){return wr(t,null,null,e),Dl(t)}function xm(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-ct(n),t=s.hiddenUpdates,a=t[i],a===null?t[i]=[e]:a.push(e),e.lane=n|536870912),s):null}function Dl(t){if(50<Zi)throw Zi=0,_o=null,Error(E(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qa={};function B0(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,a){return new B0(t,e,n,a)}function gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tn(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Om(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function gl(t,e,n,a,i,s){var l=0;if(a=t,typeof t=="function")gc(t)&&(l=1);else if(typeof t=="string")l=Vb(t,n,Lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Hu:return t=it(31,n,e,i),t.elementType=Hu,t.lanes=s,t;case Ra:return na(n.children,i,s,e);case Qf:l=8,i|=24;break;case Mu:return t=it(12,n,e,i|2),t.elementType=Mu,t.lanes=s,t;case Bu:return t=it(13,n,e,i),t.elementType=Bu,t.lanes=s,t;case Lu:return t=it(19,n,e,i),t.elementType=Lu,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wt:l=10;break e;case Xf:l=9;break e;case tc:l=11;break e;case nc:l=14;break e;case mn:l=16,a=null;break e}l=29,n=Error(E(130,t===null?"null":typeof t,"")),a=null}return e=it(l,n,e,i),e.elementType=t,e.type=a,e.lanes=s,e}function na(t,e,n,a){return t=it(7,t,a,e),t.lanes=n,t}function Wr(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function Nm(t){var e=it(18,null,null,0);return e.stateNode=t,e}function Fr(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Vh=new WeakMap;function _t(t,e){if(typeof t=="object"&&t!==null){var n=Vh.get(t);return n!==void 0?n:(e={value:t,source:e,stack:wh(e)},Vh.set(t,e),e)}return{value:t,source:e,stack:wh(e)}}var $a=[],Va=0,zl=null,rs=0,yt=[],pt=0,Mn=null,zt=1,Mt="";function Zt(t,e){$a[Va++]=rs,$a[Va++]=zl,zl=t,rs=e}function Am(t,e,n){yt[pt++]=zt,yt[pt++]=Mt,yt[pt++]=Mn,Mn=t;var a=zt;t=Mt;var i=32-ct(a)-1;a&=~(1<<i),n+=1;var s=32-ct(e)+i;if(30<s){var l=i-i%5;s=(a&(1<<l)-1).toString(32),a>>=l,i-=l,zt=1<<32-ct(e)+i|n<<i|a,Mt=s+t}else zt=1<<s|n<<i|a,Mt=t}function vc(t){t.return!==null&&(Zt(t,1),Am(t,1,0))}function yc(t){for(;t===zl;)zl=$a[--Va],$a[Va]=null,rs=$a[--Va],$a[Va]=null;for(;t===Mn;)Mn=yt[--pt],yt[pt]=null,Mt=yt[--pt],yt[pt]=null,zt=yt[--pt],yt[pt]=null}function Cm(t,e){yt[pt++]=zt,yt[pt++]=Mt,yt[pt++]=Mn,zt=e.id,Mt=e.overflow,Mn=t}var Me=null,oe=null,X=!1,Nn=null,St=!1,Fu=Error(E(519));function Bn(t){var e=Error(E(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw us(_t(e,t)),Fu}function Gh(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ze]=t,e[Fe]=a,n){case"dialog":Y("cancel",e),Y("close",e);break;case"iframe":case"object":case"embed":Y("load",e);break;case"video":case"audio":for(n=0;n<ds.length;n++)Y(ds[n],e);break;case"source":Y("error",e);break;case"img":case"image":case"link":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"input":Y("invalid",e),lm(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Y("invalid",e);break;case"textarea":Y("invalid",e),um(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||dv(e.textContent,n)?(a.popover!=null&&(Y("beforetoggle",e),Y("toggle",e)),a.onScroll!=null&&Y("scroll",e),a.onScrollEnd!=null&&Y("scrollend",e),a.onClick!=null&&(e.onclick=Ft),e=!0):e=!1,e||Bn(t,!0)}function Yh(t){for(Me=t.return;Me;)switch(Me.tag){case 5:case 31:case 13:St=!1;return;case 27:case 3:St=!0;return;default:Me=Me.return}}function _a(t){if(t!==Me)return!1;if(!X)return Yh(t),X=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||To(t.type,t.memoizedProps)),n=!n),n&&oe&&Bn(t),Yh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));oe=Cd(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));oe=Cd(t)}else e===27?(e=oe,$n(t.type)?(t=Ao,Ao=null,oe=t):oe=e):oe=Me?jt(t.stateNode.nextSibling):null;return!0}function ra(){oe=Me=null,X=!1}function eu(){var t=Nn;return t!==null&&(Ze===null?Ze=t:Ze.push.apply(Ze,t),Nn=null),t}function us(t){Nn===null?Nn=[t]:Nn.push(t)}var eo=Ht(null),ya=null,en=null;function vn(t,e,n){se(eo,e._currentValue),e._currentValue=n}function nn(t){t._currentValue=eo.current,Re(eo)}function to(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function no(t,e,n,a){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var l=i.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=i;for(var u=0;u<e.length;u++)if(r.context===e[u]){s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),to(s.return,n,t),a||(l=null);break e}s=r.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(E(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),to(l,n,t),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function gi(t,e,n,a){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(E(387));if(l=l.memoizedProps,l!==null){var r=i.type;dt(i.pendingProps.value,l.value)||(t!==null?t.push(r):t=[r])}}else if(i===Nl.current){if(l=i.alternate,l===null)throw Error(E(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(ms):t=[ms])}i=i.return}t!==null&&no(e,t,n,a),e.flags|=262144}function Ml(t){for(t=t.firstContext;t!==null;){if(!dt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){ya=t,en=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return km(ya,t)}function Ks(t,e){return ya===null&&ua(t),km(t,e)}function km(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},en===null){if(t===null)throw Error(E(308));en=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else en=en.next=e;return n}var L0=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},H0=Ne.unstable_scheduleCallback,q0=Ne.unstable_NormalPriority,je={$$typeof:Wt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pc(){return{controller:new L0,data:new Map,refCount:0}}function ks(t){t.refCount--,t.refCount===0&&H0(q0,function(){t.controller.abort()})}var Vi=null,ao=0,ni=0,Ia=null;function $0(t,e){if(Vi===null){var n=Vi=[];ao=0,ni=Gc(),Ia={status:"pending",value:void 0,then:function(a){n.push(a)}}}return ao++,e.then(Kh,Kh),e}function Kh(){if(--ao===0&&Vi!==null){Ia!==null&&(Ia.status="fulfilled");var t=Vi;Vi=null,ni=0,Ia=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function V0(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var Qh=H.S;H.S=function(t,e){Kg=ut(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&$0(t,e),Qh!==null&&Qh(t,e)};var aa=Ht(null);function bc(){var t=aa.current;return t!==null?t:ae.pooledCache}function vl(t,e){e===null?se(aa,aa.current):se(aa,e.pool)}function Rm(){var t=bc();return t===null?null:{parent:je._currentValue,pool:t}}var vi=Error(E(460)),_c=Error(E(474)),jr=Error(E(542)),Bl={then:function(){}};function Xh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Um(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ft,Ft),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jh(t),t;default:if(typeof e.status=="string")e.then(Ft,Ft);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(E(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=a}},function(a){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Jh(t),t}throw ia=e,vi}}function In(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ia=n,vi):n}}var ia=null;function Ih(){if(ia===null)throw Error(E(459));var t=ia;return ia=null,t}function Jh(t){if(t===vi||t===jr)throw Error(E(483))}var Ja=null,os=0;function Qs(t){var e=os;return os+=1,Ja===null&&(Ja=[]),Um(Ja,t,e)}function Ni(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Xs(t,e){throw e.$$typeof===Np?Error(E(525)):(t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Dm(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function a(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=tn(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function r(y,g,v,b){return g===null||g.tag!==6?(g=Wr(v,y.mode,b),g.return=y,g):(g=i(g,v),g.return=y,g)}function u(y,g,v,b){var T=v.type;return T===Ra?h(y,g,v.props.children,b,v.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mn&&In(T)===g.type)?(g=i(g,v.props),Ni(g,v),g.return=y,g):(g=gl(v.type,v.key,v.props,null,y.mode,b),Ni(g,v),g.return=y,g)}function c(y,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Fr(v,y.mode,b),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function h(y,g,v,b,T){return g===null||g.tag!==7?(g=na(v,y.mode,b,T),g.return=y,g):(g=i(g,v),g.return=y,g)}function f(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Wr(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:return v=gl(g.type,g.key,g.props,null,y.mode,v),Ni(v,g),v.return=y,v;case Ri:return g=Fr(g,y.mode,v),g.return=y,g;case mn:return g=In(g),f(y,g,v)}if(Ui(g)||Ti(g))return g=na(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return f(y,Qs(g),v);if(g.$$typeof===Wt)return f(y,Ks(y,g),v);Xs(y,g)}return null}function d(y,g,v,b){var T=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return T!==null?null:r(y,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hs:return v.key===T?u(y,g,v,b):null;case Ri:return v.key===T?c(y,g,v,b):null;case mn:return v=In(v),d(y,g,v,b)}if(Ui(v)||Ti(v))return T!==null?null:h(y,g,v,b,null);if(typeof v.then=="function")return d(y,g,Qs(v),b);if(v.$$typeof===Wt)return d(y,g,Ks(y,v),b);Xs(y,v)}return null}function m(y,g,v,b,T){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return y=y.get(v)||null,r(g,y,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hs:return y=y.get(b.key===null?v:b.key)||null,u(g,y,b,T);case Ri:return y=y.get(b.key===null?v:b.key)||null,c(g,y,b,T);case mn:return b=In(b),m(y,g,v,b,T)}if(Ui(b)||Ti(b))return y=y.get(v)||null,h(g,y,b,T,null);if(typeof b.then=="function")return m(y,g,v,Qs(b),T);if(b.$$typeof===Wt)return m(y,g,v,Ks(g,b),T);Xs(g,b)}return null}function p(y,g,v,b){for(var T=null,O=null,j=g,R=g=0,D=null;j!==null&&R<v.length;R++){j.index>R?(D=j,j=null):D=j.sibling;var M=d(y,j,v[R],b);if(M===null){j===null&&(j=D);break}t&&j&&M.alternate===null&&e(y,j),g=s(M,g,R),O===null?T=M:O.sibling=M,O=M,j=D}if(R===v.length)return n(y,j),X&&Zt(y,R),T;if(j===null){for(;R<v.length;R++)j=f(y,v[R],b),j!==null&&(g=s(j,g,R),O===null?T=j:O.sibling=j,O=j);return X&&Zt(y,R),T}for(j=a(j);R<v.length;R++)D=m(j,y,R,v[R],b),D!==null&&(t&&D.alternate!==null&&j.delete(D.key===null?R:D.key),g=s(D,g,R),O===null?T=D:O.sibling=D,O=D);return t&&j.forEach(function(N){return e(y,N)}),X&&Zt(y,R),T}function _(y,g,v,b){if(v==null)throw Error(E(151));for(var T=null,O=null,j=g,R=g=0,D=null,M=v.next();j!==null&&!M.done;R++,M=v.next()){j.index>R?(D=j,j=null):D=j.sibling;var N=d(y,j,M.value,b);if(N===null){j===null&&(j=D);break}t&&j&&N.alternate===null&&e(y,j),g=s(N,g,R),O===null?T=N:O.sibling=N,O=N,j=D}if(M.done)return n(y,j),X&&Zt(y,R),T;if(j===null){for(;!M.done;R++,M=v.next())M=f(y,M.value,b),M!==null&&(g=s(M,g,R),O===null?T=M:O.sibling=M,O=M);return X&&Zt(y,R),T}for(j=a(j);!M.done;R++,M=v.next())M=m(j,y,R,M.value,b),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?R:M.key),g=s(M,g,R),O===null?T=M:O.sibling=M,O=M);return t&&j.forEach(function(G){return e(y,G)}),X&&Zt(y,R),T}function S(y,g,v,b){if(typeof v=="object"&&v!==null&&v.type===Ra&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hs:e:{for(var T=v.key;g!==null;){if(g.key===T){if(T=v.type,T===Ra){if(g.tag===7){n(y,g.sibling),b=i(g,v.props.children),b.return=y,y=b;break e}}else if(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mn&&In(T)===g.type){n(y,g.sibling),b=i(g,v.props),Ni(b,v),b.return=y,y=b;break e}n(y,g);break}else e(y,g);g=g.sibling}v.type===Ra?(b=na(v.props.children,y.mode,b,v.key),b.return=y,y=b):(b=gl(v.type,v.key,v.props,null,y.mode,b),Ni(b,v),b.return=y,y=b)}return l(y);case Ri:e:{for(T=v.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),b=i(g,v.children||[]),b.return=y,y=b;break e}else{n(y,g);break}else e(y,g);g=g.sibling}b=Fr(v,y.mode,b),b.return=y,y=b}return l(y);case mn:return v=In(v),S(y,g,v,b)}if(Ui(v))return p(y,g,v,b);if(Ti(v)){if(T=Ti(v),typeof T!="function")throw Error(E(150));return v=T.call(v),_(y,g,v,b)}if(typeof v.then=="function")return S(y,g,Qs(v),b);if(v.$$typeof===Wt)return S(y,g,Ks(y,v),b);Xs(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),b=i(g,v),b.return=y,y=b):(n(y,g),b=Wr(v,y.mode,b),b.return=y,y=b),l(y)):n(y,g)}return function(y,g,v,b){try{os=0;var T=S(y,g,v,b);return Ja=null,T}catch(j){if(j===vi||j===jr)throw j;var O=it(29,j,null,y.mode);return O.lanes=b,O.return=y,O}finally{}}}var oa=Dm(!0),zm=Dm(!1),gn=!1;function Sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function An(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,J&2){var i=a.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),a.pending=e,e=Dl(t),xm(t,null,n),e}return wr(t,a,e,n),Dl(t)}function Gi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Ff(t,n)}}function tu(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var so=!1;function Yi(){if(so){var t=Ia;if(t!==null)throw t}}function Ki(t,e,n,a){so=!1;var i=t.updateQueue;gn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var u=r,c=u.next;u.next=null,l===null?s=c:l.next=c,l=u;var h=t.alternate;h!==null&&(h=h.updateQueue,r=h.lastBaseUpdate,r!==l&&(r===null?h.firstBaseUpdate=c:r.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;l=0,h=c=u=null,r=s;do{var d=r.lane&-536870913,m=d!==r.lane;if(m?(Q&d)===d:(a&d)===d){d!==0&&d===ni&&(so=!0),h!==null&&(h=h.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var p=t,_=r;d=e;var S=n;switch(_.tag){case 1:if(p=_.payload,typeof p=="function"){f=p.call(S,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=_.payload,d=typeof p=="function"?p.call(S,f,d):p,d==null)break e;f=he({},f,d);break e;case 2:gn=!0}}d=r.callback,d!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[d]:m.push(d))}else m={lane:d,tag:r.tag,payload:r.payload,callback:r.callback,next:null},h===null?(c=h=m,u=f):h=h.next=m,l|=d;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;m=r,r=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Hn|=l,t.lanes=l,t.memoizedState=f}}function Mm(t,e){if(typeof t!="function")throw Error(E(191,t));t.call(e)}function Bm(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Mm(n[t],e)}var ai=Ht(null),Ll=Ht(0);function Zh(t,e){t=on,se(Ll,t),se(ai,e),on=t|e.baseLanes}function lo(){se(Ll,on),se(ai,ai.current)}function wc(){on=Ll.current,Re(ai),Re(Ll)}var ft=Ht(null),wt=null;function yn(t){var e=t.alternate;se(ve,ve.current&1),se(ft,t),wt===null&&(e===null||ai.current!==null||e.memoizedState!==null)&&(wt=t)}function ro(t){se(ve,ve.current),se(ft,t),wt===null&&(wt=t)}function Lm(t){t.tag===22?(se(ve,ve.current),se(ft,t),wt===null&&(wt=t)):pn()}function pn(){se(ve,ve.current),se(ft,ft.current)}function at(t){Re(ft),wt===t&&(wt=null),Re(ve)}var ve=Ht(0);function Hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Oo(n)||No(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ln=0,V=null,ne=null,Se=null,ql=!1,Za=!1,ca=!1,$l=0,cs=0,Pa=null,G0=0;function me(){throw Error(E(321))}function jc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dt(t[n],e[n]))return!1;return!0}function Ec(t,e,n,a,i,s){return ln=s,V=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?gg:zc,ca=!1,s=n(a,i),ca=!1,Za&&(s=qm(e,n,a,i)),Hm(t),s}function Hm(t){H.H=hs;var e=ne!==null&&ne.next!==null;if(ln=0,Se=ne=V=null,ql=!1,cs=0,Pa=null,e)throw Error(E(300));t===null||Ee||(t=t.dependencies,t!==null&&Ml(t)&&(Ee=!0))}function qm(t,e,n,a){V=t;var i=0;do{if(Za&&(Pa=null),cs=0,Za=!1,25<=i)throw Error(E(301));if(i+=1,Se=ne=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}H.H=vg,s=e(n,a)}while(Za);return s}function Y0(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?Rs(e):e,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(V.flags|=1024),e}function Tc(){var t=$l!==0;return $l=0,t}function xc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Oc(t){if(ql){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ql=!1}ln=0,Se=ne=V=null,Za=!1,cs=$l=0,Pa=null}function Ve(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?V.memoizedState=Se=t:Se=Se.next=t,Se}function pe(){if(ne===null){var t=V.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=Se===null?V.memoizedState:Se.next;if(e!==null)Se=e,ne=t;else{if(t===null)throw V.alternate===null?Error(E(467)):Error(E(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Se===null?V.memoizedState=Se=t:Se=Se.next=t}return Se}function Er(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rs(t){var e=cs;return cs+=1,Pa===null&&(Pa=[]),t=Um(Pa,t,e),e=V,(Se===null?e.memoizedState:Se.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?gg:zc),t}function Tr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rs(t);if(t.$$typeof===Wt)return Be(t)}throw Error(E(438,String(t)))}function Nc(t){var e=null,n=V.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=V.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Er(),V.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=Ap;return e.index++,n}function rn(t,e){return typeof e=="function"?e(t):e}function yl(t){var e=pe();return Ac(e,ne,t)}function Ac(t,e,n){var a=t.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=n;var i=t.baseQueue,s=a.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}e.baseQueue=i=s,a.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var r=l=null,u=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Q&f)===f:(ln&f)===f){var d=c.revertLane;if(d===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===ni&&(h=!0);else if((ln&d)===d){c=c.next,d===ni&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=f,l=s):u=u.next=f,V.lanes|=d,Hn|=d;f=c.action,ca&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(r=u=d,l=s):u=u.next=d,V.lanes|=f,Hn|=f;c=c.next}while(c!==null&&c!==e);if(u===null?l=s:u.next=r,!dt(s,t.memoizedState)&&(Ee=!0,h&&(n=Ia,n!==null)))throw n;t.memoizedState=s,t.baseState=l,t.baseQueue=u,a.lastRenderedState=s}return i===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function nu(t){var e=pe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var a=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);dt(s,e.memoizedState)||(Ee=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function $m(t,e,n){var a=V,i=pe(),s=X;if(s){if(n===void 0)throw Error(E(407));n=n()}else n=e();var l=!dt((ne||i).memoizedState,n);if(l&&(i.memoizedState=n,Ee=!0),i=i.queue,Cc(Ym.bind(null,a,i,t),[t]),i.getSnapshot!==e||l||Se!==null&&Se.memoizedState.tag&1){if(a.flags|=2048,ii(9,{destroy:void 0},Gm.bind(null,a,i,n,e),null),ae===null)throw Error(E(349));s||ln&127||Vm(a,e,n)}return n}function Vm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=V.updateQueue,e===null?(e=Er(),V.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gm(t,e,n,a){e.value=n,e.getSnapshot=a,Km(e)&&Qm(t)}function Ym(t,e,n){return n(function(){Km(e)&&Qm(t)})}function Km(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dt(t,n)}catch{return!0}}function Qm(t){var e=va(t,2);e!==null&&We(e,t,2)}function uo(t){var e=Ve();if(typeof t=="function"){var n=t;if(t=n(),ca){wn(!0);try{n()}finally{wn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:t},e}function Xm(t,e,n,a){return t.baseState=n,Ac(t,ne,typeof a=="function"?a:rn)}function K0(t,e,n,a,i){if(Or(t))throw Error(E(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};H.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Im(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Im(t,e){var n=e.action,a=e.payload,i=t.state;if(e.isTransition){var s=H.T,l={};H.T=l;try{var r=n(i,a),u=H.S;u!==null&&u(l,r),Ph(t,e,r)}catch(c){oo(t,e,c)}finally{s!==null&&l.types!==null&&(s.types=l.types),H.T=s}}else try{s=n(i,a),Ph(t,e,s)}catch(c){oo(t,e,c)}}function Ph(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Wh(t,e,a)},function(a){return oo(t,e,a)}):Wh(t,e,n)}function Wh(t,e,n){e.status="fulfilled",e.value=n,Jm(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Im(t,n)))}function oo(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Jm(e),e=e.next;while(e!==a)}t.action=null}function Jm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Zm(t,e){return e}function Fh(t,e){if(X){var n=ae.formState;if(n!==null){e:{var a=V;if(X){if(oe){t:{for(var i=oe,s=St;i.nodeType!==8;){if(!s){i=null;break t}if(i=jt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){oe=jt(i.nextSibling),a=i.data==="F!";break e}}Bn(a)}a=!1}a&&(e=n[0])}}return n=Ve(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:e},n.queue=a,n=dg.bind(null,V,a),a.dispatch=n,a=uo(!1),s=Dc.bind(null,V,!1,a.queue),a=Ve(),i={state:e,dispatch:null,action:t,pending:null},a.queue=i,n=K0.bind(null,V,i,s,n),i.dispatch=n,a.memoizedState=t,[e,n,!1]}function ed(t){var e=pe();return Pm(e,ne,t)}function Pm(t,e,n){if(e=Ac(t,e,Zm)[0],t=yl(rn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Rs(e)}catch(l){throw l===vi?jr:l}else a=e;e=pe();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(V.flags|=2048,ii(9,{destroy:void 0},Q0.bind(null,i,n),null)),[a,s,t]}function Q0(t,e){t.action=e}function td(t){var e=pe(),n=ne;if(n!==null)return Pm(e,n,t);pe(),e=e.memoizedState,n=pe();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function ii(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=V.updateQueue,e===null&&(e=Er(),V.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Wm(){return pe().memoizedState}function pl(t,e,n,a){var i=Ve();V.flags|=t,i.memoizedState=ii(1|e,{destroy:void 0},n,a===void 0?null:a)}function xr(t,e,n,a){var i=pe();a=a===void 0?null:a;var s=i.memoizedState.inst;ne!==null&&a!==null&&jc(a,ne.memoizedState.deps)?i.memoizedState=ii(e,s,n,a):(V.flags|=t,i.memoizedState=ii(1|e,s,n,a))}function nd(t,e){pl(8390656,8,t,e)}function Cc(t,e){xr(2048,8,t,e)}function X0(t){V.flags|=4;var e=V.updateQueue;if(e===null)e=Er(),V.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Fm(t){var e=pe().memoizedState;return X0({ref:e,nextImpl:t}),function(){if(J&2)throw Error(E(440));return e.impl.apply(void 0,arguments)}}function eg(t,e){return xr(4,2,t,e)}function tg(t,e){return xr(4,4,t,e)}function ng(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ag(t,e,n){n=n!=null?n.concat([t]):null,xr(4,4,ng.bind(null,e,t),n)}function kc(){}function ig(t,e){var n=pe();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&jc(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function sg(t,e){var n=pe();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&jc(e,a[1]))return a[0];if(a=t(),ca){wn(!0);try{t()}finally{wn(!1)}}return n.memoizedState=[a,e],a}function Rc(t,e,n){return n===void 0||ln&1073741824&&!(Q&261930)?t.memoizedState=e:(t.memoizedState=n,t=Xg(),V.lanes|=t,Hn|=t,n)}function lg(t,e,n,a){return dt(n,e)?n:ai.current!==null?(t=Rc(t,n,a),dt(t,e)||(Ee=!0),t):!(ln&42)||ln&1073741824&&!(Q&261930)?(Ee=!0,t.memoizedState=n):(t=Xg(),V.lanes|=t,Hn|=t,e)}function rg(t,e,n,a,i){var s=Z.p;Z.p=s!==0&&8>s?s:8;var l=H.T,r={};H.T=r,Dc(t,!1,e,n);try{var u=i(),c=H.S;if(c!==null&&c(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=V0(u,a);Qi(t,e,h,ht(t))}else Qi(t,e,a,ht(t))}catch(f){Qi(t,e,{then:function(){},status:"rejected",reason:f},ht())}finally{Z.p=s,l!==null&&r.types!==null&&(l.types=r.types),H.T=l}}function I0(){}function co(t,e,n,a){if(t.tag!==5)throw Error(E(476));var i=ug(t).queue;rg(t,i,e,ta,n===null?I0:function(){return og(t),n(a)})}function ug(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ta,baseState:ta,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:ta},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function og(t){var e=ug(t);e.next===null&&(e=t.alternate.memoizedState),Qi(t,e.next.queue,{},ht())}function Uc(){return Be(ms)}function cg(){return pe().memoizedState}function hg(){return pe().memoizedState}function J0(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ht();t=An(n);var a=Cn(e,t,n);a!==null&&(We(a,e,n),Gi(a,e,n)),e={cache:pc()},t.payload=e;return}e=e.return}}function Z0(t,e,n){var a=ht();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Or(t)?fg(e,n):(n=mc(t,e,n,a),n!==null&&(We(n,t,a),mg(n,e,a)))}function dg(t,e,n){var a=ht();Qi(t,e,n,a)}function Qi(t,e,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Or(t))fg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,r=s(l,n);if(i.hasEagerState=!0,i.eagerState=r,dt(r,l))return wr(t,e,i,0),ae===null&&Sr(),!1}catch{}finally{}if(n=mc(t,e,i,a),n!==null)return We(n,t,a),mg(n,e,a),!0}return!1}function Dc(t,e,n,a){if(a={lane:2,revertLane:Gc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Or(t)){if(e)throw Error(E(479))}else e=mc(t,n,a,2),e!==null&&We(e,t,2)}function Or(t){var e=t.alternate;return t===V||e!==null&&e===V}function fg(t,e){Za=ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mg(t,e,n){if(n&4194048){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Ff(t,n)}}var hs={readContext:Be,use:Tr,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};hs.useEffectEvent=me;var gg={readContext:Be,use:Tr,useCallback:function(t,e){return Ve().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:nd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,pl(4194308,4,ng.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pl(4194308,4,t,e)},useInsertionEffect:function(t,e){pl(4,2,t,e)},useMemo:function(t,e){var n=Ve();e=e===void 0?null:e;var a=t();if(ca){wn(!0);try{t()}finally{wn(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=Ve();if(n!==void 0){var i=n(e);if(ca){wn(!0);try{n(e)}finally{wn(!1)}}}else i=e;return a.memoizedState=a.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},a.queue=t,t=t.dispatch=Z0.bind(null,V,t),[a.memoizedState,t]},useRef:function(t){var e=Ve();return t={current:t},e.memoizedState=t},useState:function(t){t=uo(t);var e=t.queue,n=dg.bind(null,V,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kc,useDeferredValue:function(t,e){var n=Ve();return Rc(n,t,e)},useTransition:function(){var t=uo(!1);return t=rg.bind(null,V,t.queue,!0,!1),Ve().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=V,i=Ve();if(X){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ae===null)throw Error(E(349));Q&127||Vm(a,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nd(Ym.bind(null,a,s,t),[t]),a.flags|=2048,ii(9,{destroy:void 0},Gm.bind(null,a,s,n,e),null),n},useId:function(){var t=Ve(),e=ae.identifierPrefix;if(X){var n=Mt,a=zt;n=(a&~(1<<32-ct(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=$l++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=G0++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Uc,useFormState:Fh,useActionState:Fh,useOptimistic:function(t){var e=Ve();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Dc.bind(null,V,!0,n),n.dispatch=e,[t,e]},useMemoCache:Nc,useCacheRefresh:function(){return Ve().memoizedState=J0.bind(null,V)},useEffectEvent:function(t){var e=Ve(),n={impl:t};return e.memoizedState=n,function(){if(J&2)throw Error(E(440));return n.impl.apply(void 0,arguments)}}},zc={readContext:Be,use:Tr,useCallback:ig,useContext:Be,useEffect:Cc,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:yl,useRef:Wm,useState:function(){return yl(rn)},useDebugValue:kc,useDeferredValue:function(t,e){var n=pe();return lg(n,ne.memoizedState,t,e)},useTransition:function(){var t=yl(rn)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Rs(t),e]},useSyncExternalStore:$m,useId:cg,useHostTransitionStatus:Uc,useFormState:ed,useActionState:ed,useOptimistic:function(t,e){var n=pe();return Xm(n,ne,t,e)},useMemoCache:Nc,useCacheRefresh:hg};zc.useEffectEvent=Fm;var vg={readContext:Be,use:Tr,useCallback:ig,useContext:Be,useEffect:Cc,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:nu,useRef:Wm,useState:function(){return nu(rn)},useDebugValue:kc,useDeferredValue:function(t,e){var n=pe();return ne===null?Rc(n,t,e):lg(n,ne.memoizedState,t,e)},useTransition:function(){var t=nu(rn)[0],e=pe().memoizedState;return[typeof t=="boolean"?t:Rs(t),e]},useSyncExternalStore:$m,useId:cg,useHostTransitionStatus:Uc,useFormState:td,useActionState:td,useOptimistic:function(t,e){var n=pe();return ne!==null?Xm(n,ne,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Nc,useCacheRefresh:hg};vg.useEffectEvent=Fm;function au(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ho={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=ht(),i=An(a);i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,a),e!==null&&(We(e,t,a),Gi(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=ht(),i=An(a);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cn(t,i,a),e!==null&&(We(e,t,a),Gi(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),a=An(n);a.tag=2,e!=null&&(a.callback=e),e=Cn(t,a,n),e!==null&&(We(e,t,n),Gi(e,t,n))}};function ad(t,e,n,a,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,l):e.prototype&&e.prototype.isPureReactComponent?!ls(n,a)||!ls(i,s):!0}function id(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&ho.enqueueReplaceState(e,e.state,null)}function ha(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=he({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function yg(t){Ul(t)}function pg(t){console.error(t)}function bg(t){Ul(t)}function Vl(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function sd(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fo(t,e,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){Vl(t,e)},n}function _g(t){return t=An(t),t.tag=3,t}function Sg(t,e,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;t.payload=function(){return i(s)},t.callback=function(){sd(e,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){sd(e,n,a),typeof i!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function P0(t,e,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&gi(e,n,i,!0),n=ft.current,n!==null){switch(n.tag){case 31:case 13:return wt===null?Xl():n.alternate===null&&ge===0&&(ge=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Bl?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),mu(t,a,i)),!1;case 22:return n.flags|=65536,a===Bl?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),mu(t,a,i)),!1}throw Error(E(435,n.tag))}return mu(t,a,i),Xl(),!1}if(X)return e=ft.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,a!==Fu&&(t=Error(E(422),{cause:a}),us(_t(t,n)))):(a!==Fu&&(e=Error(E(423),{cause:a}),us(_t(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,a=_t(a,n),i=fo(t.stateNode,a,i),tu(t,i),ge!==4&&(ge=2)),!1;var s=Error(E(520),{cause:a});if(s=_t(s,n),Ji===null?Ji=[s]:Ji.push(s),ge!==4&&(ge=2),e===null)return!0;a=_t(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fo(n.stateNode,a,t),tu(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=_g(i),Sg(i,t,n,a),tu(n,i),!1}n=n.return}while(n!==null);return!1}var Mc=Error(E(461)),Ee=!1;function De(t,e,n,a){e.child=t===null?zm(e,null,n,a):oa(e,t.child,n,a)}function ld(t,e,n,a,i){n=n.render;var s=e.ref;if("ref"in a){var l={};for(var r in a)r!=="ref"&&(l[r]=a[r])}else l=a;return ua(e),a=Ec(t,e,n,l,s,i),r=Tc(),t!==null&&!Ee?(xc(t,e,i),un(t,e,i)):(X&&r&&vc(e),e.flags|=1,De(t,e,a,i),e.child)}function rd(t,e,n,a,i){if(t===null){var s=n.type;return typeof s=="function"&&!gc(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,wg(t,e,s,a,i)):(t=gl(n.type,null,a,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Bc(t,i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ls,n(l,a)&&t.ref===e.ref)return un(t,e,i)}return e.flags|=1,t=tn(s,a),t.ref=e.ref,t.return=e,e.child=t}function wg(t,e,n,a,i){if(t!==null){var s=t.memoizedProps;if(ls(s,a)&&t.ref===e.ref)if(Ee=!1,e.pendingProps=a=s,Bc(t,i))t.flags&131072&&(Ee=!0);else return e.lanes=t.lanes,un(t,e,i)}return mo(t,e,n,a,i)}function jg(t,e,n,a){var i=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,e.child=null;return ud(t,e,s,n,a)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&vl(e,s!==null?s.cachePool:null),s!==null?Zh(e,s):lo(),Lm(e);else return a=e.lanes=536870912,ud(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(vl(e,s.cachePool),Zh(e,s),pn(),e.memoizedState=null):(t!==null&&vl(e,null),lo(),pn());return De(t,e,i,n),e.child}function zi(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ud(t,e,n,a,i){var s=bc();return s=s===null?null:{parent:je._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&vl(e,null),lo(),Lm(e),t!==null&&gi(t,e,a,!0),e.childLanes=i,null}function bl(t,e){return e=Gl({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function od(t,e,n){return oa(e,t.child,null,n),t=bl(e,e.pendingProps),t.flags|=2,at(e),e.memoizedState=null,t}function W0(t,e,n){var a=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(X){if(a.mode==="hidden")return t=bl(e,a),e.lanes=536870912,zi(null,t);if(ro(e),(t=oe)?(t=gv(t,St),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:zt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},n=Nm(t),n.return=e,e.child=n,Me=e,oe=null)):t=null,t===null)throw Bn(e);return e.lanes=536870912,null}return bl(e,a)}var s=t.memoizedState;if(s!==null){var l=s.dehydrated;if(ro(e),i)if(e.flags&256)e.flags&=-257,e=od(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(E(558));else if(Ee||gi(t,e,n,!1),i=(n&t.childLanes)!==0,Ee||i){if(a=ae,a!==null&&(l=em(a,n),l!==0&&l!==s.retryLane))throw s.retryLane=l,va(t,l),We(a,t,l),Mc;Xl(),e=od(t,e,n)}else t=s.treeContext,oe=jt(l.nextSibling),Me=e,X=!0,Nn=null,St=!1,t!==null&&Cm(e,t),e=bl(e,a),e.flags|=4096;return e}return t=tn(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function _l(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(E(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function mo(t,e,n,a,i){return ua(e),n=Ec(t,e,n,a,void 0,i),a=Tc(),t!==null&&!Ee?(xc(t,e,i),un(t,e,i)):(X&&a&&vc(e),e.flags|=1,De(t,e,n,i),e.child)}function cd(t,e,n,a,i,s){return ua(e),e.updateQueue=null,n=qm(e,a,n,i),Hm(t),a=Tc(),t!==null&&!Ee?(xc(t,e,s),un(t,e,s)):(X&&a&&vc(e),e.flags|=1,De(t,e,n,s),e.child)}function hd(t,e,n,a,i){if(ua(e),e.stateNode===null){var s=qa,l=n.contextType;typeof l=="object"&&l!==null&&(s=Be(l)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ho,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},Sc(e),l=n.contextType,s.context=typeof l=="object"&&l!==null?Be(l):qa,s.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(au(e,n,l,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&ho.enqueueReplaceState(s,s.state,null),Ki(e,a,s,i),Yi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var r=e.memoizedProps,u=ha(n,r);s.props=u;var c=s.context,h=n.contextType;l=qa,typeof h=="object"&&h!==null&&(l=Be(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=e.pendingProps!==r,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||c!==l)&&id(e,s,a,l),gn=!1;var d=e.memoizedState;s.state=d,Ki(e,a,s,i),Yi(),c=e.memoizedState,r||d!==c||gn?(typeof f=="function"&&(au(e,n,f,a),c=e.memoizedState),(u=gn||ad(e,n,u,a,d,c,l))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=c),s.props=a,s.state=c,s.context=l,a=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,io(t,e),l=e.memoizedProps,h=ha(n,l),s.props=h,f=e.pendingProps,d=s.context,c=n.contextType,u=qa,typeof c=="object"&&c!==null&&(u=Be(c)),r=n.getDerivedStateFromProps,(c=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==u)&&id(e,s,a,u),gn=!1,d=e.memoizedState,s.state=d,Ki(e,a,s,i),Yi();var m=e.memoizedState;l!==f||d!==m||gn||t!==null&&t.dependencies!==null&&Ml(t.dependencies)?(typeof r=="function"&&(au(e,n,r,a),m=e.memoizedState),(h=gn||ad(e,n,h,a,d,m,u)||t!==null&&t.dependencies!==null&&Ml(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,m,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=m),s.props=a,s.state=m,s.context=u,a=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,_l(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=oa(e,t.child,null,i),e.child=oa(e,null,n,i)):De(t,e,n,i),e.memoizedState=s.state,t=e.child):t=un(t,e,i),t}function dd(t,e,n,a){return ra(),e.flags|=256,De(t,e,n,a),e.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(t){return{baseLanes:t,cachePool:Rm()}}function lu(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rt),t}function Eg(t,e,n){var a=e.pendingProps,i=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),l&&(i=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(X){if(i?yn(e):pn(),(t=oe)?(t=gv(t,St),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:zt,overflow:Mt}:null,retryLane:536870912,hydrationErrors:null},n=Nm(t),n.return=e,e.child=n,Me=e,oe=null)):t=null,t===null)throw Bn(e);return No(t)?e.lanes=32:e.lanes=536870912,null}var r=a.children;return a=a.fallback,i?(pn(),i=e.mode,r=Gl({mode:"hidden",children:r},i),a=na(a,i,n,null),r.return=e,a.return=e,r.sibling=a,e.child=r,a=e.child,a.memoizedState=su(n),a.childLanes=lu(t,l,n),e.memoizedState=iu,zi(null,a)):(yn(e),go(e,r))}var u=t.memoizedState;if(u!==null&&(r=u.dehydrated,r!==null)){if(s)e.flags&256?(yn(e),e.flags&=-257,e=ru(t,e,n)):e.memoizedState!==null?(pn(),e.child=t.child,e.flags|=128,e=null):(pn(),r=a.fallback,i=e.mode,a=Gl({mode:"visible",children:a.children},i),r=na(r,i,n,null),r.flags|=2,a.return=e,r.return=e,a.sibling=r,e.child=a,oa(e,t.child,null,n),a=e.child,a.memoizedState=su(n),a.childLanes=lu(t,l,n),e.memoizedState=iu,e=zi(null,a));else if(yn(e),No(r)){if(l=r.nextSibling&&r.nextSibling.dataset,l)var c=l.dgst;l=c,a=Error(E(419)),a.stack="",a.digest=l,us({value:a,source:null,stack:null}),e=ru(t,e,n)}else if(Ee||gi(t,e,n,!1),l=(n&t.childLanes)!==0,Ee||l){if(l=ae,l!==null&&(a=em(l,n),a!==0&&a!==u.retryLane))throw u.retryLane=a,va(t,a),We(l,t,a),Mc;Oo(r)||Xl(),e=ru(t,e,n)}else Oo(r)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,oe=jt(r.nextSibling),Me=e,X=!0,Nn=null,St=!1,t!==null&&Cm(e,t),e=go(e,a.children),e.flags|=4096);return e}return i?(pn(),r=a.fallback,i=e.mode,u=t.child,c=u.sibling,a=tn(u,{mode:"hidden",children:a.children}),a.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=tn(c,r):(r=na(r,i,n,null),r.flags|=2),r.return=e,a.return=e,a.sibling=r,e.child=a,zi(null,a),a=e.child,r=t.child.memoizedState,r===null?r=su(n):(i=r.cachePool,i!==null?(u=je._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Rm(),r={baseLanes:r.baseLanes|n,cachePool:i}),a.memoizedState=r,a.childLanes=lu(t,l,n),e.memoizedState=iu,zi(t.child,a)):(yn(e),n=t.child,t=n.sibling,n=tn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function go(t,e){return e=Gl({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Gl(t,e){return t=it(22,t,null,e),t.lanes=0,t}function ru(t,e,n){return oa(e,t.child,null,n),t=go(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fd(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),to(t.return,e,n)}function uu(t,e,n,a,i,s){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=i,l.treeForkCount=s)}function Tg(t,e,n){var a=e.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var l=ve.current,r=(l&2)!==0;if(r?(l=l&1|2,e.flags|=128):l&=1,se(ve,l),De(t,e,a,n),a=X?rs:0,!r&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fd(t,n,e);else if(t.tag===19)fd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uu(e,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uu(e,!0,n,null,s,a);break;case"together":uu(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hn|=e.lanes,!(n&e.childLanes))if(t!==null){if(gi(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=tn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Bc(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ml(t)))}function F0(t,e,n){switch(e.tag){case 3:Al(e,e.stateNode.containerInfo),vn(e,je,t.memoizedState.cache),ra();break;case 27:case 5:Vu(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:vn(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ro(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(yn(e),e.flags|=128,null):n&e.child.childLanes?Eg(t,e,n):(yn(e),t=un(t,e,n),t!==null?t.sibling:null);yn(e);break;case 19:var i=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(gi(t,e,n,!1),a=(n&e.childLanes)!==0),i){if(a)return Tg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(ve,ve.current),a)break;return null;case 22:return e.lanes=0,jg(t,e,n,e.pendingProps);case 24:vn(e,je,t.memoizedState.cache)}return un(t,e,n)}function xg(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ee=!0;else{if(!Bc(t,n)&&!(e.flags&128))return Ee=!1,F0(t,e,n);Ee=!!(t.flags&131072)}else Ee=!1,X&&e.flags&1048576&&Am(e,rs,e.index);switch(e.lanes=0,e.tag){case 16:e:{var a=e.pendingProps;if(t=In(e.elementType),e.type=t,typeof t=="function")gc(t)?(a=ha(t,a),e.tag=1,e=hd(null,e,t,a,n)):(e.tag=0,e=mo(null,e,t,a,n));else{if(t!=null){var i=t.$$typeof;if(i===tc){e.tag=11,e=ld(null,e,t,a,n);break e}else if(i===nc){e.tag=14,e=rd(null,e,t,a,n);break e}}throw e=qu(t)||t,Error(E(306,e,""))}}return e;case 0:return mo(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,i=ha(a,e.pendingProps),hd(t,e,a,i,n);case 3:e:{if(Al(e,e.stateNode.containerInfo),t===null)throw Error(E(387));a=e.pendingProps;var s=e.memoizedState;i=s.element,io(t,e),Ki(e,a,null,n);var l=e.memoizedState;if(a=l.cache,vn(e,je,a),a!==s.cache&&no(e,[je],n,!0),Yi(),a=l.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=dd(t,e,a,n);break e}else if(a!==i){i=_t(Error(E(424)),e),us(i),e=dd(t,e,a,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=jt(t.firstChild),Me=e,X=!0,Nn=null,St=!0,n=zm(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ra(),a===i){e=un(t,e,n);break e}De(t,e,a,n)}e=e.child}return e;case 26:return _l(t,e),t===null?(n=Ud(e.type,null,e.pendingProps,null))?e.memoizedState=n:X||(n=e.type,t=e.pendingProps,a=Pl(On.current).createElement(n),a[ze]=e,a[Fe]=t,Le(a,n,t),ke(a),e.stateNode=a):e.memoizedState=Ud(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Vu(e),t===null&&X&&(a=e.stateNode=vv(e.type,e.pendingProps,On.current),Me=e,St=!0,i=oe,$n(e.type)?(Ao=i,oe=jt(a.firstChild)):oe=i),De(t,e,e.pendingProps.children,n),_l(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&X&&((i=a=oe)&&(a=Ab(a,e.type,e.pendingProps,St),a!==null?(e.stateNode=a,Me=e,oe=jt(a.firstChild),St=!1,i=!0):i=!1),i||Bn(e)),Vu(e),i=e.type,s=e.pendingProps,l=t!==null?t.memoizedProps:null,a=s.children,To(i,s)?a=null:l!==null&&To(i,l)&&(e.flags|=32),e.memoizedState!==null&&(i=Ec(t,e,Y0,null,null,n),ms._currentValue=i),_l(t,e),De(t,e,a,n),e.child;case 6:return t===null&&X&&((t=n=oe)&&(n=Cb(n,e.pendingProps,St),n!==null?(e.stateNode=n,Me=e,oe=null,t=!0):t=!1),t||Bn(e)),null;case 13:return Eg(t,e,n);case 4:return Al(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=oa(e,null,a,n):De(t,e,a,n),e.child;case 11:return ld(t,e,e.type,e.pendingProps,n);case 7:return De(t,e,e.pendingProps,n),e.child;case 8:return De(t,e,e.pendingProps.children,n),e.child;case 12:return De(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,vn(e,e.type,a.value),De(t,e,a.children,n),e.child;case 9:return i=e.type._context,a=e.pendingProps.children,ua(e),i=Be(i),a=a(i),e.flags|=1,De(t,e,a,n),e.child;case 14:return rd(t,e,e.type,e.pendingProps,n);case 15:return wg(t,e,e.type,e.pendingProps,n);case 19:return Tg(t,e,n);case 31:return W0(t,e,n);case 22:return jg(t,e,n,e.pendingProps);case 24:return ua(e),a=Be(je),t===null?(i=bc(),i===null&&(i=ae,s=pc(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:a,cache:i},Sc(e),vn(e,je,i)):(t.lanes&n&&(io(t,e),Ki(e,null,null,n),Yi()),i=t.memoizedState,s=e.memoizedState,i.parent!==a?(i={parent:a,cache:a},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),vn(e,je,a)):(a=s.cache,vn(e,je,a),a!==i.cache&&no(e,[je],n,!0))),De(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(E(156,e.tag))}function Yt(t){t.flags|=4}function ou(t,e,n,a,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Zg())t.flags|=8192;else throw ia=Bl,_c}else t.flags&=-16777217}function md(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!bv(e))if(Zg())t.flags|=8192;else throw ia=Bl,_c}function Is(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Pf():536870912,t.lanes|=e,si|=e)}function Ai(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function eb(t,e,n){var a=e.pendingProps;switch(yc(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(e),null;case 1:return ue(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),nn(je),Fa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_a(e)?Yt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eu())),ue(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(Yt(e),s!==null?(ue(e),md(e,s)):(ue(e),ou(e,i,null,a,n))):s?s!==t.memoizedState?(Yt(e),ue(e),md(e,s)):(ue(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Yt(e),ue(e),ou(e,i,t,a,n)),null;case 27:if(Cl(e),n=On.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Yt(e);else{if(!a){if(e.stateNode===null)throw Error(E(166));return ue(e),null}t=Lt.current,_a(e)?Gh(e):(t=vv(i,a,n),e.stateNode=t,Yt(e))}return ue(e),null;case 5:if(Cl(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Yt(e);else{if(!a){if(e.stateNode===null)throw Error(E(166));return ue(e),null}if(s=Lt.current,_a(e))Gh(e);else{var l=Pl(On.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?l.createElement(i,{is:a.is}):l.createElement(i)}}s[ze]=e,s[Fe]=a;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=s;e:switch(Le(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Yt(e)}}return ue(e),ou(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Yt(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(E(166));if(t=On.current,_a(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,i=Me,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||dv(t.nodeValue,n)),t||Bn(e,!0)}else t=Pl(t).createTextNode(a),t[ze]=e,e.stateNode=t}return ue(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=_a(e),n!==null){if(t===null){if(!a)throw Error(E(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(557));t[ze]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ue(e),t=!1}else n=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(at(e),e):(at(e),null);if(e.flags&128)throw Error(E(558))}return ue(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=_a(e),a!==null&&a.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ze]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ue(e),i=!1}else i=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(at(e),e):(at(e),null)}return at(e),e.flags&128?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Is(e,e.updateQueue),ue(e),null);case 4:return Fa(),t===null&&Yc(e.stateNode.containerInfo),ue(e),null;case 10:return nn(e.type),ue(e),null;case 19:if(Re(ve),a=e.memoizedState,a===null)return ue(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)Ai(a,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Hl(t),s!==null){for(e.flags|=128,Ai(a,!1),t=s.updateQueue,e.updateQueue=t,Is(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Om(n,t),n=n.sibling;return se(ve,ve.current&1|2),X&&Zt(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&ut()>Kl&&(e.flags|=128,i=!0,Ai(a,!1),e.lanes=4194304)}else{if(!i)if(t=Hl(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Is(e,t),Ai(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!X)return ue(e),null}else 2*ut()-a.renderingStartTime>Kl&&n!==536870912&&(e.flags|=128,i=!0,Ai(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ut(),t.sibling=null,n=ve.current,se(ve,i?n&1|2:n&1),X&&Zt(e,a.treeForkCount),t):(ue(e),null);case 22:case 23:return at(e),wc(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?n&536870912&&!(e.flags&128)&&(ue(e),e.subtreeFlags&6&&(e.flags|=8192)):ue(e),n=e.updateQueue,n!==null&&Is(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&Re(aa),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),nn(je),ue(e),null;case 25:return null;case 30:return null}throw Error(E(156,e.tag))}function tb(t,e){switch(yc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nn(je),Fa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Cl(e),null;case 31:if(e.memoizedState!==null){if(at(e),e.alternate===null)throw Error(E(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(at(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(ve),null;case 4:return Fa(),null;case 10:return nn(e.type),null;case 22:case 23:return at(e),wc(),t!==null&&Re(aa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return nn(je),null;case 25:return null;default:return null}}function Og(t,e){switch(yc(e),e.tag){case 3:nn(je),Fa();break;case 26:case 27:case 5:Cl(e);break;case 4:Fa();break;case 31:e.memoizedState!==null&&at(e);break;case 13:at(e);break;case 19:Re(ve);break;case 10:nn(e.type);break;case 22:case 23:at(e),wc(),t!==null&&Re(aa);break;case 24:nn(je)}}function Us(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&t)===t){a=void 0;var s=n.create,l=n.inst;a=s(),l.destroy=a}n=n.next}while(n!==i)}}catch(r){ee(e,e.return,r)}}function Ln(t,e,n){try{var a=e.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&t)===t){var l=a.inst,r=l.destroy;if(r!==void 0){l.destroy=void 0,i=e;var u=n,c=r;try{c()}catch(h){ee(i,u,h)}}}a=a.next}while(a!==s)}}catch(h){ee(e,e.return,h)}}function Ng(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Bm(e,n)}catch(a){ee(t,t.return,a)}}}function Ag(t,e,n){n.props=ha(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){ee(t,e,a)}}function Xi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(i){ee(t,e,i)}}function Bt(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){ee(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ee(t,e,i)}else n.current=null}function Cg(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){ee(t,t.return,i)}}function cu(t,e,n){try{var a=t.stateNode;jb(a,t.type,n,e),a[Fe]=e}catch(i){ee(t,t.return,i)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$n(t.type)||t.tag===4}function hu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$n(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vo(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ft));else if(a!==4&&(a===27&&$n(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(vo(t,e,n),t=t.sibling;t!==null;)vo(t,e,n),t=t.sibling}function Yl(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&$n(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Yl(t,e,n),t=t.sibling;t!==null;)Yl(t,e,n),t=t.sibling}function Rg(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Le(e,a,n),e[ze]=t,e[Fe]=n}catch(s){ee(t,t.return,s)}}var Pt=!1,we=!1,du=!1,gd=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function nb(t,e){if(t=t.containerInfo,jo=tr,t=bm(t),dc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,r=-1,u=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(r=l+i),f!==s||a!==0&&f.nodeType!==3||(u=l+a),f.nodeType===3&&(l+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===i&&(r=l),d===s&&++h===a&&(u=l),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=r===-1||u===-1?null:{start:r,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eo={focusedElem:t,selectionRange:n},tr=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){switch(e=Ce,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var p=ha(n.type,i);t=a.getSnapshotBeforeUpdate(p,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(_){ee(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)xo(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(E(163))}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}}function Ug(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(t,n),a&4&&Us(5,n);break;case 1:if(Qt(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){ee(n,n.return,l)}else{var i=ha(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){ee(n,n.return,l)}}a&64&&Ng(n),a&512&&Xi(n,n.return);break;case 3:if(Qt(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Bm(t,e)}catch(l){ee(n,n.return,l)}}break;case 27:e===null&&a&4&&Rg(n);case 26:case 5:Qt(t,n),e===null&&a&4&&Cg(n),a&512&&Xi(n,n.return);break;case 12:Qt(t,n);break;case 31:Qt(t,n),a&4&&Mg(t,n);break;case 13:Qt(t,n),a&4&&Bg(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=hb.bind(null,n),kb(t,n))));break;case 22:if(a=n.memoizedState!==null||Pt,!a){e=e!==null&&e.memoizedState!==null||we,i=Pt;var s=we;Pt=a,(we=e)&&!s?Xt(t,n,(n.subtreeFlags&8772)!==0):Qt(t,n),Pt=i,we=s}break;case 30:break;default:Qt(t,n)}}function Dg(t){var e=t.alternate;e!==null&&(t.alternate=null,Dg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,Je=!1;function Kt(t,e,n){for(n=n.child;n!==null;)zg(t,e,n),n=n.sibling}function zg(t,e,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(xs,n)}catch{}switch(n.tag){case 26:we||Bt(n,e),Kt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:we||Bt(n,e);var a=de,i=Je;$n(n.type)&&(de=n.stateNode,Je=!1),Kt(t,e,n),Pi(n.stateNode),de=a,Je=i;break;case 5:we||Bt(n,e);case 6:if(a=de,i=Je,de=null,Kt(t,e,n),de=a,Je=i,de!==null)if(Je)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(n.stateNode)}catch(s){ee(n,e,s)}else try{de.removeChild(n.stateNode)}catch(s){ee(n,e,s)}break;case 18:de!==null&&(Je?(t=de,Nd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),oi(t)):Nd(de,n.stateNode));break;case 4:a=de,i=Je,de=n.stateNode.containerInfo,Je=!0,Kt(t,e,n),de=a,Je=i;break;case 0:case 11:case 14:case 15:Ln(2,n,e),we||Ln(4,n,e),Kt(t,e,n);break;case 1:we||(Bt(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Ag(n,e,a)),Kt(t,e,n);break;case 21:Kt(t,e,n);break;case 22:we=(a=we)||n.memoizedState!==null,Kt(t,e,n),we=a;break;default:Kt(t,e,n)}}function Mg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oi(t)}catch(n){ee(e,e.return,n)}}}function Bg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oi(t)}catch(n){ee(e,e.return,n)}}function ab(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new gd),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new gd),e;default:throw Error(E(435,t.tag))}}function Js(t,e){var n=ab(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var i=db.bind(null,t,a);a.then(i,i)}})}function Qe(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=t,l=e,r=l;e:for(;r!==null;){switch(r.tag){case 27:if($n(r.type)){de=r.stateNode,Je=!1;break e}break;case 5:de=r.stateNode,Je=!1;break e;case 3:case 4:de=r.stateNode.containerInfo,Je=!0;break e}r=r.return}if(de===null)throw Error(E(160));zg(s,l,i),de=null,Je=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Lg(e,t),e=e.sibling}var kt=null;function Lg(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qe(e,t),Xe(t),a&4&&(Ln(3,t,t.return),Us(3,t),Ln(5,t,t.return));break;case 1:Qe(e,t),Xe(t),a&512&&(we||n===null||Bt(n,n.return)),a&64&&Pt&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=kt;if(Qe(e,t),Xe(t),a&512&&(we||n===null||Bt(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){e:{a=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[As]||s[ze]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),Le(s,a,n),s[ze]=t,ke(s),a=s;break e;case"link":var l=zd("link","href",i).get(a+(n.href||""));if(l){for(var r=0;r<l.length;r++)if(s=l[r],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(r,1);break t}}s=i.createElement(a),Le(s,a,n),i.head.appendChild(s);break;case"meta":if(l=zd("meta","content",i).get(a+(n.content||""))){for(r=0;r<l.length;r++)if(s=l[r],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(r,1);break t}}s=i.createElement(a),Le(s,a,n),i.head.appendChild(s);break;default:throw Error(E(468,a))}s[ze]=t,ke(s),a=s}t.stateNode=a}else Md(i,t.type,t.stateNode);else t.stateNode=Dd(i,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Md(i,t.type,t.stateNode):Dd(i,a,t.memoizedProps)):a===null&&t.stateNode!==null&&cu(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qe(e,t),Xe(t),a&512&&(we||n===null||Bt(n,n.return)),n!==null&&a&4&&cu(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qe(e,t),Xe(t),a&512&&(we||n===null||Bt(n,n.return)),t.flags&32){i=t.stateNode;try{ti(i,"")}catch(p){ee(t,t.return,p)}}a&4&&t.stateNode!=null&&(i=t.memoizedProps,cu(t,i,n!==null?n.memoizedProps:i)),a&1024&&(du=!0);break;case 6:if(Qe(e,t),Xe(t),a&4){if(t.stateNode===null)throw Error(E(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(p){ee(t,t.return,p)}}break;case 3:if(jl=null,i=kt,kt=Wl(e.containerInfo),Qe(e,t),kt=i,Xe(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{oi(e.containerInfo)}catch(p){ee(t,t.return,p)}du&&(du=!1,Hg(t));break;case 4:a=kt,kt=Wl(t.stateNode.containerInfo),Qe(e,t),Xe(t),kt=a;break;case 12:Qe(e,t),Xe(t);break;case 31:Qe(e,t),Xe(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Js(t,a)));break;case 13:Qe(e,t),Xe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Nr=ut()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Js(t,a)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Pt,h=we;if(Pt=c||i,we=h||u,Qe(e,t),we=h,Pt=c,Xe(t),a&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Pt||we||Jn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,i)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{r=u.stateNode;var f=u.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){ee(u,u.return,p)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(p){ee(u,u.return,p)}}}else if(e.tag===18){if(n===null){u=e;try{var m=u.stateNode;i?Ad(m,!0):Ad(u.stateNode,!1)}catch(p){ee(u,u.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Js(t,n))));break;case 19:Qe(e,t),Xe(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Js(t,a)));break;case 30:break;case 21:break;default:Qe(e,t),Xe(t)}}function Xe(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(kg(a)){n=a;break}a=a.return}if(n==null)throw Error(E(160));switch(n.tag){case 27:var i=n.stateNode,s=hu(t);Yl(t,s,i);break;case 5:var l=n.stateNode;n.flags&32&&(ti(l,""),n.flags&=-33);var r=hu(t);Yl(t,r,l);break;case 3:case 4:var u=n.stateNode.containerInfo,c=hu(t);vo(t,c,u);break;default:throw Error(E(161))}}catch(h){ee(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Hg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Qt(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ug(t,e.alternate,e),e=e.sibling}function Jn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ln(4,e,e.return),Jn(e);break;case 1:Bt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Ag(e,e.return,n),Jn(e);break;case 27:Pi(e.stateNode);case 26:case 5:Bt(e,e.return),Jn(e);break;case 22:e.memoizedState===null&&Jn(e);break;case 30:Jn(e);break;default:Jn(e)}t=t.sibling}}function Xt(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,i=t,s=e,l=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(i,s,n),Us(4,s);break;case 1:if(Xt(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ee(a,a.return,c)}if(a=s,i=a.updateQueue,i!==null){var r=a.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)Mm(u[i],r)}catch(c){ee(a,a.return,c)}}n&&l&64&&Ng(s),Xi(s,s.return);break;case 27:Rg(s);case 26:case 5:Xt(i,s,n),n&&a===null&&l&4&&Cg(s),Xi(s,s.return);break;case 12:Xt(i,s,n);break;case 31:Xt(i,s,n),n&&l&4&&Mg(i,s);break;case 13:Xt(i,s,n),n&&l&4&&Bg(i,s);break;case 22:s.memoizedState===null&&Xt(i,s,n),Xi(s,s.return);break;case 30:break;default:Xt(i,s,n)}e=e.sibling}}function Lc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ks(n))}function Hc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ks(t))}function Ot(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qg(t,e,n,a),e=e.sibling}function qg(t,e,n,a){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ot(t,e,n,a),i&2048&&Us(9,e);break;case 1:Ot(t,e,n,a);break;case 3:Ot(t,e,n,a),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ks(t)));break;case 12:if(i&2048){Ot(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,l=s.id,r=s.onPostCommit;typeof r=="function"&&r(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ee(e,e.return,u)}}else Ot(t,e,n,a);break;case 31:Ot(t,e,n,a);break;case 13:Ot(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,l=e.alternate,e.memoizedState!==null?s._visibility&2?Ot(t,e,n,a):Ii(t,e):s._visibility&2?Ot(t,e,n,a):(s._visibility|=2,Na(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Lc(l,e);break;case 24:Ot(t,e,n,a),i&2048&&Hc(e.alternate,e);break;default:Ot(t,e,n,a)}}function Na(t,e,n,a,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,l=e,r=n,u=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:Na(s,l,r,u,i),Us(8,l);break;case 23:break;case 22:var h=l.stateNode;l.memoizedState!==null?h._visibility&2?Na(s,l,r,u,i):Ii(s,l):(h._visibility|=2,Na(s,l,r,u,i)),i&&c&2048&&Lc(l.alternate,l);break;case 24:Na(s,l,r,u,i),i&&c&2048&&Hc(l.alternate,l);break;default:Na(s,l,r,u,i)}e=e.sibling}}function Ii(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,i=a.flags;switch(a.tag){case 22:Ii(n,a),i&2048&&Lc(a.alternate,a);break;case 24:Ii(n,a),i&2048&&Hc(a.alternate,a);break;default:Ii(n,a)}e=e.sibling}}var Mi=8192;function Sa(t,e,n){if(t.subtreeFlags&Mi)for(t=t.child;t!==null;)$g(t,e,n),t=t.sibling}function $g(t,e,n){switch(t.tag){case 26:Sa(t,e,n),t.flags&Mi&&t.memoizedState!==null&&Gb(n,kt,t.memoizedState,t.memoizedProps);break;case 5:Sa(t,e,n);break;case 3:case 4:var a=kt;kt=Wl(t.stateNode.containerInfo),Sa(t,e,n),kt=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Mi,Mi=16777216,Sa(t,e,n),Mi=a):Sa(t,e,n));break;default:Sa(t,e,n)}}function Vg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ci(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ce=a,Yg(a,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gg(t),t=t.sibling}function Gg(t){switch(t.tag){case 0:case 11:case 15:Ci(t),t.flags&2048&&Ln(9,t,t.return);break;case 3:Ci(t);break;case 12:Ci(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Sl(t)):Ci(t);break;default:Ci(t)}}function Sl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ce=a,Yg(a,t)}Vg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ln(8,e,e.return),Sl(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Sl(e));break;default:Sl(e)}t=t.sibling}}function Yg(t,e){for(;Ce!==null;){var n=Ce;switch(n.tag){case 0:case 11:case 15:Ln(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ks(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ce=a;else e:for(n=t;Ce!==null;){a=Ce;var i=a.sibling,s=a.return;if(Dg(a),a===n){Ce=null;break e}if(i!==null){i.return=s,Ce=i;break e}Ce=s}}}var ib={getCacheForType:function(t){var e=Be(je),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Be(je).controller.signal}},sb=typeof WeakMap=="function"?WeakMap:Map,J=0,ae=null,K=null,Q=0,F=0,nt=null,En=!1,yi=!1,qc=!1,on=0,ge=0,Hn=0,sa=0,$c=0,rt=0,si=0,Ji=null,Ze=null,yo=!1,Nr=0,Kg=0,Kl=1/0,Ql=null,kn=null,Oe=0,Rn=null,li=null,an=0,po=0,bo=null,Qg=null,Zi=0,_o=null;function ht(){return J&2&&Q!==0?Q&-Q:H.T!==null?Gc():tm()}function Xg(){if(rt===0)if(!(Q&536870912)||X){var t=$s;$s<<=1,!($s&3932160)&&($s=262144),rt=t}else rt=536870912;return t=ft.current,t!==null&&(t.flags|=32),rt}function We(t,e,n){(t===ae&&(F===2||F===9)||t.cancelPendingCommit!==null)&&(ri(t,0),Tn(t,Q,rt,!1)),Ns(t,n),(!(J&2)||t!==ae)&&(t===ae&&(!(J&2)&&(sa|=n),ge===4&&Tn(t,Q,rt,!1)),qt(t))}function Ig(t,e,n){if(J&6)throw Error(E(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Os(t,e),i=a?ub(t,e):fu(t,e,!0),s=a;do{if(i===0){yi&&!a&&Tn(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!lb(n)){i=fu(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var r=t;i=Ji;var u=r.current.memoizedState.isDehydrated;if(u&&(ri(r,l).flags|=256),l=fu(r,l,!1),l!==2){if(qc&&!u){r.errorRecoveryDisabledLanes|=s,sa|=s,i=4;break e}s=Ze,Ze=i,s!==null&&(Ze===null?Ze=s:Ze.push.apply(Ze,s))}i=l}if(s=!1,i!==2)continue}}if(i===1){ri(t,0),Tn(t,e,0,!0);break}e:{switch(a=t,s=i,s){case 0:case 1:throw Error(E(345));case 4:if((e&4194048)!==e)break;case 6:Tn(a,e,rt,!En);break e;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(E(329))}if((e&62914560)===e&&(i=Nr+300-ut(),10<i)){if(Tn(a,e,rt,!En),yr(a,0,!0)!==0)break e;an=e,a.timeoutHandle=mv(vd.bind(null,a,n,Ze,Ql,yo,e,rt,sa,si,En,s,"Throttled",-0,0),i);break e}vd(a,n,Ze,Ql,yo,e,rt,sa,si,En,s,null,-0,0)}}break}while(!0);qt(t)}function vd(t,e,n,a,i,s,l,r,u,c,h,f,d,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ft},$g(e,s,f);var p=(s&62914560)===s?Nr-ut():(s&4194048)===s?Kg-ut():0;if(p=Yb(f,p),p!==null){an=s,t.cancelPendingCommit=p(pd.bind(null,t,e,s,n,a,i,l,r,u,h,f,null,d,m)),Tn(t,s,l,!c);return}}pd(t,e,s,n,a,i,l,r,u)}function lb(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!dt(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tn(t,e,n,a){e&=~$c,e&=~sa,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var i=e;0<i;){var s=31-ct(i),l=1<<s;a[s]=-1,i&=~l}n!==0&&Wf(t,n,e)}function Ar(){return J&6?!0:(Ds(0),!1)}function Vc(){if(K!==null){if(F===0)var t=K.return;else t=K,en=ya=null,Oc(t),Ja=null,os=0,t=K;for(;t!==null;)Og(t.alternate,t),t=t.return;K=null}}function ri(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,xb(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),an=0,Vc(),ae=t,K=n=tn(t.current,null),Q=e,F=0,nt=null,En=!1,yi=Os(t,e),qc=!1,si=rt=$c=sa=Hn=ge=0,Ze=Ji=null,yo=!1,e&8&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var i=31-ct(a),s=1<<i;e|=t[i],a&=~s}return on=e,Sr(),n}function Jg(t,e){V=null,H.H=hs,e===vi||e===jr?(e=Ih(),F=3):e===_c?(e=Ih(),F=4):F=e===Mc?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,nt=e,K===null&&(ge=1,Vl(t,_t(e,t.current)))}function Zg(){var t=ft.current;return t===null?!0:(Q&4194048)===Q?wt===null:(Q&62914560)===Q||Q&536870912?t===wt:!1}function Pg(){var t=H.H;return H.H=hs,t===null?hs:t}function Wg(){var t=H.A;return H.A=ib,t}function Xl(){ge=4,En||(Q&4194048)!==Q&&ft.current!==null||(yi=!0),!(Hn&134217727)&&!(sa&134217727)||ae===null||Tn(ae,Q,rt,!1)}function fu(t,e,n){var a=J;J|=2;var i=Pg(),s=Wg();(ae!==t||Q!==e)&&(Ql=null,ri(t,e)),e=!1;var l=ge;e:do try{if(F!==0&&K!==null){var r=K,u=nt;switch(F){case 8:Vc(),l=6;break e;case 3:case 2:case 9:case 6:ft.current===null&&(e=!0);var c=F;if(F=0,nt=null,Ga(t,r,u,c),n&&yi){l=0;break e}break;default:c=F,F=0,nt=null,Ga(t,r,u,c)}}rb(),l=ge;break}catch(h){Jg(t,h)}while(!0);return e&&t.shellSuspendCounter++,en=ya=null,J=a,H.H=i,H.A=s,K===null&&(ae=null,Q=0,Sr()),l}function rb(){for(;K!==null;)Fg(K)}function ub(t,e){var n=J;J|=2;var a=Pg(),i=Wg();ae!==t||Q!==e?(Ql=null,Kl=ut()+500,ri(t,e)):yi=Os(t,e);e:do try{if(F!==0&&K!==null){e=K;var s=nt;t:switch(F){case 1:F=0,nt=null,Ga(t,e,s,1);break;case 2:case 9:if(Xh(s)){F=0,nt=null,yd(e);break}e=function(){F!==2&&F!==9||ae!==t||(F=7),qt(t)},s.then(e,e);break e;case 3:F=7;break e;case 4:F=5;break e;case 7:Xh(s)?(F=0,nt=null,yd(e)):(F=0,nt=null,Ga(t,e,s,7));break;case 5:var l=null;switch(K.tag){case 26:l=K.memoizedState;case 5:case 27:var r=K;if(l?bv(l):r.stateNode.complete){F=0,nt=null;var u=r.sibling;if(u!==null)K=u;else{var c=r.return;c!==null?(K=c,Cr(c)):K=null}break t}}F=0,nt=null,Ga(t,e,s,5);break;case 6:F=0,nt=null,Ga(t,e,s,6);break;case 8:Vc(),ge=6;break e;default:throw Error(E(462))}}ob();break}catch(h){Jg(t,h)}while(!0);return en=ya=null,H.H=a,H.A=i,J=n,K!==null?0:(ae=null,Q=0,Sr(),ge)}function ob(){for(;K!==null&&!Rp();)Fg(K)}function Fg(t){var e=xg(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?Cr(t):K=e}function yd(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=cd(n,e,e.pendingProps,e.type,void 0,Q);break;case 11:e=cd(n,e,e.pendingProps,e.type.render,e.ref,Q);break;case 5:Oc(e);default:Og(n,e),e=K=Om(e,on),e=xg(n,e,on)}t.memoizedProps=t.pendingProps,e===null?Cr(t):K=e}function Ga(t,e,n,a){en=ya=null,Oc(e),Ja=null,os=0;var i=e.return;try{if(P0(t,i,e,n,Q)){ge=1,Vl(t,_t(n,t.current)),K=null;return}}catch(s){if(i!==null)throw K=i,s;ge=1,Vl(t,_t(n,t.current)),K=null;return}e.flags&32768?(X||a===1?t=!0:yi||Q&536870912?t=!1:(En=t=!0,(a===2||a===9||a===3||a===6)&&(a=ft.current,a!==null&&a.tag===13&&(a.flags|=16384))),ev(e,t)):Cr(e)}function Cr(t){var e=t;do{if(e.flags&32768){ev(e,En);return}t=e.return;var n=eb(e.alternate,e,on);if(n!==null){K=n;return}if(e=e.sibling,e!==null){K=e;return}K=e=t}while(e!==null);ge===0&&(ge=5)}function ev(t,e){do{var n=tb(t.alternate,t);if(n!==null){n.flags&=32767,K=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){K=t;return}K=t=n}while(t!==null);ge=6,K=null}function pd(t,e,n,a,i,s,l,r,u){t.cancelPendingCommit=null;do kr();while(Oe!==0);if(J&6)throw Error(E(327));if(e!==null){if(e===t.current)throw Error(E(177));if(s=e.lanes|e.childLanes,s|=fc,Vp(t,n,s,l,r,u),t===ae&&(K=ae=null,Q=0),li=e,Rn=t,an=n,po=s,bo=i,Qg=a,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,fb(kl,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,e.subtreeFlags&13878||a){a=H.T,H.T=null,i=Z.p,Z.p=2,l=J,J|=4;try{nb(t,e,n)}finally{J=l,Z.p=i,H.T=a}}Oe=1,tv(),nv(),av()}}function tv(){if(Oe===1){Oe=0;var t=Rn,e=li,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=H.T,H.T=null;var a=Z.p;Z.p=2;var i=J;J|=4;try{Lg(e,t);var s=Eo,l=bm(t.containerInfo),r=s.focusedElem,u=s.selectionRange;if(l!==r&&r&&r.ownerDocument&&pm(r.ownerDocument.documentElement,r)){if(u!==null&&dc(r)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in r)r.selectionStart=c,r.selectionEnd=Math.min(h,r.value.length);else{var f=r.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),p=r.textContent.length,_=Math.min(u.start,p),S=u.end===void 0?_:Math.min(u.end,p);!m.extend&&_>S&&(l=S,S=_,_=l);var y=qh(r,_),g=qh(r,S);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var v=f.createRange();v.setStart(y.node,y.offset),m.removeAllRanges(),_>S?(m.addRange(v),m.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),m.addRange(v))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var b=f[r];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}tr=!!jo,Eo=jo=null}finally{J=i,Z.p=a,H.T=n}}t.current=e,Oe=2}}function nv(){if(Oe===2){Oe=0;var t=Rn,e=li,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=H.T,H.T=null;var a=Z.p;Z.p=2;var i=J;J|=4;try{Ug(t,e.alternate,e)}finally{J=i,Z.p=a,H.T=n}}Oe=3}}function av(){if(Oe===4||Oe===3){Oe=0,Up();var t=Rn,e=li,n=an,a=Qg;e.subtreeFlags&10256||e.flags&10256?Oe=5:(Oe=0,li=Rn=null,iv(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(kn=null),sc(n),e=e.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(xs,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=H.T,i=Z.p,Z.p=2,H.T=null;try{for(var s=t.onRecoverableError,l=0;l<a.length;l++){var r=a[l];s(r.value,{componentStack:r.stack})}}finally{H.T=e,Z.p=i}}an&3&&kr(),qt(t),i=t.pendingLanes,n&261930&&i&42?t===_o?Zi++:(Zi=0,_o=t):Zi=0,Ds(0)}}function iv(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ks(e)))}function kr(){return tv(),nv(),av(),sv()}function sv(){if(Oe!==5)return!1;var t=Rn,e=po;po=0;var n=sc(an),a=H.T,i=Z.p;try{Z.p=32>n?32:n,H.T=null,n=bo,bo=null;var s=Rn,l=an;if(Oe=0,li=Rn=null,an=0,J&6)throw Error(E(331));var r=J;if(J|=4,Gg(s.current),qg(s,s.current,l,n),J=r,Ds(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(xs,s)}catch{}return!0}finally{Z.p=i,H.T=a,iv(t,e)}}function bd(t,e,n){e=_t(n,e),e=fo(t.stateNode,e,2),t=Cn(t,e,2),t!==null&&(Ns(t,2),qt(t))}function ee(t,e,n){if(t.tag===3)bd(t,t,n);else for(;e!==null;){if(e.tag===3){bd(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(kn===null||!kn.has(a))){t=_t(n,t),n=_g(2),a=Cn(e,n,2),a!==null&&(Sg(n,a,e,t),Ns(a,2),qt(a));break}}e=e.return}}function mu(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new sb;var i=new Set;a.set(e,i)}else i=a.get(e),i===void 0&&(i=new Set,a.set(e,i));i.has(n)||(qc=!0,i.add(n),t=cb.bind(null,t,e,n),e.then(t,t))}function cb(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ae===t&&(Q&n)===n&&(ge===4||ge===3&&(Q&62914560)===Q&&300>ut()-Nr?!(J&2)&&ri(t,0):$c|=n,si===Q&&(si=0)),qt(t)}function lv(t,e){e===0&&(e=Pf()),t=va(t,e),t!==null&&(Ns(t,e),qt(t))}function hb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lv(t,n)}function db(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(E(314))}a!==null&&a.delete(e),lv(t,n)}function fb(t,e){return ac(t,e)}var Il=null,Aa=null,So=!1,Jl=!1,gu=!1,xn=0;function qt(t){t!==Aa&&t.next===null&&(Aa===null?Il=Aa=t:Aa=Aa.next=t),Jl=!0,So||(So=!0,gb())}function Ds(t,e){if(!gu&&Jl){gu=!0;do for(var n=!1,a=Il;a!==null;){if(t!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var l=a.suspendedLanes,r=a.pingedLanes;s=(1<<31-ct(42|t)+1)-1,s&=i&~(l&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,_d(a,s))}else s=Q,s=yr(a,a===ae?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||Os(a,s)||(n=!0,_d(a,s));a=a.next}while(n);gu=!1}}function mb(){rv()}function rv(){Jl=So=!1;var t=0;xn!==0&&Tb()&&(t=xn);for(var e=ut(),n=null,a=Il;a!==null;){var i=a.next,s=uv(a,e);s===0?(a.next=null,n===null?Il=i:n.next=i,i===null&&(Aa=n)):(n=a,(t!==0||s&3)&&(Jl=!0)),a=i}Oe!==0&&Oe!==5||Ds(t),xn!==0&&(xn=0)}function uv(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var l=31-ct(s),r=1<<l,u=i[l];u===-1?(!(r&n)||r&a)&&(i[l]=$p(r,e)):u<=e&&(t.expiredLanes|=r),s&=~r}if(e=ae,n=Q,n=yr(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(F===2||F===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Gr(a),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Os(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Gr(a),sc(n)){case 2:case 8:n=Jf;break;case 32:n=kl;break;case 268435456:n=Zf;break;default:n=kl}return a=ov.bind(null,t),n=ac(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Gr(a),t.callbackPriority=2,t.callbackNode=null,2}function ov(t,e){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(kr()&&t.callbackNode!==n)return null;var a=Q;return a=yr(t,t===ae?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Ig(t,a,e),uv(t,ut()),t.callbackNode!=null&&t.callbackNode===n?ov.bind(null,t):null)}function _d(t,e){if(kr())return null;Ig(t,e,!0)}function gb(){Ob(function(){J&6?ac(If,mb):rv()})}function Gc(){if(xn===0){var t=ni;t===0&&(t=qs,qs<<=1,!(qs&261888)&&(qs=256)),xn=t}return xn}function Sd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:dl(""+t)}function wd(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function vb(t,e,n,a,i){if(e==="submit"&&n&&n.stateNode===i){var s=Sd((i[Fe]||null).action),l=a.submitter;l&&(e=(e=l[Fe]||null)?Sd(e.formAction):l.getAttribute("formAction"),e!==null&&(s=e,l=null));var r=new pr("action","action",null,a,i);t.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(xn!==0){var u=l?wd(i,l):new FormData(i);co(n,{pending:!0,data:u,method:i.method,action:s},null,u)}}else typeof s=="function"&&(r.preventDefault(),u=l?wd(i,l):new FormData(i),co(n,{pending:!0,data:u,method:i.method,action:s},s,u))},currentTarget:i}]})}}for(var vu=0;vu<Wu.length;vu++){var yu=Wu[vu],yb=yu.toLowerCase(),pb=yu[0].toUpperCase()+yu.slice(1);Ut(yb,"on"+pb)}Ut(Sm,"onAnimationEnd");Ut(wm,"onAnimationIteration");Ut(jm,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(D0,"onTransitionRun");Ut(z0,"onTransitionStart");Ut(M0,"onTransitionCancel");Ut(Em,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function cv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],i=a.event;a=a.listeners;e:{var s=void 0;if(e)for(var l=a.length-1;0<=l;l--){var r=a[l],u=r.instance,c=r.currentTarget;if(r=r.listener,u!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=c;try{s(i)}catch(h){Ul(h)}i.currentTarget=null,s=u}else for(l=0;l<a.length;l++){if(r=a[l],u=r.instance,c=r.currentTarget,r=r.listener,u!==s&&i.isPropagationStopped())break e;s=r,i.currentTarget=c;try{s(i)}catch(h){Ul(h)}i.currentTarget=null,s=u}}}}function Y(t,e){var n=e[Yu];n===void 0&&(n=e[Yu]=new Set);var a=t+"__bubble";n.has(a)||(hv(e,t,2,!1),n.add(a))}function pu(t,e,n){var a=0;e&&(a|=4),hv(n,t,a,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function Yc(t){if(!t[Zs]){t[Zs]=!0,nm.forEach(function(n){n!=="selectionchange"&&(bb.has(n)||pu(n,!1,t),pu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,pu("selectionchange",!1,e))}}function hv(t,e,n,a){switch(Ev(e)){case 2:var i=Xb;break;case 8:i=Ib;break;default:i=Ic}n=i.bind(null,e,n,t),i=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),a?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bu(t,e,n,a,i){var s=a;if(!(e&1)&&!(e&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var r=a.stateNode.containerInfo;if(r===i)break;if(l===4)for(l=a.return;l!==null;){var u=l.tag;if((u===3||u===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;r!==null;){if(l=Da(r),l===null)return;if(u=l.tag,u===5||u===6||u===26||u===27){a=s=l;continue e}r=r.parentNode}}a=a.return}cm(function(){var c=s,h=uc(n),f=[];e:{var d=Tm.get(t);if(d!==void 0){var m=pr,p=t;switch(t){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":m=d0;break;case"focusin":p="focus",m=Ir;break;case"focusout":p="blur",m=Ir;break;case"beforeblur":case"afterblur":m=Ir;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=g0;break;case Sm:case wm:case jm:m=a0;break;case Em:m=y0;break;case"scroll":case"scrollend":m=Wp;break;case"wheel":m=b0;break;case"copy":case"cut":case"paste":m=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rh;break;case"toggle":case"beforetoggle":m=S0}var _=(e&4)!==0,S=!_&&(t==="scroll"||t==="scrollend"),y=_?d!==null?d+"Capture":null:d;_=[];for(var g=c,v;g!==null;){var b=g;if(v=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||v===null||y===null||(b=is(g,y),b!=null&&_.push(fs(g,b,v))),S)break;g=g.return}0<_.length&&(d=new m(d,p,null,n,h),f.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Iu&&(p=n.relatedTarget||n.fromElement)&&(Da(p)||p[fi]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Da(p):null,p!==null&&(S=Ts(p),_=p.tag,p!==S||_!==5&&_!==27&&_!==6)&&(p=null)):(m=null,p=c),m!==p)){if(_=Ch,b="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Rh,b="onPointerLeave",y="onPointerEnter",g="pointer"),S=m==null?d:Di(m),v=p==null?d:Di(p),d=new _(b,g+"leave",m,n,h),d.target=S,d.relatedTarget=v,b=null,Da(h)===c&&(_=new _(y,g+"enter",p,n,h),_.target=v,_.relatedTarget=S,b=_),S=b,m&&p)t:{for(_=_b,y=m,g=p,v=0,b=y;b;b=_(b))v++;b=0;for(var T=g;T;T=_(T))b++;for(;0<v-b;)y=_(y),v--;for(;0<b-v;)g=_(g),b--;for(;v--;){if(y===g||g!==null&&y===g.alternate){_=y;break t}y=_(y),g=_(g)}_=null}else _=null;m!==null&&jd(f,d,m,_,!1),p!==null&&S!==null&&jd(f,S,p,_,!0)}}e:{if(d=c?Di(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var O=Mh;else if(zh(d))if(vm)O=k0;else{O=A0;var j=N0}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&rc(c.elementType)&&(O=Mh):O=C0;if(O&&(O=O(t,c))){gm(f,O,n,h);break e}j&&j(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Xu(d,"number",d.value)}switch(j=c?Di(c):window,t){case"focusin":(zh(j)||j.contentEditable==="true")&&(Ba=j,Zu=c,$i=null);break;case"focusout":$i=Zu=Ba=null;break;case"mousedown":Pu=!0;break;case"contextmenu":case"mouseup":case"dragend":Pu=!1,$h(f,n,h);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":$h(f,n,h)}var R;if(hc)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ma?fm(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(dm&&n.locale!=="ko"&&(Ma||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ma&&(R=hm()):(jn=h,oc="value"in jn?jn.value:jn.textContent,Ma=!0)),j=Zl(c,D),0<j.length&&(D=new kh(D,t,null,n,h),f.push({event:D,listeners:j}),R?D.data=R:(R=mm(n),R!==null&&(D.data=R)))),(R=j0?E0(t,n):T0(t,n))&&(D=Zl(c,"onBeforeInput"),0<D.length&&(j=new kh("onBeforeInput","beforeinput",null,n,h),f.push({event:j,listeners:D}),j.data=R)),vb(f,t,c,n,h)}cv(f,e)})}function fs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zl(t,e){for(var n=e+"Capture",a=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=is(t,n),i!=null&&a.unshift(fs(t,i,s)),i=is(t,e),i!=null&&a.push(fs(t,i,s))),t.tag===3)return a;t=t.return}return[]}function _b(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jd(t,e,n,a,i){for(var s=e._reactName,l=[];n!==null&&n!==a;){var r=n,u=r.alternate,c=r.stateNode;if(r=r.tag,u!==null&&u===a)break;r!==5&&r!==26&&r!==27||c===null||(u=c,i?(c=is(n,s),c!=null&&l.unshift(fs(n,c,u))):i||(c=is(n,s),c!=null&&l.push(fs(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Sb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function Ed(t){return(typeof t=="string"?t:""+t).replace(Sb,`
`).replace(wb,"")}function dv(t,e){return e=Ed(e),Ed(t)===e}function te(t,e,n,a,i,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||ti(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&ti(t,""+a);break;case"className":Gs(t,"class",a);break;case"tabIndex":Gs(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(t,n,a);break;case"style":om(t,a,s);break;case"data":if(e!=="object"){Gs(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=dl(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&te(t,e,"name",i.name,i,null),te(t,e,"formEncType",i.formEncType,i,null),te(t,e,"formMethod",i.formMethod,i,null),te(t,e,"formTarget",i.formTarget,i,null)):(te(t,e,"encType",i.encType,i,null),te(t,e,"method",i.method,i,null),te(t,e,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=dl(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Ft);break;case"onScroll":a!=null&&Y("scroll",t);break;case"onScrollEnd":a!=null&&Y("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=dl(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Y("beforetoggle",t),Y("toggle",t),hl(t,"popover",a);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":hl(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Zp.get(n)||n,hl(t,n,a))}}function wo(t,e,n,a,i,s){switch(n){case"style":om(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(E(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(E(60));t.innerHTML=n}}break;case"children":typeof a=="string"?ti(t,a):(typeof a=="number"||typeof a=="bigint")&&ti(t,""+a);break;case"onScroll":a!=null&&Y("scroll",t);break;case"onScrollEnd":a!=null&&Y("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Ft);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!am.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Fe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,i);break e}n in t?t[n]=a:a===!0?t.setAttribute(n,""):hl(t,n,a)}}}function Le(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",t),Y("load",t);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,e));default:te(t,e,s,l,n,null)}}i&&te(t,e,"srcSet",n.srcSet,n,null),a&&te(t,e,"src",n.src,n,null);return;case"input":Y("invalid",t);var r=s=l=i=null,u=null,c=null;for(a in n)if(n.hasOwnProperty(a)){var h=n[a];if(h!=null)switch(a){case"name":i=h;break;case"type":l=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(E(137,e));break;default:te(t,e,a,h,n,null)}}lm(t,s,r,u,c,l,i,!1);return;case"select":Y("invalid",t),a=l=s=null;for(i in n)if(n.hasOwnProperty(i)&&(r=n[i],r!=null))switch(i){case"value":s=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:te(t,e,i,r,n,null)}e=s,n=l,t.multiple=!!a,e!=null?Qa(t,!!a,e,!1):n!=null&&Qa(t,!!a,n,!0);return;case"textarea":Y("invalid",t),s=i=a=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":a=r;break;case"defaultValue":i=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(E(91));break;default:te(t,e,l,r,n,null)}um(t,a,i,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:te(t,e,u,a,n,null)}return;case"dialog":Y("beforetoggle",t),Y("toggle",t),Y("cancel",t),Y("close",t);break;case"iframe":case"object":Y("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)Y(ds[a],t);break;case"image":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"embed":case"source":case"link":Y("error",t),Y("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,e));default:te(t,e,c,a,n,null)}return;default:if(rc(e)){for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!==void 0&&wo(t,e,h,a,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(a=n[r],a!=null&&te(t,e,r,a,n,null))}function jb(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,r=null,u=null,c=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=f;default:a.hasOwnProperty(m)||te(t,e,m,null,a,f)}}for(var d in a){var m=a[d];if(f=n[d],a.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":s=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":h=m;break;case"value":l=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(E(137,e));break;default:m!==f&&te(t,e,d,m,a,f)}}Qu(t,l,r,u,c,h,s,i);return;case"select":m=l=r=d=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":m=u;default:a.hasOwnProperty(s)||te(t,e,s,null,a,u)}for(i in a)if(s=a[i],u=n[i],a.hasOwnProperty(i)&&(s!=null||u!=null))switch(i){case"value":d=s;break;case"defaultValue":r=s;break;case"multiple":l=s;default:s!==u&&te(t,e,i,s,a,u)}e=r,n=l,a=m,d!=null?Qa(t,!!n,d,!1):!!a!=!!n&&(e!=null?Qa(t,!!n,e,!0):Qa(t,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(r in n)if(i=n[r],n.hasOwnProperty(r)&&i!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:te(t,e,r,null,a,i)}for(l in a)if(i=a[l],s=n[l],a.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":d=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(E(91));break;default:i!==s&&te(t,e,l,i,a,s)}rm(t,d,m);return;case"option":for(var p in n)if(d=n[p],n.hasOwnProperty(p)&&d!=null&&!a.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:te(t,e,p,null,a,d)}for(u in a)if(d=a[u],m=n[u],a.hasOwnProperty(u)&&d!==m&&(d!=null||m!=null))switch(u){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:te(t,e,u,d,a,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)d=n[_],n.hasOwnProperty(_)&&d!=null&&!a.hasOwnProperty(_)&&te(t,e,_,null,a,d);for(c in a)if(d=a[c],m=n[c],a.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(E(137,e));break;default:te(t,e,c,d,a,m)}return;default:if(rc(e)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!a.hasOwnProperty(S)&&wo(t,e,S,void 0,a,d);for(h in a)d=a[h],m=n[h],!a.hasOwnProperty(h)||d===m||d===void 0&&m===void 0||wo(t,e,h,d,a,m);return}}for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!a.hasOwnProperty(y)&&te(t,e,y,null,a,d);for(f in a)d=a[f],m=n[f],!a.hasOwnProperty(f)||d===m||d==null&&m==null||te(t,e,f,d,a,m)}function Td(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,l=i.initiatorType,r=i.duration;if(s&&r&&Td(l)){for(l=0,r=i.responseEnd,a+=1;a<n.length;a++){var u=n[a],c=u.startTime;if(c>r)break;var h=u.transferSize,f=u.initiatorType;h&&Td(f)&&(u=u.responseEnd,l+=h*(u<r?1:(r-c)/(u-c)))}if(--a,e+=8*(s+l)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jo=null,Eo=null;function Pl(t){return t.nodeType===9?t:t.ownerDocument}function xd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _u=null;function Tb(){var t=window.event;return t&&t.type==="popstate"?t===_u?!1:(_u=t,!0):(_u=null,!1)}var mv=typeof setTimeout=="function"?setTimeout:void 0,xb=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(t){return Od.resolve(null).then(t).catch(Nb)}:mv;function Nb(t){setTimeout(function(){throw t})}function $n(t){return t==="head"}function Nd(t,e){var n=e,a=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(i),oi(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Pi(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Pi(n);for(var s=n.firstChild;s;){var l=s.nextSibling,r=s.nodeName;s[As]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}else n==="body"&&Pi(t.ownerDocument.body);n=i}while(n);oi(e)}function Ad(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function xo(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xo(n),lc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ab(t,e,n,a){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[As])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=jt(t.nextSibling),t===null)break}return null}function Cb(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jt(t.nextSibling),t===null))return null;return t}function gv(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=jt(t.nextSibling),t===null))return null;return t}function Oo(t){return t.data==="$?"||t.data==="$~"}function No(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kb(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function jt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ao=null;function Cd(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return jt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function kd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function vv(t,e,n){switch(e=Pl(n),t){case"html":if(t=e.documentElement,!t)throw Error(E(452));return t;case"head":if(t=e.head,!t)throw Error(E(453));return t;case"body":if(t=e.body,!t)throw Error(E(454));return t;default:throw Error(E(451))}}function Pi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lc(t)}var Et=new Map,Rd=new Set;function Wl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cn=Z.d;Z.d={f:Rb,r:Ub,D:Db,C:zb,L:Mb,m:Bb,X:Hb,S:Lb,M:qb};function Rb(){var t=cn.f(),e=Ar();return t||e}function Ub(t){var e=mi(t);e!==null&&e.tag===5&&e.type==="form"?og(e):cn.r(t)}var pi=typeof document>"u"?null:document;function yv(t,e,n){var a=pi;if(a&&typeof e=="string"&&e){var i=bt(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Rd.has(i)||(Rd.add(i),t={rel:t,crossOrigin:n,href:e},a.querySelector(i)===null&&(e=a.createElement("link"),Le(e,"link",t),ke(e),a.head.appendChild(e)))}}function Db(t){cn.D(t),yv("dns-prefetch",t,null)}function zb(t,e){cn.C(t,e),yv("preconnect",t,e)}function Mb(t,e,n){cn.L(t,e,n);var a=pi;if(a&&t&&e){var i='link[rel="preload"][as="'+bt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(t)+'"]';var s=i;switch(e){case"style":s=ui(t);break;case"script":s=bi(t)}Et.has(s)||(t=he({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Et.set(s,t),a.querySelector(i)!==null||e==="style"&&a.querySelector(zs(s))||e==="script"&&a.querySelector(Ms(s))||(e=a.createElement("link"),Le(e,"link",t),ke(e),a.head.appendChild(e)))}}function Bb(t,e){cn.m(t,e);var n=pi;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+bt(a)+'"][href="'+bt(t)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=bi(t)}if(!Et.has(s)&&(t=he({rel:"modulepreload",href:t},e),Et.set(s,t),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ms(s)))return}a=n.createElement("link"),Le(a,"link",t),ke(a),n.head.appendChild(a)}}}function Lb(t,e,n){cn.S(t,e,n);var a=pi;if(a&&t){var i=Ka(a).hoistableStyles,s=ui(t);e=e||"default";var l=i.get(s);if(!l){var r={loading:0,preload:null};if(l=a.querySelector(zs(s)))r.loading=5;else{t=he({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Et.get(s))&&Kc(t,n);var u=l=a.createElement("link");ke(u),Le(u,"link",t),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,wl(l,e,a)}l={type:"stylesheet",instance:l,count:1,state:r},i.set(s,l)}}}function Hb(t,e){cn.X(t,e);var n=pi;if(n&&t){var a=Ka(n).hoistableScripts,i=bi(t),s=a.get(i);s||(s=n.querySelector(Ms(i)),s||(t=he({src:t,async:!0},e),(e=Et.get(i))&&Qc(t,e),s=n.createElement("script"),ke(s),Le(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function qb(t,e){cn.M(t,e);var n=pi;if(n&&t){var a=Ka(n).hoistableScripts,i=bi(t),s=a.get(i);s||(s=n.querySelector(Ms(i)),s||(t=he({src:t,async:!0,type:"module"},e),(e=Et.get(i))&&Qc(t,e),s=n.createElement("script"),ke(s),Le(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function Ud(t,e,n,a){var i=(i=On.current)?Wl(i):null;if(!i)throw Error(E(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ui(n.href),n=Ka(i).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ui(n.href);var s=Ka(i).hoistableStyles,l=s.get(t);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,l),(s=i.querySelector(zs(t)))&&!s._p&&(l.instance=s,l.state.loading=5),Et.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Et.set(t,n),s||$b(i,t,n,l.state))),e&&a===null)throw Error(E(528,""));return l}if(e&&a!==null)throw Error(E(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bi(n),n=Ka(i).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,t))}}function ui(t){return'href="'+bt(t)+'"'}function zs(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return he({},t,{"data-precedence":t.precedence,precedence:null})}function $b(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Le(e,"link",n),ke(e),t.head.appendChild(e))}function bi(t){return'[src="'+bt(t)+'"]'}function Ms(t){return"script[async]"+t}function Dd(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+bt(n.href)+'"]');if(a)return e.instance=a,ke(a),a;var i=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ke(a),Le(a,"style",i),wl(a,n.precedence,t),e.instance=a;case"stylesheet":i=ui(n.href);var s=t.querySelector(zs(i));if(s)return e.state.loading|=4,e.instance=s,ke(s),s;a=pv(n),(i=Et.get(i))&&Kc(a,i),s=(t.ownerDocument||t).createElement("link"),ke(s);var l=s;return l._p=new Promise(function(r,u){l.onload=r,l.onerror=u}),Le(s,"link",a),e.state.loading|=4,wl(s,n.precedence,t),e.instance=s;case"script":return s=bi(n.src),(i=t.querySelector(Ms(s)))?(e.instance=i,ke(i),i):(a=n,(i=Et.get(s))&&(a=he({},n),Qc(a,i)),t=t.ownerDocument||t,i=t.createElement("script"),ke(i),Le(i,"link",a),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(E(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(a=e.instance,e.state.loading|=4,wl(a,n.precedence,t));return e.instance}function wl(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,l=0;l<a.length;l++){var r=a[l];if(r.dataset.precedence===e)s=r;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Kc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var jl=null;function zd(t,e,n){if(jl===null){var a=new Map,i=jl=new Map;i.set(n,a)}else i=jl,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[As]||s[ze]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(e)||"";l=t+l;var r=a.get(l);r?r.push(s):a.set(l,[s])}}return a}function Md(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Vb(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Gb(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=ui(a.href),s=e.querySelector(zs(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Fl.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,ke(s);return}s=e.ownerDocument||e,a=pv(a),(i=Et.get(i))&&Kc(a,i),s=s.createElement("link"),ke(s);var l=s;l._p=new Promise(function(r,u){l.onload=r,l.onerror=u}),Le(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Fl.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Su=0;function Yb(t,e){return t.stylesheets&&t.count===0&&El(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&El(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Su===0&&(Su=62500*Eb());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&El(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Su?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function Fl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)El(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var er=null;function El(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,er=new Map,e.forEach(Kb,t),er=null,Fl.call(t))}function Kb(t,e){if(!(e.state.loading&4)){var n=er.get(t);if(n)var a=n.get(null);else{n=new Map,er.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var l=i[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}i=e.instance,l=i.getAttribute("data-precedence"),s=n.get(l)||a,s===a&&n.set(null,i),n.set(l,i),this.count++,a=Fl.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var ms={$$typeof:Wt,Provider:null,Consumer:null,_currentValue:ta,_currentValue2:ta,_threadCount:0};function Qb(t,e,n,a,i,s,l,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.hiddenUpdates=Yr(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function _v(t,e,n,a,i,s,l,r,u,c,h,f){return t=new Qb(t,e,n,l,u,c,h,f,r),e=1,s===!0&&(e|=24),s=it(3,null,null,e),t.current=s,s.stateNode=t,e=pc(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},Sc(s),t}function Sv(t){return t?(t=qa,t):qa}function wv(t,e,n,a,i,s){i=Sv(i),a.context===null?a.context=i:a.pendingContext=i,a=An(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Cn(t,a,e),n!==null&&(We(n,t,e),Gi(n,t,e))}function Bd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xc(t,e){Bd(t,e),(t=t.alternate)&&Bd(t,e)}function jv(t){if(t.tag===13||t.tag===31){var e=va(t,67108864);e!==null&&We(e,t,67108864),Xc(t,67108864)}}function Ld(t){if(t.tag===13||t.tag===31){var e=ht();e=ic(e);var n=va(t,e);n!==null&&We(n,t,e),Xc(t,e)}}var tr=!0;function Xb(t,e,n,a){var i=H.T;H.T=null;var s=Z.p;try{Z.p=2,Ic(t,e,n,a)}finally{Z.p=s,H.T=i}}function Ib(t,e,n,a){var i=H.T;H.T=null;var s=Z.p;try{Z.p=8,Ic(t,e,n,a)}finally{Z.p=s,H.T=i}}function Ic(t,e,n,a){if(tr){var i=Co(a);if(i===null)bu(t,e,a,nr,n),Hd(t,a);else if(Zb(i,t,e,n,a))a.stopPropagation();else if(Hd(t,a),e&4&&-1<Jb.indexOf(t)){for(;i!==null;){var s=mi(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Xn(s.pendingLanes);if(l!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;l;){var u=1<<31-ct(l);r.entanglements[1]|=u,l&=~u}qt(s),!(J&6)&&(Kl=ut()+500,Ds(0))}}break;case 31:case 13:r=va(s,2),r!==null&&We(r,s,2),Ar(),Xc(s,2)}if(s=Co(a),s===null&&bu(t,e,a,nr,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else bu(t,e,a,null,n)}}function Co(t){return t=uc(t),Jc(t)}var nr=null;function Jc(t){if(nr=null,t=Da(t),t!==null){var e=Ts(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Gf(e),t!==null)return t;t=null}else if(n===31){if(t=Yf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return nr=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dp()){case If:return 2;case Jf:return 8;case kl:case zp:return 32;case Zf:return 268435456;default:return 32}default:return 32}}var ko=!1,Un=null,Dn=null,zn=null,gs=new Map,vs=new Map,bn=[],Jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hd(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":gs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(e.pointerId)}}function ki(t,e,n,a,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mi(e),e!==null&&jv(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zb(t,e,n,a,i){switch(e){case"focusin":return Un=ki(Un,t,e,n,a,i),!0;case"dragenter":return Dn=ki(Dn,t,e,n,a,i),!0;case"mouseover":return zn=ki(zn,t,e,n,a,i),!0;case"pointerover":var s=i.pointerId;return gs.set(s,ki(gs.get(s)||null,t,e,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,vs.set(s,ki(vs.get(s)||null,t,e,n,a,i)),!0}return!1}function Tv(t){var e=Da(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Gf(n),e!==null){t.blockedOn=e,jh(t.priority,function(){Ld(n)});return}}else if(e===31){if(e=Yf(n),e!==null){t.blockedOn=e,jh(t.priority,function(){Ld(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Co(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Iu=a,n.target.dispatchEvent(a),Iu=null}else return e=mi(n),e!==null&&jv(e),t.blockedOn=n,!1;e.shift()}return!0}function qd(t,e,n){Tl(t)&&n.delete(e)}function Pb(){ko=!1,Un!==null&&Tl(Un)&&(Un=null),Dn!==null&&Tl(Dn)&&(Dn=null),zn!==null&&Tl(zn)&&(zn=null),gs.forEach(qd),vs.forEach(qd)}function Ps(t,e){t.blockedOn===e&&(t.blockedOn=null,ko||(ko=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,Pb)))}var Ws=null;function $d(t){Ws!==t&&(Ws=t,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,function(){Ws===t&&(Ws=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],i=t[e+2];if(typeof a!="function"){if(Jc(a||n)===null)continue;break}var s=mi(n);s!==null&&(t.splice(e,3),e-=3,co(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function oi(t){function e(u){return Ps(u,t)}Un!==null&&Ps(Un,t),Dn!==null&&Ps(Dn,t),zn!==null&&Ps(zn,t),gs.forEach(e),vs.forEach(e);for(var n=0;n<bn.length;n++){var a=bn[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)Tv(n),n.blockedOn===null&&bn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],l=i[Fe]||null;if(typeof s=="function")l||$d(n);else if(l){var r=null;if(s&&s.hasAttribute("formAction")){if(i=s,l=s[Fe]||null)r=l.formAction;else if(Jc(i)!==null)continue}else r=l.action;typeof r=="function"?n[a+1]=r:(n.splice(a,3),a-=3),$d(n)}}}function xv(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Zc(t){this._internalRoot=t}Rr.prototype.render=Zc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));var n=e.current,a=ht();wv(n,a,t,e,null,null)};Rr.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wv(t.current,2,null,t,null,null),Ar(),e[fi]=null}};function Rr(t){this._internalRoot=t}Rr.prototype.unstable_scheduleHydration=function(t){if(t){var e=tm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bn.length&&e!==0&&e<bn[n].priority;n++);bn.splice(n,0,t),n===0&&Tv(t)}};var Vd=$f.version;if(Vd!=="19.2.3")throw Error(E(527,Vd,"19.2.3"));Z.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Op(e),t=t!==null?Kf(t):null,t=t===null?null:t.stateNode,t};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{xs=Fs.inject(Wb),ot=Fs}catch{}}gr.createRoot=function(t,e){if(!Vf(t))throw Error(E(299));var n=!1,a="",i=yg,s=pg,l=bg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=_v(t,1,!1,null,null,n,a,null,i,s,l,xv),t[fi]=e.current,Yc(t),new Zc(e)};gr.hydrateRoot=function(t,e,n){if(!Vf(t))throw Error(E(299));var a=!1,i="",s=yg,l=pg,r=bg,u=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=_v(t,1,!0,e,n??null,a,i,u,s,l,r,xv),e.context=Sv(null),n=e.current,a=ht(),a=ic(a),i=An(a),i.callback=null,Cn(n,i,a),n=a,e.current.lanes=n,Ns(e,n),qt(e),t[fi]=e.current,Yc(t),new Rr(e)};gr.version="19.2.3";function Ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ov)}catch(t){console.error(t)}}Ov(),zf.exports=gr;var Fb=zf.exports;const e_=jf(Fb);var Ro=function(t,e){return Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Ro(t,e)};function Nv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ro(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ar=function(){return ar=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ar.apply(this,arguments)};function _i(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function Av(t,e,n,a){var i=arguments.length,s=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(s=(i<3?l(s):i>3?l(e,n,s):l(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Cv(t,e){return function(n,a){e(n,a,t)}}function kv(t,e,n,a,i,s){function l(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var r=a.kind,u=r==="getter"?"get":r==="setter"?"set":"value",c=!e&&t?a.static?t:t.prototype:null,h=e||(c?Object.getOwnPropertyDescriptor(c,a.name):{}),f,d=!1,m=n.length-1;m>=0;m--){var p={};for(var _ in a)p[_]=_==="access"?{}:a[_];for(var _ in a.access)p.access[_]=a.access[_];p.addInitializer=function(y){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(y||null))};var S=(0,n[m])(r==="accessor"?{get:h.get,set:h.set}:h[u],p);if(r==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=l(S.get))&&(h.get=f),(f=l(S.set))&&(h.set=f),(f=l(S.init))&&i.unshift(f)}else(f=l(S))&&(r==="field"?i.unshift(f):h[u]=f)}c&&Object.defineProperty(c,a.name,h),d=!0}function Rv(t,e,n){for(var a=arguments.length>2,i=0;i<e.length;i++)n=a?e[i].call(t,n):e[i].call(t);return a?n:void 0}function Uv(t){return typeof t=="symbol"?t:"".concat(t)}function Dv(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function zv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U(t,e,n,a){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function r(h){try{c(a.next(h))}catch(f){l(f)}}function u(h){try{c(a.throw(h))}catch(f){l(f)}}function c(h){h.done?s(h.value):i(h.value).then(r,u)}c((a=a.apply(t,e||[])).next())})}function Mv(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,i,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=r(0),l.throw=r(1),l.return=r(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function r(c){return function(h){return u([c,h])}}function u(c){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(n=0)),n;)try{if(a=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Ur=Object.create?function(t,e,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,i)}:function(t,e,n,a){a===void 0&&(a=n),t[a]=e[n]};function Bv(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ur(e,t,n)}function ir(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pc(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),i,s=[],l;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(r){l={error:r}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(l)throw l.error}}return s}function Lv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pc(arguments[e]));return t}function Hv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],l=0,r=s.length;l<r;l++,i++)a[i]=s[l];return a}function qv(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,s;a<i;a++)(s||!(a in e))&&(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function $v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(m){return function(p){return Promise.resolve(p).then(m,f)}}function r(m,p){a[m]&&(i[m]=function(_){return new Promise(function(S,y){s.push([m,_,S,y])>1||u(m,_)})},p&&(i[m]=p(i[m])))}function u(m,p){try{c(a[m](p))}catch(_){d(s[0][3],_)}}function c(m){m.value instanceof ci?Promise.resolve(m.value.v).then(h,f):d(s[0][2],m)}function h(m){u("next",m)}function f(m){u("throw",m)}function d(m,p){m(p),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Vv(t){var e,n;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,s){e[i]=t[i]?function(l){return(n=!n)?{value:ci(t[i](l)),done:!1}:s?s(l):l}:s}}function Gv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ir=="function"?ir(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=t[s]&&function(l){return new Promise(function(r,u){l=t[s](l),i(r,u,l.done,l.value)})}}function i(s,l,r,u){Promise.resolve(u).then(function(c){s({value:c,done:r})},l)}}function Yv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var t_=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Uo=function(t){return Uo=Object.getOwnPropertyNames||function(e){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[n.length]=a);return n},Uo(t)};function Kv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Uo(t),a=0;a<n.length;a++)n[a]!=="default"&&Ur(e,t,n[a]);return t_(e,t),e}function Qv(t){return t&&t.__esModule?t:{default:t}}function Xv(t,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)}function Iv(t,e,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Jv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Zv(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:a,async:n})}else n&&t.stack.push({async:!0});return e}var n_=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var a=new Error(n);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function Pv(t){function e(s){t.error=t.hasError?new n_(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,a=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&a===1)return a=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(s).then(i,function(l){return e(l),i()})}else a|=1}catch(l){e(l)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Wv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,s,l){return a?e?".jsx":".js":i&&(!s||!l)?n:i+s+"."+l.toLowerCase()+"js"}):t}const a_={__extends:Nv,__assign:ar,__rest:_i,__decorate:Av,__param:Cv,__esDecorate:kv,__runInitializers:Rv,__propKey:Uv,__setFunctionName:Dv,__metadata:zv,__awaiter:U,__generator:Mv,__createBinding:Ur,__exportStar:Bv,__values:ir,__read:Pc,__spread:Lv,__spreadArrays:Hv,__spreadArray:qv,__await:ci,__asyncGenerator:$v,__asyncDelegator:Vv,__asyncValues:Gv,__makeTemplateObject:Yv,__importStar:Kv,__importDefault:Qv,__classPrivateFieldGet:Xv,__classPrivateFieldSet:Iv,__classPrivateFieldIn:Jv,__addDisposableResource:Zv,__disposeResources:Pv,__rewriteRelativeImportExtension:Wv},i_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Zv,get __assign(){return ar},__asyncDelegator:Vv,__asyncGenerator:$v,__asyncValues:Gv,__await:ci,__awaiter:U,__classPrivateFieldGet:Xv,__classPrivateFieldIn:Jv,__classPrivateFieldSet:Iv,__createBinding:Ur,__decorate:Av,__disposeResources:Pv,__esDecorate:kv,__exportStar:Bv,__extends:Nv,__generator:Mv,__importDefault:Qv,__importStar:Kv,__makeTemplateObject:Yv,__metadata:zv,__param:Cv,__propKey:Uv,__read:Pc,__rest:_i,__rewriteRelativeImportExtension:Wv,__runInitializers:Rv,__setFunctionName:Dv,__spread:Lv,__spreadArray:qv,__spreadArrays:Hv,__values:ir,default:a_},Symbol.toStringTag,{value:"Module"})),s_="modulepreload",l_=function(t){return"/tracker/"+t},Gd={},Si=function(e,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),r=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=l_(u),u in Gd)return;Gd[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":s_,c||(f.as="script"),f.crossOrigin="",f.href=u,r&&f.setAttribute("nonce",r),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l}return i.then(l=>{for(const r of l||[])r.status==="rejected"&&s(r.reason);return e().catch(s)})},r_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Si(async()=>{const{default:a}=await Promise.resolve().then(()=>pa);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class Wc extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class Yd extends Wc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kd extends Wc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qd extends Wc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Do;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Do||(Do={}));class u_{constructor(e,{headers:n={},customFetch:a,region:i=Do.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=r_(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return U(this,arguments,void 0,function*(n,a={}){var i;try{const{headers:s,method:l,body:r,signal:u}=a;let c={},{region:h}=a;h||(h=this.region);const f=new URL(`${this.url}/${n}`);h&&h!=="any"&&(c["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let d;r&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=r):typeof r=="string"?(c["Content-Type"]="text/plain",d=r):typeof FormData<"u"&&r instanceof FormData?d=r:(c["Content-Type"]="application/json",d=JSON.stringify(r)):d=r;const m=yield this.fetch(f.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:d,signal:u}).catch(y=>{throw y.name==="AbortError"?y:new Yd(y)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new Kd(m);if(!m.ok)throw new Qd(m);let _=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield m.json():_==="application/octet-stream"||_==="application/pdf"?S=yield m.blob():_==="text/event-stream"?S=m:_==="multipart/form-data"?S=yield m.formData():S=yield m.text(),{data:S,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Yd(s)}:{data:null,error:s,response:s instanceof Qd||s instanceof Kd?s.context:void 0}}})}}var Pe={};const wi=Ef(i_);var el={},tl={},nl={},al={},il={},o_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hi=o_();const c_=hi.fetch,Fv=hi.fetch.bind(hi),ey=hi.Headers,h_=hi.Request,d_=hi.Response,pa=Object.freeze(Object.defineProperty({__proto__:null,Headers:ey,Request:h_,Response:d_,default:Fv,fetch:c_},Symbol.toStringTag,{value:"Module"})),f_=Ef(pa);var sl={},Xd;function ty(){if(Xd)return sl;Xd=1,Object.defineProperty(sl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sl.default=t,sl}var Id;function ny(){if(Id)return il;Id=1,Object.defineProperty(il,"__esModule",{value:!0});const t=wi,e=t.__importDefault(f_),n=t.__importDefault(ty());class a{constructor(s){var l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let u=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var h,f,d,m;let p=null,_=null,S=null,y=c.status,g=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=O:_=JSON.parse(O))}const b=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&T&&T.length>1&&(S=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,y=406,g="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(_=[],p=null,y=200,g="OK")}catch{c.status===404&&b===""?(y=204,g="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,y=200,g="OK"),p&&this.shouldThrowOnError)throw new n.default(p)}return{error:p,data:_,count:S,status:y,statusText:g}});return this.shouldThrowOnError||(u=u.catch(c=>{var h,f,d;return{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),u.then(s,l)}returns(){return this}overrideTypes(){return this}}return il.default=a,il}var Jd;function ay(){if(Jd)return al;Jd=1,Object.defineProperty(al,"__esModule",{value:!0});const e=wi.__importDefault(ny());class n extends e.default{select(i){let s=!1;const l=(i??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:r,referencedTable:u=r}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:r=l}={}){const u=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:r=!1,wal:u=!1,format:c="text"}={}){var h;const f=[i?"analyze":null,s?"verbose":null,l?"settings":null,r?"buffers":null,u?"wal":null].filter(Boolean).join("|"),d=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return al.default=n,al}var Zd;function Fc(){if(Zd)return nl;Zd=1,Object.defineProperty(nl,"__esModule",{value:!0});const e=wi.__importDefault(ay()),n=new RegExp("[,()]");class a extends e.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const r=Array.from(new Set(l)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:r,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${h}.${l}`),this}match(s){return Object.entries(s).forEach(([l,r])=>{this.url.searchParams.append(l,`eq.${r}`)}),this}not(s,l,r){return this.url.searchParams.append(s,`not.${l}.${r}`),this}or(s,{foreignTable:l,referencedTable:r=l}={}){const u=r?`${r}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,l,r){return this.url.searchParams.append(s,`${l}.${r}`),this}}return nl.default=a,nl}var Pd;function iy(){if(Pd)return tl;Pd=1,Object.defineProperty(tl,"__esModule",{value:!0});const e=wi.__importDefault(Fc());class n{constructor(i,{headers:s={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(s),this.schema=l,this.fetch=r}select(i,s){const{head:l=!1,count:r}=s??{},u=l?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",h),r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:l=!0}={}){var r;const u="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(c.length>0){const h=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:r,defaultToNull:u=!0}={}){var c;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),r&&this.headers.append("Prefer",`count=${r}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(f.length>0){const d=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var l;const r="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var s;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return tl.default=n,tl}var Wd;function m_(){if(Wd)return el;Wd=1,Object.defineProperty(el,"__esModule",{value:!0});const t=wi,e=t.__importDefault(iy()),n=t.__importDefault(Fc());class a{constructor(s,{headers:l={},schema:r,fetch:u}={}){this.url=s,this.headers=new Headers(l),this.schemaName=r,this.fetch=u}from(s){const l=new URL(`${this.url}/${s}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:r=!1,get:u=!1,count:c}={}){var h;let f;const d=new URL(`${this.url}/rpc/${s}`);let m;r||u?(f=r?"HEAD":"GET",Object.entries(l).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{d.searchParams.append(_,S)})):(f="POST",m=l);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new n.default({method:f,url:d,headers:p,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return el.default=a,el}Object.defineProperty(Pe,"__esModule",{value:!0});var sy=Pe.PostgrestError=gy=Pe.PostgrestBuilder=fy=Pe.PostgrestTransformBuilder=hy=Pe.PostgrestFilterBuilder=oy=Pe.PostgrestQueryBuilder=ry=Pe.PostgrestClient=void 0;const ji=wi,ly=ji.__importDefault(m_());var ry=Pe.PostgrestClient=ly.default;const uy=ji.__importDefault(iy());var oy=Pe.PostgrestQueryBuilder=uy.default;const cy=ji.__importDefault(Fc());var hy=Pe.PostgrestFilterBuilder=cy.default;const dy=ji.__importDefault(ay());var fy=Pe.PostgrestTransformBuilder=dy.default;const my=ji.__importDefault(ny());var gy=Pe.PostgrestBuilder=my.default;const vy=ji.__importDefault(ty());sy=Pe.PostgrestError=vy.default;var yy=Pe.default={PostgrestClient:ly.default,PostgrestQueryBuilder:uy.default,PostgrestFilterBuilder:cy.default,PostgrestTransformBuilder:dy.default,PostgrestBuilder:my.default,PostgrestError:vy.default};const g_=Object.freeze(Object.defineProperty({__proto__:null,get PostgrestBuilder(){return gy},get PostgrestClient(){return ry},get PostgrestError(){return sy},get PostgrestFilterBuilder(){return hy},get PostgrestQueryBuilder(){return oy},get PostgrestTransformBuilder(){return fy},default:yy},Symbol.toStringTag,{value:"Module"})),{PostgrestClient:v_,PostgrestQueryBuilder:mj,PostgrestFilterBuilder:gj,PostgrestTransformBuilder:vj,PostgrestBuilder:yj,PostgrestError:pj}=yy||g_;class y_{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const p_="2.78.0",b_=`realtime-js/${p_}`,__="1.0.0",zo=1e4,S_=1e3,w_=100;var Wi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wi||(Wi={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var Rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rt||(Rt={}));var Mo;(function(t){t.websocket="websocket"})(Mo||(Mo={}));var Wn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wn||(Wn={}));class j_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const i=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const r=a.decode(e.slice(l,l+i));l=l+i;const u=a.decode(e.slice(l,l+s));l=l+s;const c=JSON.parse(a.decode(e.slice(l,e.byteLength)));return{ref:null,topic:r,event:u,payload:c}}}class py{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const Fd=(t,e,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((s,l)=>(s[l]=E_(l,t,e,i),s),{}):{}},E_=(t,e,n,a)=>{const i=e.find(r=>r.name===t),s=i==null?void 0:i.type,l=n[t];return s&&!a.includes(s)?by(s,l):Bo(l)},by=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return N_(e,n)}switch(t){case ie.bool:return T_(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return x_(e);case ie.json:case ie.jsonb:return O_(e);case ie.timestamp:return A_(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Bo(e);default:return Bo(e)}},Bo=t=>t,T_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},x_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},O_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},N_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let s;const l=t.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(r=>by(e,r))}return t},A_=t=>typeof t=="string"?t.replace(" ","T"):t,_y=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class wu{constructor(e,n,a={},i=zo){this.channel=e,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ef;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ef||(ef={}));class Fi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fi.syncState(this.state,i,s,l),this.pendingDiffs.forEach(u=>{this.state=Fi.syncDiff(this.state,u,s,l)}),this.pendingDiffs=[],r()}),this.channel._on(a.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fi.syncDiff(this.state,i,s,l),r())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,i){const s=this.cloneDeep(e),l=this.transformState(n),r={},u={};return this.map(s,(c,h)=>{l[c]||(u[c]=h)}),this.map(l,(c,h)=>{const f=s[c];if(f){const d=h.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),p=h.filter(S=>m.indexOf(S.presence_ref)<0),_=f.filter(S=>d.indexOf(S.presence_ref)<0);p.length>0&&(r[c]=p),_.length>0&&(u[c]=_)}else r[c]=h}),this.syncDiff(s,{joins:r,leaves:u},a,i)}static syncDiff(e,n,a,i){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(s,(r,u)=>{var c;const h=(c=e[r])!==null&&c!==void 0?c:[];if(e[r]=this.cloneDeep(u),h.length>0){const f=e[r].map(m=>m.presence_ref),d=h.filter(m=>f.indexOf(m.presence_ref)<0);e[r].unshift(...d)}a(r,h,u)}),this.map(l,(r,u)=>{let c=e[r];if(!c)return;const h=u.map(f=>f.presence_ref);c=c.filter(f=>h.indexOf(f.presence_ref)<0),e[r]=c,i(r,c,u),c.length===0&&delete e[r]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const i=e[a];return"metas"in i?n[a]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[a]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tf||(tf={}));var es;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(es||(es={}));var Jt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class eh{constructor(e,n={config:{}},a){var i,s;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new py(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(l,r)=>{this._trigger(this._replyEventName(r),l)}),this.presence=new Fi(this),this.broadcastEndpointURL=_y(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Te.closed){const{config:{broadcast:l,presence:r,private:u}}=this.params,c=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(m=>m.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},d={broadcast:l,presence:Object.assign(Object.assign({},r),{enabled:h}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(Jt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){e==null||e(Jt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(p=_==null?void 0:_.length)!==null&&p!==void 0?p:0,y=[];for(let g=0;g<S;g++){const v=_[g],{filter:{event:b,schema:T,table:O,filter:j}}=v,R=m&&m[g];if(R&&R.event===b&&R.schema===T&&R.table===O&&R.filter===j)y.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=Te.errored,e==null||e(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Jt.SUBSCRIBED);return}}).receive("error",m=>{this.state=Te.errored,e==null||e(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===Te.joined&&e===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},r=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(r.status===202)return{success:!0};let u=r.statusText;try{const c=await r.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(e,n={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,r,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(r=(l=this.params)===null||l===void 0?void 0:l.config)===null||r===void 0?void 0:r.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new wu(this,Rt.leave,{},e),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Te.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const i=new AbortController,s=setTimeout(()=>i.abort(),a),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),l}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new wu(this,e,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>w_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var i,s;const l=e.toLocaleLowerCase(),{close:r,error:u,leave:c,join:h}=Rt;if(a&&[r,u,c,h].indexOf(l)>=0&&a!==this._joinRef())return;let d=this._onMessage(l,n,a);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,_,S;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((S=(_=m.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(m=>m.callback(d,a)):(s=this.bindings[l])===null||s===void 0||s.filter(m=>{var p,_,S,y,g,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const b=m.id,T=(p=m.filter)===null||p===void 0?void 0:p.event;return b&&((_=n.ids)===null||_===void 0?void 0:_.includes(b))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof d=="object"&&"ids"in d){const p=d.data,{schema:_,table:S,commit_timestamp:y,type:g,errors:v}=p;d=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(p))}m.callback(d,a)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===a&&eh.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rt.close,{},e)}_onError(e){this._on(Rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Fd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Fd(e.columns,e.old_record)),n}}const ju=()=>{},ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C_=[1e3,2e3,5e3,1e4],k_=1e4,R_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U_{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zo,this.transport=null,this.heartbeatIntervalMs=ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ju,this.ref=0,this.reconnectTimer=null,this.logger=ju,this.conn=null,this.sendBuffer=[],this.serializer=new j_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>Si(async()=>{const{default:r}=await Promise.resolve().then(()=>pa);return{default:r}},void 0).then(({default:r})=>r(...l)).catch(r=>{throw new Error(`Failed to load @supabase/node-fetch: ${r.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Mo.websocket}`,this.httpEndpoint=_y(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:__}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Wi.connecting:return Wn.Connecting;case Wi.open:return Wn.Open;case Wi.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===a);if(i)return i;{const s=new eh(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:a,payload:i,ref:s}=e,l=()=>{this.encode(e,r=>{var u;(u=this.conn)===null||u===void 0||u.send(r)})};this.log("push",`${n} ${a} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(S_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:s,ref:l}=n,r=l?`(${l})`:"",u=s.status||"";this.log("receive",`${u} ${a} ${i} ${r}`.trim(),s),this.channels.filter(c=>c._isMember(a)).forEach(c=>c._trigger(i,s,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${a}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([R_],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:b_};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new py(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,i,s,l,r,u,c,h;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:zo,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ll.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(r=e==null?void 0:e.heartbeatCallback)!==null&&r!==void 0?r:ju,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:f=>C_[f-1]||k_,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,d)=>d(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class th extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class D_ extends th{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lo extends th{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Si(async()=>{const{default:a}=await Promise.resolve().then(()=>pa);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},z_=()=>U(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Si(()=>Promise.resolve().then(()=>pa),void 0)).Response:Response}),Ho=t=>{if(Array.isArray(t))return t.map(n=>Ho(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ho(a)}),e},M_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eu=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},B_=(t,e,n)=>U(void 0,void 0,void 0,function*(){const a=yield z_();t instanceof a&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,l=(i==null?void 0:i.statusCode)||s+"";e(new D_(Eu(i),s,l))}).catch(i=>{e(new Lo(Eu(i),i))}):e(new Lo(Eu(t),t))}),L_=(t,e,n,a)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!a?i:(M_(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Bs(t,e,n,a,i,s){return U(this,void 0,void 0,function*(){return new Promise((l,r)=>{t(n,L_(e,a,i,s)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>B_(u,r,a))})})}function ys(t,e,n,a){return U(this,void 0,void 0,function*(){return Bs(t,"GET",e,n,a)})}function Ct(t,e,n,a,i){return U(this,void 0,void 0,function*(){return Bs(t,"POST",e,a,i,n)})}function qo(t,e,n,a,i){return U(this,void 0,void 0,function*(){return Bs(t,"PUT",e,a,i,n)})}function H_(t,e,n,a){return U(this,void 0,void 0,function*(){return Bs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function ah(t,e,n,a,i){return U(this,void 0,void 0,function*(){return Bs(t,"DELETE",e,a,i,n)})}class q_{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}}var Sy;class $_{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Sy]="BlobDownloadBuilder",this.promise=null}asStream(){return new q_(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}}Sy=Symbol.toStringTag;const V_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class G_{constructor(e,n={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=nh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,i){return U(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},nf),i);let r=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.append("cacheControl",l.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=a,r["cache-control"]=`max-age=${l.cacheControl}`,r["content-type"]=l.contentType,u&&(r["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(r=Object.assign(Object.assign({},r),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),f=yield(e=="PUT"?qo:Ct)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:r},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}upload(e,n,a){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,i){return U(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),l=this._getFinalPath(s),r=new URL(this.url+`/object/upload/sign/${l}`);r.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:nf.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",c.cacheControl)):(u=a,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const f=yield qo(this.fetch,r.toString(),u,{headers:h});return{data:{path:s,fullPath:f.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(fe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return U(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ct(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),l=new URL(this.url+s.url),r=l.searchParams.get("token");if(!r)throw new th("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:r},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}update(e,n,a){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return U(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}copy(e,n,a){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,a){return U(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ct(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,a){return U(this,void 0,void 0,function*(){try{const i=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"",r=this._getFinalPath(e),u=()=>ys(this.fetch,`${this.url}/${i}/${r}${l}`,{headers:this.headers,noResolveJson:!0});return new $_(u,this.shouldThrowOnError)}info(e){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield ys(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ho(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}exists(e){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield H_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a)&&a instanceof Lo){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const r=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${a}${c}`)}}}remove(e){return U(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}list(e,n,a){return U(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},V_),n),{prefix:e||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}listV2(e,n){return U(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Ct(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const wy="2.78.0",jy={"X-Client-Info":`storage-js/${wy}`};class Y_{constructor(e,n={},a,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=nh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return U(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield ys(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield ys(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}createBucket(e){return U(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return U(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}emptyBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class K_{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jy),n),this.fetch=nh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}listBuckets(e){return U(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ys(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}}const ih={"X-Client-Info":`storage-js/${wy}`,"Content-Type":"application/json"};class Ey extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Tu extends Ey{constructor(e,n,a){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Q_ extends Ey{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var af;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(af||(af={}));const sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Si(async()=>{const{default:a}=await Promise.resolve().then(()=>pa);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},X_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I_=(t,e,n)=>U(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(l=>{const r=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Tu(sf(l),i,r))}).catch(()=>{const l=i+"",r=s.statusText||`HTTP ${i} error`;e(new Tu(r,i,l))});else{const l=i+"",r=s.statusText||`HTTP ${i} error`;e(new Tu(r,i,l))}}else e(new Q_(sf(t),t))}),J_=(t,e,n,a)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return a?(X_(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function Z_(t,e,n,a,i,s){return U(this,void 0,void 0,function*(){return new Promise((l,r)=>{t(n,J_(e,a,i,s)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>l(u)).catch(u=>I_(u,r,a))})})}function lt(t,e,n,a,i){return U(this,void 0,void 0,function*(){return Z_(t,"POST",e,a,i,n)})}class P_{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=sh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return U(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getIndex(e,n){return U(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}listIndexes(e){return U(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return U(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}}class W_{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=sh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return U(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listVectors(e){return U(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield lt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}queryVectors(e){return U(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteVectors(e){return U(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}class F_{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ih),n),this.fetch=sh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return U(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(){return U(this,arguments,void 0,function*(e={}){try{return{data:yield lt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return U(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}class eS extends F_{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new tS(this.url,this.headers,e,this.fetch)}}class tS extends P_{constructor(e,n,a,i){super(e,n,i),this.vectorBucketName=a}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new nS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class nS extends W_{constructor(e,n,a,i,s){super(e,n,s),this.vectorBucketName=a,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aS extends Y_{constructor(e,n={},a,i){super(e,n,a,i)}from(e){return new G_(this.url,this.headers,e,this.fetch)}get vectors(){return new eS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K_(this.url+"/iceberg",this.headers,this.fetch)}}const iS="2.78.0";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const sS={"X-Client-Info":`supabase-js-${Bi}/${iS}`},lS={headers:sS},rS={schema:"public"},uS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oS={},cS=t=>{let e;return t?e=t:typeof fetch>"u"?e=Fv:e=fetch,(...n)=>e(...n)},hS=()=>typeof Headers>"u"?ey:Headers,dS=(t,e,n)=>{const a=cS(n),i=hS();return async(s,l)=>{var r;const u=(r=await e())!==null&&r!==void 0?r:t;let c=new i(l==null?void 0:l.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),a(s,Object.assign(Object.assign({},l),{headers:c}))}};function fS(t){return t.endsWith("/")?t:t+"/"}function mS(t,e){var n,a;const{db:i,auth:s,realtime:l,global:r}=t,{db:u,auth:c,realtime:h,global:f}=e,d={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},f),r),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(a=r==null?void 0:r.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function gS(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ty="2.78.0",Ca=30*1e3,$o=3,xu=$o*Ca,vS="http://localhost:9999",yS="supabase.auth.token",pS={"X-Client-Info":`gotrue-js/${Ty}`},Vo="X-Supabase-Api-Version",xy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_S=10*60*1e3;class ps extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class SS extends ps{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function wS(t){return z(t)&&t.name==="AuthApiError"}class Fn extends ps{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Vn extends ps{constructor(e,n,a,i){super(e,a,i),this.name=n,this.status=a}}class Nt extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jS(t){return z(t)&&t.name==="AuthSessionMissingError"}class wa extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends Vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ul extends Vn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ES(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class lf extends Vn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Go extends Vn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ou(t){return z(t)&&t.name==="AuthRetryableFetchError"}class rf extends Vn{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Yo extends Vn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uf=` 	
\r=`.split(""),TS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uf.length;e+=1)t[uf[e].charCodeAt(0)]=-2;for(let e=0;e<sr.length;e+=1)t[sr[e].charCodeAt(0)]=e;return t})();function of(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(sr[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(sr[a]),e.queuedBits-=6}}function Oy(t,e,n){const a=TS[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cf(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{NS(l,a,n)};for(let l=0;l<t.length;l+=1)Oy(t.charCodeAt(l),i,s);return e.join("")}function xS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function OS(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}xS(a,e)}}function NS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if(!(t>>7-a&1)){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Wa(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Oy(t.charCodeAt(i),n,a);return new Uint8Array(e)}function AS(t){const e=[];return OS(t,n=>e.push(n)),new Uint8Array(e)}function ea(t){const e=[],n={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>of(i,n,a)),of(null,n,a),e.join("")}function CS(t){return Math.round(Date.now()/1e3)+t}function kS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},Ny=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function RS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((a,i)=>{e[i]=a}),e}const Ay=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Si(async()=>{const{default:a}=await Promise.resolve().then(()=>pa);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},US=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ka=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Kn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(t,e)=>{await t.removeItem(e)};class Dr{constructor(){this.promise=new Dr.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Dr.promiseConstructor=Promise;function Nu(t){const e=t.split(".");if(e.length!==3)throw new Yo("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!bS.test(e[a]))throw new Yo("JWT not in base64url format");return{header:JSON.parse(cf(e[0])),payload:JSON.parse(cf(e[1])),signature:Wa(e[2]),raw:{header:e[0],payload:e[1]}}}async function DS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zS(t,e){return new Promise((a,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await t(s);if(!e(s,null,l)){a(l);return}}catch(l){if(!e(s,l)){i(l);return}}})()})}function MS(t){return("0"+t.toString(16)).substr(-2)}function BS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,MS).join("")}async function LS(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function HS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ja(t,e,n=!1){const a=BS();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await ka(t,`${e}-code-verifier`,i);const s=await HS(a);return[s,a===s?"plain":"s256"]}const qS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $S(t){const e=t.headers.get(Vo);if(!e||!e.match(qS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function VS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ea(t){if(!YS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Au(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KS(t,e){return new Proxy(t,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,i)}})}function hf(t){return JSON.parse(JSON.stringify(t))}const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QS=[502,503,504];async function df(t){var e;if(!US(t))throw new Go(Zn(t),0);if(QS.includes(t.status))throw new Go(Zn(t),t.status);let n;try{n=await t.json()}catch(s){throw new Fn(Zn(s),s)}let a;const i=$S(t);if(i&&i.getTime()>=xy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new rf(Zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new rf(Zn(n),t.status,n.weak_password.reasons);throw new SS(Zn(n),t.status||500,a)}const XS=(t,e,n,a)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function L(t,e,n,a){var i;const s=Object.assign({},a==null?void 0:a.headers);s[Vo]||(s[Vo]=xy["2024-01-01"].name),a!=null&&a.jwt&&(s.Authorization=`Bearer ${a.jwt}`);const l=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const r=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await IS(t,e,n+r,{headers:s,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function IS(t,e,n,a,i,s){const l=XS(e,a,i,s);let r;try{r=await t(n,Object.assign({},l))}catch(u){throw console.error(u),new Go(Zn(u),0)}if(r.ok||await df(r),a!=null&&a.noResolveJson)return r;try{return await r.json()}catch(u){await df(u)}}function At(t){var e;let n=null;PS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=CS(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function ff(t){const e=At(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _n(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function JS(t){return{data:t,error:null}}function ZS(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s}=t,l=_i(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:e,email_otp:n,hashed_token:a,redirect_to:i,verification_type:s},u=Object.assign({},l);return{data:{properties:r,user:u},error:null}}function mf(t){return t}function PS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cu=["global","local","others"];class WS{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Ay(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Cu[0]){if(Cu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cu.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_n})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=_i(e,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ZS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_n})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,i,s,l,r,u;try{const c={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:mf});if(h.error)throw h.error;const f=await h.json(),d=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(u=(r=h.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ea(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_n})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ea(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:_n})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Ea(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:_n})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ea(e.userId);try{const{data:n,error:a}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ea(e.userId),Ea(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,i,s,l,r,u;try{const c={nextPage:null,lastPage:0,total:0},h=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:mf});if(h.error)throw h.error;const f=await h.json(),d=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(u=(r=h.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(p=>{const _=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(p.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(z(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}}function gf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ta={debug:!!(globalThis&&Ny()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FS extends Cy{}async function ew(t,e,n){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new FS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ta.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function tw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ky(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nw(t){return parseInt(t,16)}function aw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function iw(t){var e;const{chainId:n,domain:a,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:r,requestId:u,resources:c,scheme:h,uri:f,version:d}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=ky(t.address),p=h?`${h}://${a}`:a,_=t.statement?`${t.statement}
`:"",S=`${p} wants you to sign in with your Ethereum account:
${m}

${_}`;let y=`URI: ${f}
Version: ${d}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),r&&(y+=`
Not Before: ${r.toISOString()}`),u&&(y+=`
Request ID: ${u}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}y+=g}return`${S}
${y}`}class _e extends Error{constructor({message:e,code:n,cause:a,name:i}){var s;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(s=i??(a instanceof Error?a.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class lr extends _e{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function sw({error:t,options:e}){var n,a,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new _e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new _e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(r=>r.type==="public-key").length===0?new _e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(Ry(l)){if(s.rp.id!==l)return new _e({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lw({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _e({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Ry(a)){if(n.rpId!==a)return new _e({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class rw{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const uw=new rw;function ow(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,i=_i(t,["challenge","user","excludeCredentials"]),s=Wa(e).buffer,l=Object.assign(Object.assign({},n),{id:Wa(n.id).buffer}),r=Object.assign(Object.assign({},i),{challenge:s,user:l});if(a&&a.length>0){r.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const c=a[u];r.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Wa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return r}function cw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=_i(t,["challenge","allowCredentials"]),i=Wa(e).buffer,s=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const r=n[l];s.allowCredentials[l]=Object.assign(Object.assign({},r),{id:Wa(r.id).buffer,type:r.type||"public-key",transports:r.transports})}}return s}function hw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ea(new Uint8Array(t.response.attestationObject)),clientDataJSON:ea(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ea(new Uint8Array(i.authenticatorData)),clientDataJSON:ea(new Uint8Array(i.clientDataJSON)),signature:ea(new Uint8Array(i.signature)),userHandle:i.userHandle?ea(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ry(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function vf(){var t,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lr("Browser returned unexpected credential type",e)}:{data:null,error:new lr("Empty credential response",e)}}catch(e){return{data:null,error:sw({error:e,options:t})}}}async function mw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lr("Browser returned unexpected credential type",e)}:{data:null,error:new lr("Empty credential response",e)}}catch(e){return{data:null,error:lw({error:e,options:t})}}}const gw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},vw={userVerification:"preferred",hints:["security-key"]};function rr(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))a[s]=l;else if(n(l))a[s]=l;else if(e(l)){const r=a[s];e(r)?a[s]=rr(r,l):a[s]=rr(l)}else a[s]=l}return a}function yw(t,e){return rr(gw,t,e||{})}function pw(t,e){return rr(vw,t,e||{})}class bw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:i},s){try{const{data:l,error:r}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:r};const u=i??uw.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:c}=l.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${a}`),c.displayName||(c.displayName=c.name)}switch(l.webauthn.type){case"create":{const c=yw(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:f}=await fw({publicKey:c,signal:u});return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const c=pw(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:f}=await mw(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c,signal:u}));return h?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(l){return z(l)?{data:null,error:l}:{data:null,error:new Fn("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new ps("rpId is required for WebAuthn authentication")};try{if(!vf())return{data:null,error:new Fn("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:s});if(!l)return{data:null,error:r};const{webauthn:u}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:a,credential_response:u.credential_response}})}catch(l){return z(l)?{data:null,error:l}:{data:null,error:new Fn("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new ps("rpId is required for WebAuthn registration")};try{if(!vf())return{data:null,error:new Fn("Browser does not support WebAuthn",null)};const{data:l,error:r}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:r};const{data:u,error:c}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:s});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(l){return z(l)?{data:null,error:l}:{data:null,error:new Fn("Unexpected error in register",l)}}}}tw();const _w={url:vS,storageKey:yS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yf(t,e,n){return await n()}const xa={};class bs{get jwks(){var e,n;return(n=(e=xa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{cachedAt:e})}constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_w),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new WS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ay(i.fetch),this.lock=i.lock||yf,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$e()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ew:this.lock=yf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ny()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gf(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gf(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ty}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=RS(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),$e()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,a);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),ES(s)){const u=(e=s.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:r}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",r),await this._saveSession(l),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new Fn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,i;try{const s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:At}),{data:l,error:r}=s;if(r||!l)return{data:{user:null,session:null},error:r};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,a,i;try{let s;if("email"in e){const{email:h,password:f,options:d}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ja(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:p},xform:At})}else if("phone"in e){const{phone:h,password:f,options:d}=e;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:At})}else throw new rl("You must provide either an email or phone number and a password");const{data:l,error:r}=s;if(r||!l)return{data:{user:null,session:null},error:r};const u=l.session,c=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:l,options:r}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ff})}else if("phone"in e){const{phone:s,password:l,options:r}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ff})}else throw new rl("You must provide either an email or phone number and a password");const{data:a,error:i}=n;return i?{data:{user:null,session:null},error:i}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new wa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,i,s,l,r,u,c,h,f,d;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:_,wallet:S,statement:y,options:g}=e;let v;if($e())if(typeof S=="object")v=S;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")v=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=S}const b=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),T=await v.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=ky(T[0]);let j=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!j){const D=await v.request({method:"eth_chainId"});j=nw(D)}const R={domain:b.host,address:O,statement:y,uri:b.href,version:"1",chainId:j,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.expirationTime,notBefore:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=iw(R),p=await v.request({method:"personal_sign",params:[aw(m),O]})}try{const{data:_,error:S}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:At});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new wa}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(z(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var n,a,i,s,l,r,u,c,h,f,d,m;let p,_;if("message"in e)p=e.message,_=e.signature;else{const{chain:S,wallet:y,statement:g,options:v}=e;let b;if($e())if(typeof y=="object")b=y;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))b=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const T=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const O=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let j;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")j=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)j=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${T.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(a=v==null?void 0:v.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const O=await b.signMessage(new TextEncoder().encode(p),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=O}}try{const{data:S,error:y}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:ea(_)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:At});if(y)throw y;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new wa}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:y})}catch(S){if(z(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:s,error:l}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:At});if(await fn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new wa}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(z(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:a,token:i,access_token:s,nonce:l}=e,r=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:At}),{data:u,error:c}=r;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new wa}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,i,s,l;try{if("email"in e){const{email:r,options:u}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await ja(this.storage,this.storageKey));const{error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:r,options:u}=e,{data:c,error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new rl("You must provide either an email or phone number.")}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async verifyOtp(e){var n,a;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:r}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:At});if(r)throw r;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,c=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,a,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await ja(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:JS})}catch(s){if(z(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new Nt;const{error:i}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:s}=e,{error:l}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:a,type:i,options:s}=e,{data:l,error:r}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:r}}throw new rl("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<xu:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const l=await Kn(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Au()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=KS(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_n}):await this._useSession(async n=>{var a,i,s;const{data:l,error:r}=n;if(r)throw r;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_n})})}catch(n){if(z(n))return jS(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:i,error:s}=a;if(s)throw s;if(!i.session)throw new Nt;const l=i.session;let r=null,u=null;this.flowType==="pkce"&&e.email!=null&&([r,u]=await ja(this.storage,this.storageKey));const{data:c,error:h}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:r,code_challenge_method:u}),jwt:l.access_token,xform:_n});if(h)throw h;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Nt;const n=Date.now()/1e3;let a=n,i=!0,s=null;const{payload:l}=Nu(e.access_token);if(l.exp&&(a=l.exp,i=a<=n),i){const{data:r,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!r)return{data:{user:null,session:null},error:null};s=r}else{const{data:r,error:u}=await this._getUser(e.access_token);if(u)throw u;s={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:l,error:r}=n;if(r)throw r;e=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Nt;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$e())throw new ul("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ul(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lf("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:r,expires_at:u,token_type:c}=e;if(!s||!r||!l||!c)throw new ul("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(r);let d=h+f;u&&(d=parseInt(u));const m=d-h;m*1e3<=Ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=d-f;h-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,h):h-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,h);const{data:_,error:S}=await this._getUser(s);if(S)throw S;const y={provider_token:a,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:d,refresh_token:l,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(a){if(z(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{error:s};const l=(a=i.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:r}=await this.admin.signOut(l,e);if(r&&!(wS(r)&&(r.status===404||r.status===401||r.status===403)))return{error:r}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=kS(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,i;try{const{data:{session:s},error:l}=n;if(l)throw l;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await ja(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(z(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:i}=await this._useSession(async s=>{var l,r,u,c,h;const{data:f,error:d}=s;if(d)throw d;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return $e()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(z(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:l,provider:r,token:u,access_token:c,nonce:h}=e,f=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=s==null?void 0:s.access_token)!==null&&a!==void 0?a:void 0,body:{provider:r,id_token:u,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:At}),{data:d,error:m}=f;return m?{data:{user:null,session:null},error:m}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new wa}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:m})}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,i;const{data:s,error:l}=n;if(l)throw l;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await zS(async i=>(i>0&&await DS(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:At})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Ou(s)&&Date.now()+l-a<Ca})}catch(a){if(this._debug(n,"error",a),z(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),$e()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Kn(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await ka(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Au()}else if(i&&!i.user&&!i.user){const l=await Kn(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await fn(this.storage,this.storageKey+"-user"),await ka(this.storage,this.storageKey,i)):i.user=Au()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xu;if(this._debug(a,`session has${s?"":" not"} expired with margin of ${xu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ou(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:r}=await this._getUser(i.access_token);!r&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dr;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new Nt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const r={data:s.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(i,"error",s),z(s)){const l={data:null,error:s};return Ou(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,n)}catch(u){s.push(u)}});if(await Promise.all(l),s.length>0){for(let r=0;r<s.length;r+=1)console.error(s[r]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ka(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=hf(i);await ka(this.storage,this.storageKey,s)}else{const i=hf(n);await ka(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ca);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Ca);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ca}ms, refresh threshold is ${$o} ticks`),i<=$o&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[s,l]=await ja(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(r.toString())}if(a!=null&&a.queryParams){const s=new URLSearchParams(a.queryParams);i.push(s.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;return s?{data:null,error:s}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const r=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hw(e.webauthn.credential_response):dw(e.webauthn.credential_response)})}:{code:e.code}),{data:r,error:u}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:u})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:r}=l;if(r.type!=="webauthn")return{data:r,error:null};switch(r.webauthn.type){case"create":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:ow(r.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},r),{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_options:Object.assign(Object.assign({},r.webauthn.credential_options),{publicKey:cw(r.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:i}=await this.getSession();if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Nu(a.access_token);let l=null;s.aal&&(l=s.aal);let r=l;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(r="aal2");const c=s.amr||[];return{data:{currentLevel:l,nextLevel:r,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?{data:null,error:i}:a?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Nt}})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Nt};const l=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&$e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:i},error:s}=a;if(s)return{data:null,error:s};if(!i)return{data:null,error:new Nt};const l=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:r=>({data:r,error:null})});return l.data&&l.data.redirect_url&&$e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(z(a))return{data:null,error:a};throw a}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(r=>r.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(r=>r.kid===e),a&&this.jwks_cached_at+_S>i)return a;const{data:s,error:l}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,a=s.keys.find(r=>r.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};a=m.session.access_token}const{header:i,payload:s,signature:l,raw:{header:r,payload:u}}=Nu(a);n!=null&&n.allowExpired||VS(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(a);if(m)throw m;return{data:{claims:s,header:i,signature:l},error:null}}const h=GS(i.alg),f=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,l,AS(`${r}.${u}`)))throw new Yo("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}}bs.nextInstanceID=0;const Sw=bs;class ww extends Sw{constructor(e){super(e)}}class jw{constructor(e,n,a){var i,s,l;this.supabaseUrl=e,this.supabaseKey=n;const r=gS(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",r),this.storageUrl=new URL("storage/v1",r),this.functionsUrl=new URL("functions/v1",r);const u=`sb-${r.hostname.split(".")[0]}-auth-token`,c={db:rS,realtime:oS,auth:Object.assign(Object.assign({},uS),{storageKey:u}),global:lS},h=mS(a??{},c);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=dS(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new v_(new URL("rest/v1",r).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new aS(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new u_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,storageKey:l,flowType:r,lock:u,debug:c},h,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ww({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),h),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:s,flowType:r,lock:u,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ew=(t,e,n)=>new jw(t,e,n);function Tw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Tw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xw="https://ripwdnrzknhltpkzewke.supabase.co",Ow="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJpcHdkbnJ6a25obHRwa3pld2tlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyNjU4NzUsImV4cCI6MjA4MDg0MTg3NX0.MOQqLG1-gl4PnPvv8TH4CGamYb9q-Nhvl_9jufpYobQ",_s=Ew(xw,Ow,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage}}),Nw=async()=>{const{data:{session:t},error:e}=await _s.auth.getSession();return e?(console.error("Error getting session:",e),null):t},Aw=async(t,e)=>{const{data:n,error:a}=await _s.auth.signInWithPassword({email:t,password:e});return{user:n==null?void 0:n.user,session:n==null?void 0:n.session,error:a}},Cw=async()=>{const{error:t}=await _s.auth.signOut();return{error:t}},Uy=async()=>{const t=await Nw();return(t==null?void 0:t.access_token)||null},Ue="/tracker/api".replace("//","/"),kw=async()=>{const t=await Uy();return{"Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""}},qe=async(t,e={})=>{const n=await kw(),a=await fetch(t,{...e,headers:{...n,...e.headers}});if(a.status===401)throw window.location.reload(),new Error("Unauthorized");return a},Ie={getStats:async()=>(await qe(`${Ue}/stats`)).json(),getCookies:async()=>(await qe(`${Ue}/cookies`)).json(),addCookie:async t=>(await qe(`${Ue}/cookies`,{method:"POST",body:JSON.stringify({cookie:t})})).json(),deleteCookie:async t=>(await qe(`${Ue}/cookies/${t}`,{method:"DELETE"})).json(),updateCookieStatus:async(t,e)=>(await qe(`${Ue}/cookies/${t}`,{method:"PATCH",body:JSON.stringify({status:e})})).json(),checkCookie:async t=>(await qe(`${Ue}/cookies/${t}/check`,{method:"POST"})).json(),updateCookie:async(t,e)=>(await qe(`${Ue}/cookies/${t}`,{method:"PATCH",body:JSON.stringify({cookie:e})})).json(),getActiveOrders:async()=>(await qe(`${Ue}/orders/active`)).json(),getHistory:async(t=null,e=30)=>{const n=new URLSearchParams({limit:e});return t&&n.set("cursor",t),(await qe(`${Ue}/orders/history?${n}`)).json()},updateDeliveredOrder:async(t,e)=>(await qe(`${Ue}/orders/history/${t}`,{method:"PUT",body:JSON.stringify(e)})).json(),deleteDeliveredOrder:async t=>(await qe(`${Ue}/orders/history/${t}`,{method:"DELETE"})).json(),forceCheckAll:async()=>(await qe(`${Ue}/orders/check-all`,{method:"POST"})).json(),forceCheck:async(t="normal")=>(await qe(`${Ue}/orders/force-check?mode=${t}`,{method:"POST"})).json(),checkOrder:async t=>(await qe(`${Ue}/orders/${encodeURIComponent(t)}/check`,{method:"POST"})).json(),getTracking:async t=>{if(!t)return null;const e=await qe(`${Ue}/orders/tracking/${t}`);return e.status===404?null:e.json()},subscribeToEvents:async t=>{const e=await Uy(),n=e?`${Ue}/events?token=${encodeURIComponent(e)}`:`${Ue}/events`,a=new EventSource(n);return a.onmessage=i=>{const s=JSON.parse(i.data);t(s)},()=>a.close()}},Ya=t=>t?t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"):"",Pn=t=>t?`https://cf.shopee.vn/file/${t}`:null;function Rw({onLoginSuccess:t}){const[e,n]=A.useState(""),[a,i]=A.useState(""),[s,l]=A.useState(""),[r,u]=A.useState(!1),c=async h=>{if(h.preventDefault(),l(""),u(!0),!e||!a){l("Vui lng nhp email v mt khu"),u(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){l("Email khng hp l"),u(!1);return}try{const{user:d,error:m}=await Aw(e,a);if(m){m.message.includes("Invalid login")?l("Email hoc mt khu khng ng"):m.message.includes("Email not confirmed")?l("Email cha c xc nhn"):l("ng nhp tht bi. Vui lng th li."),console.error("Auth error:",m),u(!1);return}d&&t(d)}catch(d){l("Li kt ni. Vui lng th li."),console.error("Login error:",d)}finally{u(!1)}};return o.jsx("div",{className:"login-container",children:o.jsxs("div",{className:"login-card",children:[o.jsxs("div",{className:"login-header",children:[o.jsx("div",{className:"login-icon",children:o.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"})}),o.jsx("h1",{children:"Shopee Tracker"}),o.jsx("p",{children:"ng nhp  tip tc"})]}),o.jsxs("form",{onSubmit:c,className:"login-form",children:[s&&o.jsxs("div",{className:"login-error",children:[o.jsx("span",{className:"material-symbols-outlined",children:"error"}),o.jsx("span",{children:s})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"email",children:"Email"}),o.jsx("input",{type:"email",id:"email",value:e,onChange:h=>n(h.target.value),placeholder:"your@email.com",disabled:r,autoComplete:"email",autoFocus:!0})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{htmlFor:"password",children:"Mt khu"}),o.jsx("input",{type:"password",id:"password",value:a,onChange:h=>i(h.target.value),placeholder:"",disabled:r,autoComplete:"current-password"})]}),o.jsx("button",{type:"submit",className:"btn btn-primary login-btn",disabled:r,children:r?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"spinner"}),"ang ng nhp..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"material-symbols-outlined",children:"login"}),"ng nhp"]})})]}),o.jsx("div",{className:"login-footer",children:o.jsx("p",{children:"Shopee Order Tracking System"})})]})})}var Uw=Object.defineProperty,Dw=(t,e,n)=>e in t?Uw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,It=(t,e,n)=>Dw(t,typeof e!="symbol"?e+"":e,n);class lh{constructor(e=new Map){this.map=e}clone(){return new lh(new Map(this.map))}decrement(e,n){let a=this.map.get(e);a!==void 0&&(a-=1,this.map.set(e,a),a===0&&n())}increment(e){const n=this.map.get(e)??0;this.map.set(e,n+1)}}class ol{constructor(){It(this,"map",new Map)}delete(e){return this.map.delete(e)}get(e){return this.map.get(e)}getOrCreate(e){let n=this.map.get(e);return n===void 0&&(n=new Set,this.map.set(e,n)),n}use(e,n){const a=this.get(e);a!==void 0&&n(a)}}function Sn(t,e){return e(t),t}function Dy(){}const rh="cell",zw="signal";function pf(t,e){return t===e}const zr=new Map;let ts;class Mw{constructor(e={}){It(this,"definitionRegistry",new Set),It(this,"distinctNodes",new Map),It(this,"executionMaps",new Map),It(this,"graph",new ol),It(this,"pipeMap",new Map),It(this,"singletonSubscriptions",new Map),It(this,"state",new Map),It(this,"subscriptions",new ol);for(const n of Object.getOwnPropertySymbols(e))this.state.set(n,e[n])}cellInstance(e,n=!0,a=Symbol()){return this.state.has(a)||this.state.set(a,e),n!==!1&&!this.distinctNodes.has(a)&&this.distinctNodes.set(a,n===!0?pf:n),a}changeWith(e,n,a){this.connect({map:i=>(s,l)=>{i(a(l,s))},pulls:[e],sink:e,sources:[n]})}combine(...e){return Sn(this.signalInstance(),n=>{this.connect({map:a=>(...i)=>{a(i)},sink:n,sources:e})})}combineCells(...e){return Sn(this.cellInstance(e.map(n=>this.getValue(n)),!0),n=>{this.connect({map:a=>(...i)=>{a(i)},sink:n,sources:e})})}connect({map:e,pulls:n=[],sink:a,sources:i}){const s={map:e,pulls:new Set(n),sink:this.register(a),sources:new Set(i)};for(const l of[...i,...n])this.register(l),this.graph.getOrCreate(l).add(s);this.executionMaps.clear()}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(n=>this.getValue(n))}inContext(e){const n=ts;ts=this;const a=e();return ts=n,a}link(e,n){this.connect({map:a=>i=>{a(i)},sink:n,sources:[e]})}pipe(e,...n){return this.combineOperators(...n)(e)}pub(e,n){this.pubIn({[e]:n})}pubIn(e){var n;const a=Reflect.ownKeys(e).map(h=>this.pipeMap.get(h)??h),i=Reflect.ownKeys(e).reduce((h,f)=>{const d=f,m=e[d],p=this.pipeMap.get(d)??d;return h[p]=m,h},{}),s=this.getExecutionMap(a),l=s.refCount.clone(),r=s.participatingNodes.slice(),u=new Map(this.state),c=h=>{this.graph.use(h,f=>{for(const{sink:d,sources:m}of f)m.has(h)&&l.decrement(d,()=>{r.splice(r.indexOf(d),1),c(d)})})};for(;;){const h=r.shift();if(h===void 0)break;const f=h;let d=!1;const m=p=>{const _=this.distinctNodes.get(f);if(_!=null&&_(u.get(f),p)){d=!1;return}d=!0,u.set(f,p),this.state.has(f)&&this.state.set(f,p)};if(Object.hasOwn(i,f)?m(i[f]):s.projections.use(f,p=>{for(const _ of p){const S=[...Array.from(_.sources),...Array.from(_.pulls)].map(y=>u.get(y));_.map(m)(...S)}}),d){const p=u.get(f);this.inContext(()=>{this.subscriptions.use(f,_=>{for(const S of _)S(p)})}),(n=this.singletonSubscriptions.get(f))==null||n(p)}else c(f)}}register(e){const n=zr.get(e);if(n===void 0)return e;if(!this.definitionRegistry.has(e)){if(this.definitionRegistry.add(e),n.type===rh)return Sn(this.cellInstance(n.initial,n.distinct,e),l=>{this.inContext(()=>{n.init(this,l)})});if(n.type===zw)return Sn(this.signalInstance(n.distinct,e),l=>{this.inContext(()=>{n.init(this,l)})});const a=this.signalInstance(n.distinct),i=this.cellInstance(n.initial,!0),s=this.cellInstance(n.initial,n.distinct,e);return this.link(i,s),this.pipeMap.set(s,a),this.inContext(()=>{n.init(this,a,i)}),s}return e}resetSingletonSubs(){this.singletonSubscriptions.clear()}signalInstance(e=!0,n=Symbol()){return e!==!1&&this.distinctNodes.set(n,e===!0?pf:e),n}singletonSub(e,n){return this.register(e),n===void 0?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,n),()=>this.singletonSubscriptions.delete(e)}sub(e,n){this.register(e);const a=this.subscriptions.getOrCreate(e);return a.add(n),()=>a.delete(n)}subMultiple(e,n){const a=this.signalInstance();return this.connect({map:i=>(...s)=>{i(s)},sink:a,sources:e}),this.sub(a,n)}transformer(...e){return n=>Sn(this.signalInstance(),a=>(this.link(this.pipe(a,...e),n),a))}calculateExecutionMap(e){const n=[],a=new Set,i=new ol,s=new lh,l=new ol,r=(u,c=0)=>{s.increment(u),!a.has(u)&&(this.register(u),i.use(u,h=>{c=Math.max(...Array.from(h).map(f=>n.indexOf(f)))+1}),this.graph.use(u,h=>{for(const f of h)f.sources.has(u)?(l.getOrCreate(f.sink).add(f),r(f.sink,c)):i.getOrCreate(f.sink).add(u)}),a.add(u),n.splice(c,0,u))};return e.forEach(r),{participatingNodes:n,pendingPulls:i,projections:l,refCount:s}}combineOperators(...e){return n=>{for(const a of e)n=a(n,this);return n}}getExecutionMap(e){let n=e;if(e.length===1){n=e[0];const i=this.executionMaps.get(n);if(i!==void 0)return i}else for(const[i,s]of this.executionMaps.entries())if(Array.isArray(i)&&i.length===e.length&&i.every(l=>e.includes(l)))return s;const a=this.calculateExecutionMap(e);return this.executionMaps.set(n,a),a}}function Ke(t,e=Dy,n=!0){return Sn(Symbol(),a=>{zr.set(a,{distinct:n,init:e,initial:t,type:rh})})}function $t(t,e,n=!0){return Sn(Symbol(),a=>{zr.set(a,{distinct:n,init:(i,s)=>{i.link(e(i,s),s)},initial:t,type:rh})})}function zy(t=Dy,e=!1){return Sn(Symbol(),n=>{zr.set(n,{distinct:e,init:t,type:"signal"})})}function Ei(){if(!ts)throw new Error("This function must be called within a realm instance");return ts}const uh=(t,e)=>{Ei().link(t,e)},Bw=(...t)=>{Ei().pub(...t)},Lw=(...t)=>Ei().sub(...t),Tt=(...t)=>Ei().pipe(...t),My=(...t)=>{Ei().changeWith(...t)},oh=(...t)=>Ei().combine(...t),By=A.createContext(null),Hw=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Mr(){const t=A.useContext(By);if(t===null)throw new Error("useRealm must be used within a RealmContextProvider");return t}function qw(t){const e=Mr();e.register(t);const n=A.useCallback(a=>e.sub(t,a),[e,t]);return A.useSyncExternalStore(n,()=>e.getValue(t),()=>e.getValue(t))}function $w(t){const e=Mr();e.register(t);const[n,a]=A.useState(()=>e.getValue(t));return Hw(()=>{const i=e.sub(t,()=>{a(()=>e.getValue(t))});return()=>{i()}},[e,t]),n}const Ly="useSyncExternalStore"in _p?qw:$w;function Vw(...t){const e=Mr(),n=A.useMemo(()=>e.combineCells(...t),[e,...t]);return Ly(n)}function Dt(t){return(e,n)=>{const a=n.signalInstance();return n.connect({map:i=>s=>{i(t(s))},sink:a,sources:[e]}),a}}function ch(...t){return(e,n)=>{const a=n.signalInstance();return n.connect({map:i=>(...s)=>{i(s)},pulls:t,sink:a,sources:[e]}),a}}function Hy(t){return(e,n)=>{const a=n.signalInstance();return n.connect({map:i=>s=>{t(s)&&i(s)},sink:a,sources:[e]}),a}}function qy(t,e){return(n,a)=>{const i=a.signalInstance();return a.connect({map:s=>l=>{s(e=t(e,l))},sink:i,sources:[n]}),i}}const $y=({index:t})=>o.jsxs("div",{children:["Item ",t]}),Vy=Ke($y),Ss=Ke(0),Ko=Ke(null),ur=Ke(null,()=>{uh(Tt(ur,Hy(t=>t!==null),Dt(t=>t.length)),Ss)}),xl=Ke(0),Qo=Ke(0),Gw=Ke(0),cl=Ke(0),or=Ke(0),ws=Ke(!1),Yw=$t(0,()=>Tt(oh(Qo,ws,or),Dt(([t,e,n])=>e?t-Math.max(n,0):t))),js={lvl:0};function Gy(t,e,n,a=js,i=js){return{k:t,l:a,lvl:n,r:i,v:e}}function ye(t){return t===js}function cr(){return js}function Xo(t,e){if(ye(t))return js;const{k:n,l:a,r:i}=t;if(e===n){if(ye(a))return i;if(ye(i))return a;const[s,l]=Yy(a);return Ol(xe(t,{k:s,l:Ky(a),v:l}))}return e<n?Ol(xe(t,{l:Xo(a,e)})):Ol(xe(t,{r:Xo(i,e)}))}function Es(t,e,n="k"){if(ye(t))return[Number.NEGATIVE_INFINITY,void 0];if(t[n]===e)return[t.k,t.v];if(t[n]<e){const a=Es(t.r,e,n);return a[0]===Number.NEGATIVE_INFINITY?[t.k,t.v]:a}return Es(t.l,e,n)}function la(t,e,n){return ye(t)?Gy(e,n,1):e===t.k?xe(t,{k:e,v:n}):e<t.k?bf(xe(t,{l:la(t.l,e,n)})):bf(xe(t,{r:la(t.r,e,n)}))}function Io(t,e,n){if(ye(t))return[];const{k:a,l:i,r:s,v:l}=t;let r=[];return a>e&&(r=r.concat(Io(i,e,n))),a>=e&&a<=n&&r.push({k:a,v:l}),a<=n&&(r=r.concat(Io(s,e,n))),r}function Yy(t){return ye(t.r)?[t.k,t.v]:Yy(t.r)}function Ky(t){return ye(t.r)?t.l:Ol(xe(t,{r:Ky(t.r)}))}function xe(t,e){return Gy(e.k??t.k,e.v??t.v,e.lvl??t.lvl,e.l??t.l,e.r??t.r)}function ku(t){return ye(t)||t.lvl>t.r.lvl}function bf(t){return Jo(Iy(t))}function Ol(t){const{l:e,lvl:n,r:a}=t;if(a.lvl>=n-1&&e.lvl>=n-1)return t;if(n>a.lvl+1){if(ku(e))return Iy(xe(t,{lvl:n-1}));if(!ye(e)&&!ye(e.r))return xe(e.r,{l:xe(e,{r:e.r.l}),lvl:n,r:xe(t,{l:e.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}if(ku(t))return Jo(xe(t,{lvl:n-1}));if(!ye(a)&&!ye(a.l)){const i=a.l,s=ku(i)?a.lvl-1:a.lvl;return xe(i,{l:xe(t,{lvl:n-1,r:i.l}),lvl:i.lvl+1,r:Jo(xe(a,{l:i.r,lvl:s}))})}throw new Error("Unexpected empty nodes")}function Qy(t,e,n){if(ye(t))return[];const a=Es(t,e)[0];return Kw(Io(t,a,n))}function Xy(t,e){const n=t.length;if(n===0)return[];let{index:a,value:i}=e(t[0]);const s=[];for(let l=1;l<n;l++){const{index:r,value:u}=e(t[l]);s.push({end:r-1,start:a,value:i}),a=r,i=u}return s.push({end:Number.POSITIVE_INFINITY,start:a,value:i}),s}function Kw(t){return Xy(t,({k:e,v:n})=>({index:e,value:n}))}function Jo(t){const{lvl:e,r:n}=t;return!ye(n)&&!ye(n.r)&&n.lvl===e&&n.r.lvl===e?xe(n,{l:xe(t,{r:n.l}),lvl:e+1}):t}function Iy(t){const{l:e}=t;return!ye(e)&&e.lvl===t.lvl?xe(e,{r:xe(t,{l:e.r})}):t}function Qw(t){const{endIndex:e,size:n,startIndex:a}=t;return i=>i.start===a&&(i.end===e||i.end===Number.POSITIVE_INFINITY)&&i.value===n}function Jy(t,e){let n=ye(t)?0:Number.POSITIVE_INFINITY;for(const a of e){const{endIndex:i,size:s,startIndex:l}=a;if(n=Math.min(n,l),ye(t)){t=la(t,0,s);continue}const r=Qy(t,l-1,i+1);if(r.some(Qw(a)))continue;let u=!1,c=!1;for(const{end:h,start:f,value:d}of r)u?(i>=f||s===d)&&(t=Xo(t,f)):(c=d!==s,u=!0),h>i&&i>=f&&d!==s&&(t=la(t,i+1,d));c&&(t=la(t,l,s))}return[t,n]}function hr(t,e,n,a=0){let i=t.length-1;for(;a<=i;){const s=Math.floor((a+i)/2),l=t[s],r=n(l,e);if(r===0)return s;if(r===-1){if(i-a<2)return s-1;i=s-1}else{if(i===a)return s;a=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function Xw(t,e,n){return t[hr(t,e,n)]}function Iw(t,e,n,a){const i=hr(t,e,a),s=hr(t,n,a,i);return t.slice(i,s+1)}function Zy({index:t},e){return e===t?0:e<t?-1:1}function Jw({offset:t},e){return e===t?0:e<t?-1:1}function Zw(t){return{index:t.index,value:t}}function Pw(t,e,n,a=0){return a>0&&(e=Math.max(e,Xw(t,a,Zy).offset)),e=Math.max(0,e),Xy(Iw(t,e,n,Jw),Zw)}function Ww(t,[e,n]){let a=0,i=0,s=0,l=0;if(n!==0){l=hr(t,n-1,Zy),s=t[l].offset;const r=Es(e,n-1);if(r[1]===void 0)throw new Error("Invariant violation");a=r[0],i=r[1],t.length&&t[l].height===Es(e,n)[1]&&(l-=1),t=t.slice(0,l+1)}else t=[];for(const{start:r,value:u}of Qy(e,n,Number.POSITIVE_INFINITY)){const c=(r-a)*i+s;t.push({height:u,index:r,offset:c}),a=r,s=c,i=u}return[t,i,s,a]}function Fw(t,[e,n]){if(n.length>0&&ye(t)&&e.length===2){const a=e[0].size,i=e[1].size;return[n.reduce((s,l)=>la(la(s,l,a),l+1,i),cr()),0]}return Jy(t,e)}const Py=zy(),Wy=zy(),Br=Ke([],()=>{My(Br,Wy,(t,e)=>{const n=t.slice();for(const[a,i]of Object.entries(e))n[Number.parseInt(a,10)]=i;for(let a=0;a<n.length;a++)if(n[a]===void 0)return t;return n})}),da=Ke(0),hh=Ke(0),dr=Ke([],()=>{uh(Tt(da,ch(Br),Dt(([t,e])=>{const n=Array.from({length:t},()=>[cr(),0]);if(e.length>0){const a=Array.from({length:t},()=>0),i=Array.from({length:t},()=>0);for(let s=0;s<e.length;s++){const l=e[s],r=a.indexOf(Math.min(...a)),u=i[r];i[r]++,a[r]+=l,n[r]=Jy(n[r][0],[{endIndex:u,size:l,startIndex:u}])}}return n.map(([a])=>[a,0])})),dr),My(dr,Py,(t,e)=>{const n=t.map(([i])=>i),a=[];for(let i=0;i<e.length;i++){const s=n[i]??cr();if(e[i].length===0){a.push([s,0]);continue}a.push(Fw(s,[e[i],[]]))}return a})}),Fy=$t([],()=>Tt(dr,Dt(t=>t.map(([e])=>e)))),ej=$t([],t=>t.pipe(dr,Dt(e=>e.map(([,n])=>n)))),Lr=$t([],()=>Tt(Fy,ch(ej),qy((t,[e,n])=>{const a=[];for(let i=0;i<e.length;i++){const s=t[i]??[[]];a.push(Ww(s[0],[e[i],n[i]]))}return a},[]))),tj=$t([],()=>Tt(Lr,Dt(t=>t.map(([e])=>e)))),nj=$t([],()=>Tt(Lr,Dt(t=>t.map(([,e])=>e)))),aj=$t([],()=>Tt(Lr,Dt(t=>t.map(([,,e])=>e)))),ij=$t([],t=>t.pipe(Lr,Dt(e=>e.map(([,,,n])=>n)))),ns=$t([],()=>Tt(da,ch(Ss,hh,Br),Dt(([t,e,n,a])=>{if(a.length>0){const s=Array.from({length:t},()=>0),l=Array.from({length:t},()=>[]);for(let r=0;r<a.length;r++){const u=a[r],c=s.indexOf(Math.min(...s));l[c].push(r),s[c]+=u}return l}const i=n===0?Math.min(t,e):n;return Array.from({length:t},(s,l)=>{const r=[];for(let u=l;u<i;u+=t)r.push(u);return r})}))),sj=$t([],()=>Tt(oh(da,Ss,ij,aj,nj,ns),Dt(([t,e,n,a,i,s])=>{const l=s.reduce((u,c)=>u+c.length,0),r=Math.ceil((e-l)/t);return Array.from({length:t},(u,c)=>{const h=s[c].length+r-n[c];return a[c]+h*i[c]})}))),fr=Ke({columns:[],data:[],indexesInColumns:[],totalCount:-1},t=>{uh(Tt(oh(da,xl,Yw,Fy,tj,Ss,sj,ur,ns,hh,or,ws),qy((e,[n,a,i,s,l,r,u,c,h,f,d,m])=>{if(r===0)return e;const p=m?d+a:0,_=Math.min(Math.max(a-p,0),Math.max(...u)-i),S=_+i,y=f===0?Math.min(n,r):f;return{columns:Array.from({length:n},(g,v)=>{const b=e.columns[v],T=s[v]??cr(),O=l[v]??[],j=u[v]??0,R=h[v]??[];if(ye(T)||R.length===0){const C=[];let q=0;for(let B=v;B<y;B+=n)C.push({columnIndex:v,data:c==null?void 0:c[B],height:0,index:B,indexInColumn:q++,offset:0});return{index:v,items:C,listBottom:0,listTop:0,offsetTree:O,totalHeight:0,viewportBottom:S}}if((b==null?void 0:b.offsetTree)===O&&e.totalCount===r&&e.data===c&&e.indexesInColumns===h&&_>=b.listTop&&S<=b.listBottom)return b;const D=[],M=R.length-1,N=0,G=Pw(O,_,S,N);let I=0,le=0,He=!1;for(const C of G){const{value:{height:q,offset:B}}=C;let P=C.start;I=B,B<_&&(P+=Math.floor((_-B)/q),I+=(P-C.start)*q),P<N&&(I+=(N-P)*q,P=N);const re=Math.min(C.end,M);for(let tt=P;tt<=re&&!(I>=S);tt++){const mt=R[tt],hn={columnIndex:v,data:c==null?void 0:c[mt],height:q,index:mt,indexInColumn:tt,offset:I};He||(He=!0,le=I),D.push(hn),I+=q}}return{index:v,items:D,listBottom:I,listTop:le,offsetTree:O,totalHeight:j,viewportBottom:S}}),data:c,indexesInColumns:h,totalCount:r}},{columns:[],data:[],indexesInColumns:[],totalCount:-1})),fr),Lw(Tt(fr,Hy(e=>e.columns.some(n=>n.listBottom<n.viewportBottom))),e=>{const n=e.columns.slice().sort((l,r)=>l.listBottom-r.listBottom)[0],a=t.getValue(ns),i=a.flat(),s=i.length?Math.max(...i)+1:0;s>=t.getValue(Ss)||Bw(ns,a.map((l,r)=>r===n.index?[...l,s]:l))})}),ep=A.forwardRef(({columnCount:t,context:e,data:n,initialItemCount:a=0,ItemContent:i=$y,useWindowScroll:s=!1,...l},r)=>{const u=A.useMemo(()=>{const c=new Mw;return c.register(ns),c.register(fr),c.register(Br),c.pubIn({[da]:t,[Ko]:e,[ur]:n.slice(),[hh]:a,[Vy]:i,[ws]:s}),c},[]);return A.useImperativeHandle(r,()=>({}),[]),A.useEffect(()=>{u.pubIn({[da]:t,[Ko]:e,[ur]:n.slice()})}),o.jsx(By.Provider,{value:u,children:o.jsx(rj,{...l})})});ep.displayName="VirtuosoMasonry";const lj={observe:()=>{},unobserve:()=>{}},rj=({style:t,...e})=>{const n=Mr(),[a]=A.useState(()=>{if(typeof ResizeObserver>"u"){if(typeof window<"u")throw new Error("ResizeObserver not found. Please ensure that you have a polyfill installed.");return lj}return new ResizeObserver(p=>{const _=p.length,S=n.getValue(da),y=n.getValue(ws),g=Array.from({length:S},()=>[]),v={};let b={};for(let T=0;T<_;T++){const O=p[T],j=O.target;if(j===l.current){const He=j.ownerDocument.defaultView;b={...b,[cl]:y?He.document.documentElement.scrollHeight:j.scrollHeight,[xl]:y?He.scrollY:j.scrollTop,[Qo]:y?He.innerHeight:O.contentRect.height,[Gw]:y?He.innerWidth:j.clientWidth,...y?{}:{[or]:O.contentRect.top,[cl]:j.scrollHeight}};continue}if(j.dataset.role==="column"){l.current&&(b={...b,[cl]:l.current.scrollHeight});continue}if(j.dataset.index===void 0)continue;const R=Number.parseInt(j.dataset.index),D=Number.parseFloat(j.dataset.knownSize??""),M=O.contentRect.height,N=Number.parseInt(j.dataset.columnIndex??"0"),G=Number.parseInt(j.dataset.absoluteIndex??"0");if(v[G]=M,M===D)continue;const I=g[N],le=I[I.length-1];I.length===0||le.size!==M||le.endIndex!==R-1?I.push({endIndex:R,size:M,startIndex:R}):I[I.length-1].endIndex++}g.some(T=>T.length>0)&&(b={...b,[Py]:g}),Object.keys(v).length>0&&(b={...b,[Wy]:v}),n.pubIn(b)})}),i=A.useCallback(p=>{a.observe(p)},[a]),s=A.useCallback(p=>{a.unobserve(p)},[a]),l=A.useRef(null),r=A.useRef([]),u=A.useCallback(p=>_=>{if(_)r.current[p]=_,a.observe(_,{box:"border-box"});else{const S=r.current[p];S!=null&&(a.unobserve(S),r.current[p]=null)}},[a]),c=A.useCallback(()=>{const p=l.current;p!==null&&n.pub(xl,p.scrollTop)},[n]),h=A.useCallback(p=>{p?(l.current=p,p.addEventListener("scroll",c),a.observe(p,{box:"border-box"})):l.current&&(l.current.removeEventListener("scroll",c),a.unobserve(l.current),l.current=null)},[a,c]),[f,d,m]=Vw(fr,Vy,ws);return A.useEffect(()=>{var p;if(m){const _=(p=l.current)==null?void 0:p.ownerDocument.defaultView,S=()=>{var y;n.pubIn({[or]:((y=l.current)==null?void 0:y.getBoundingClientRect().top)??0,[cl]:_.document.documentElement.scrollHeight,[xl]:_.scrollY,[Qo]:_.innerHeight})};return _.addEventListener("scroll",S),S(),()=>{_.removeEventListener("scroll",S)}}},[m,n]),o.jsx(o.Fragment,{children:o.jsx("div",{...e,"data-testid":"virtuoso-scroller",ref:h,style:{...m?{boxSizing:"border-box",display:"flex",flexDirection:"row"}:{boxSizing:"border-box",display:"flex",flexDirection:"row",overflowY:"scroll"},...t},children:f.columns.map((p,_)=>o.jsx("div",{"data-testid":"virtuoso-list",ref:u(_),style:{boxSizing:"content-box",flexGrow:1,height:p.totalHeight,overflowAnchor:"none",position:"relative"},children:p.items.map(S=>o.jsx(uj,{item:S,ItemContent:d,mount:i,unmount:s},S.index))},`column-${_}`))})})},uj=({item:t,ItemContent:e,mount:n,unmount:a})=>{const i=Ly(Ko),s=A.useRef(null),l=A.useCallback(r=>{r?(s.current=r,n(r)):s.current&&(a(s.current),s.current=null)},[n,a]);return o.jsx("div",{"data-absolute-index":t.index,"data-column-index":t.columnIndex,"data-index":t.indexInColumn,"data-known-size":t.height,ref:l,style:{boxSizing:"border-box",overflowAnchor:"none",position:"absolute",top:t.offset,width:"100%"},children:o.jsx(e,{context:i,data:t.data,index:t.index})})};function _f({imageId:t,alt:e="Product",className:n=""}){const[a,i]=A.useState(!1),[s,l]=A.useState(!1),r=Pn(t),u=A.useCallback(()=>i(!0),[]),c=A.useCallback(()=>{l(!0),i(!0)},[]);return!r||s?o.jsx("span",{className:"placeholder",children:""}):o.jsxs("div",{className:`lazy-img-wrapper ${n}`,children:[!a&&o.jsx("div",{className:"lazy-img-skeleton"}),o.jsx("img",{src:r,alt:e,loading:"lazy",className:`lazy-img ${a?"loaded":""}`,onLoad:u,onError:c})]})}function oj({count:t=6}){return o.jsx("div",{className:"skeleton-grid",children:Array.from({length:t}).map((e,n)=>o.jsxs("div",{className:"skeleton-card",children:[o.jsxs("div",{className:"skeleton-header",children:[o.jsx("div",{className:"skeleton-img shimmer"}),o.jsxs("div",{className:"skeleton-text-group",children:[o.jsx("div",{className:"skeleton-line w-80 shimmer"}),o.jsx("div",{className:"skeleton-line w-50 shimmer"})]})]}),o.jsxs("div",{className:"skeleton-body",children:[o.jsx("div",{className:"skeleton-line w-60 shimmer"}),o.jsx("div",{className:"skeleton-line w-40 shimmer"})]}),o.jsxs("div",{className:"skeleton-footer",children:[o.jsx("div",{className:"skeleton-line w-30 shimmer"}),o.jsx("div",{className:"skeleton-line w-20 shimmer"})]})]},n))})}const Ru=30,Uu=15,cj=300,Du="history-scroll-pos";function Sf(t,e){let n=0;return(...a)=>{const i=Date.now();if(i-n>=e)return n=i,t(...a)}}function wf({onEdit:t,onDelete:e,isMobile:n=!1}){const[a,i]=A.useState([]),[s,l]=A.useState(null),[r,u]=A.useState(!0),[c,h]=A.useState(!1),[f,d]=A.useState(!1),[m,p]=A.useState(!0),[_,S]=A.useState(0),y=A.useRef(null),g=A.useRef(0),v=A.useRef(null),b=A.useCallback(async(N=null,G=Ru)=>{const I=N===null;I?u(!0):h(!0),d(!1);try{const le=await Ie.getHistory(N,G);i(He=>I?le.orders:[...He,...le.orders]),l(le.nextCursor),p(le.hasMore),S(le.total),g.current=0}catch(le){if(console.error("History fetch error:",le),g.current<1){g.current++,setTimeout(()=>b(N,G),1e3);return}d(!0)}finally{u(!1),h(!1)}},[]);A.useEffect(()=>{b(null,Ru)},[b]);const T=A.useMemo(()=>Sf(()=>{!c&&m&&s&&!f&&b(s,Uu)},cj),[c,m,s,f,b]);A.useEffect(()=>{if(!m||r||c)return;const N=new IntersectionObserver(I=>{I[0].isIntersecting&&T()},{threshold:.1,rootMargin:"200px"}),G=y.current;return G&&N.observe(G),()=>N.disconnect()},[m,r,c,T]),A.useEffect(()=>{const N=v.current;if(!N)return;const G=Sf(()=>{sessionStorage.setItem(Du,String(N.scrollTop))},200);return N.addEventListener("scroll",G,{passive:!0}),()=>N.removeEventListener("scroll",G)},[]),A.useEffect(()=>{if(r||a.length===0)return;const N=sessionStorage.getItem(Du);N&&v.current&&requestAnimationFrame(()=>{v.current.scrollTop=parseInt(N)})},[r,a.length]);const O=A.useCallback(()=>{i([]),l(null),p(!0),sessionStorage.removeItem(Du),b(null,Ru)},[b]),j=A.useCallback(N=>{t&&t(N,O)},[t,O]),R=A.useCallback(async N=>{if(confirm("Xa n hng ny khi lch s?"))try{await Ie.deleteDeliveredOrder(N),i(G=>G.filter(I=>I.id!==N)),S(G=>G-1)}catch(G){console.error("Delete delivered error:",G),alert(" Li xa: "+G.message)}},[]),D=A.useCallback(({data:N})=>{var G,I;return o.jsxs("div",{className:"order-card delivered-card",style:{margin:"6px"},children:[o.jsxs("div",{className:"order-card-header",children:[o.jsx("div",{className:"order-card-product-img",children:o.jsx(_f,{imageId:N.image})}),o.jsxs("div",{className:"order-card-product-info",children:[o.jsxs("h4",{className:"order-card-product-name",children:[Ya(N.product)||"",o.jsxs("span",{className:"product-quantity",children:[" (SL: ",N.amount||1,")"]})]}),o.jsxs("div",{className:"order-card-tracking",children:[o.jsx("span",{className:"tracking-code",children:N.tracking_number||""}),N.tracking_number&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"copy-btn",onClick:()=>navigator.clipboard.writeText(N.tracking_number||""),title:"Copy m vn n",children:o.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})}),o.jsx("a",{href:`https://tramavandon.com/spx/?tracking_number=${N.tracking_number}`,target:"_blank",rel:"noopener noreferrer",className:"copy-btn",title:"Tra cu vn n",children:o.jsx("span",{className:"material-symbols-outlined",children:"open_in_new"})})]})]})]})]}),o.jsx("div",{className:"order-card-body",children:o.jsxs("div",{className:"order-card-info-row",children:[o.jsxs("div",{className:"info-column",children:[o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"NGI NHN"}),o.jsx("span",{className:"info-value",children:((G=N.shipping)==null?void 0:G.name)||"N/A"})]}),o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"S IN THOI"}),o.jsx("span",{className:"info-value phone-value",children:((I=N.shipping)==null?void 0:I.phone)||"N/A"})]})]}),o.jsxs("div",{className:"info-column status-column",children:[o.jsxs("div",{className:"info-group",children:[o.jsxs("div",{className:"info-label-row",children:[o.jsx("span",{className:"info-label",children:"TRNG THI"}),o.jsx("span",{className:"material-symbols-outlined info-icon status-icon-small",children:"check_circle"})]}),o.jsx("span",{className:"info-value status-text-wrap delivered-status-text",children:N.status||"Giao hng thnh cng"})]}),N.delivered_at&&o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"GIAO LC"}),o.jsx("span",{className:"info-value",children:new Date(N.delivered_at).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]})]})]})}),o.jsxs("div",{className:"order-card-footer",children:[o.jsxs("div",{className:"order-card-price",children:[o.jsx("span",{className:"price-label",children:"TNG CNG"}),o.jsxs("span",{className:"price-value",children:[(N.price||0).toLocaleString(),""]})]}),o.jsxs("div",{className:"delivered-footer-right",children:[N.delivered_at&&o.jsx("span",{className:"updated-at delivered-time",children:new Date(N.delivered_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{className:"delivered-actions",children:[o.jsx("button",{className:"btn-icon edit-btn",onClick:()=>j(N),title:"Sa thng tin",children:o.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),o.jsx("button",{className:"btn-icon delete-btn",onClick:()=>R(N.id),title:"Xa",children:o.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]})]})]})},[j,R]),M=A.useCallback(({data:N})=>{var G,I;return o.jsxs("div",{className:"mobile-order-card-expanded delivered-card",style:{marginBottom:"12px"},children:[o.jsxs("div",{className:"mobile-order-header",children:[o.jsx("div",{className:"mobile-order-img",children:o.jsx(_f,{imageId:N.image})}),o.jsxs("div",{className:"mobile-order-info",children:[o.jsxs("h4",{children:[Ya(N.product)||"Sn phm",o.jsxs("span",{className:"product-quantity",children:[" (SL: ",N.amount||1,")"]})]}),o.jsxs("p",{className:"tracking-num",children:["#",N.tracking_number||"N/A"]})]})]}),o.jsx("div",{className:"mobile-order-body",children:o.jsxs("div",{className:"mobile-info-row",children:[o.jsxs("div",{className:"mobile-info-group",children:[o.jsx("span",{className:"mobile-info-label",children:"NGI NHN"}),o.jsx("span",{className:"mobile-info-value",children:((G=N.shipping)==null?void 0:G.name)||"N/A"})]}),o.jsxs("div",{className:"mobile-info-group",children:[o.jsx("span",{className:"mobile-info-label",children:"S IN THOI"}),o.jsx("span",{className:"mobile-info-value phone",children:((I=N.shipping)==null?void 0:I.phone)||"N/A"})]})]})}),o.jsxs("div",{className:"mobile-status-info delivered-status",children:[o.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),o.jsx("span",{children:N.status||"Giao hng thnh cng"})]}),o.jsxs("div",{className:"mobile-order-footer",children:[o.jsx("span",{className:"mobile-price-label",children:"TNG CNG"}),o.jsxs("span",{className:"mobile-price-value",children:[(N.price||0).toLocaleString(),""]}),N.delivered_at&&o.jsx("span",{className:"delivered-time",children:new Date(N.delivered_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}),o.jsxs("div",{className:"delivered-actions",children:[o.jsx("button",{className:"btn-icon edit-btn",onClick:()=>j(N),title:"Sa thng tin",children:o.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),o.jsx("button",{className:"btn-icon delete-btn",onClick:()=>R(N.id),title:"Xa",children:o.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})]})]})},[j,R]);return r?o.jsx(oj,{count:n?3:6}):a.length===0&&!r?o.jsxs("div",{className:n?"mobile-empty-state":"empty-state",children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"inventory_2"}),o.jsx("h4",{children:"No delivery history"}),o.jsx("p",{children:"Completed orders will appear here"})]}):n?o.jsxs("div",{ref:v,children:[a.map((N,G)=>o.jsx(M,{data:N},N.id||G)),o.jsxs("div",{ref:y,className:"scroll-sentinel",children:[c&&o.jsx("div",{className:"mini-spinner"}),f&&o.jsxs("div",{className:"error-retry-box",children:[o.jsx("p",{children:" Li kt ni"}),o.jsx("button",{onClick:()=>b(s,Uu),children:"Th li"})]}),!m&&a.length>0&&o.jsxs("p",{className:"end-of-list",children:["  xem ht ",_," n hng!"]})]})]}):o.jsxs("div",{ref:v,className:"tab-scroll-container",children:[o.jsx(ep,{columnCount:3,data:a,initialItemCount:Math.min(a.length,20),ItemContent:D,useWindowScroll:!1,scrollerRef:N=>{v.current!==N&&N&&(v.current=N)}}),o.jsxs("div",{ref:y,className:"scroll-sentinel",children:[c&&o.jsx("div",{className:"mini-spinner"}),f&&o.jsxs("div",{className:"error-retry-box",children:[o.jsx("p",{children:" Li kt ni"}),o.jsx("button",{onClick:()=>b(s,Uu),children:"Th li"})]}),!m&&a.length>0&&o.jsxs("p",{className:"end-of-list",children:["  xem ht ",_," n hng!"]})]})]})}const hj=({trackingNumber:t,onClose:e})=>{const[n,a]=A.useState(null),[i,s]=A.useState(!0);return A.useEffect(()=>{t&&(async()=>{try{const r=await Ie.getTracking(t);r&&r.records&&a(r.records)}catch(r){console.error("Error fetching tracking:",r)}finally{s(!1)}})()},[t]),o.jsx("div",{className:"modal-overlay liquid-glass-overlay",onClick:e,children:o.jsxs("div",{className:"modal tracking-modal liquid-glass-modal",onClick:l=>l.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("div",{children:[o.jsx("h3",{children:"Hnh trnh n hng"}),o.jsx("p",{className:"tracking-id-label",children:t})]}),o.jsx("button",{className:"modal-close",onClick:e,children:o.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),o.jsx("div",{className:"modal-body tracking-body",children:i?o.jsxs("div",{className:"tracking-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"ang ti hnh trnh..."})]}):n&&n.length>0?o.jsx("div",{className:"tracking-timeline",children:n.map((l,r)=>{var u,c,h,f;return o.jsxs("div",{className:`timeline-item ${r===0?"latest":""}`,children:[o.jsxs("div",{className:"timeline-marker",children:[o.jsx("div",{className:"marker-dot"}),r!==n.length-1&&o.jsx("div",{className:"marker-line"})]}),o.jsxs("div",{className:"timeline-content",children:[o.jsxs("div",{className:"timeline-header",children:[o.jsx("span",{className:"timeline-time",children:new Date(l.actual_time*1e3).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsx("span",{className:"timeline-status-name",children:l.tracking_name})]}),o.jsx("p",{className:"timeline-desc",children:l.buyer_description}),(((u=l.current_location)==null?void 0:u.location_name)||((c=l.next_location)==null?void 0:c.location_name))&&o.jsxs("div",{className:"timeline-locations",children:[((h=l.current_location)==null?void 0:h.location_name)&&o.jsxs("div",{className:"location-tag current",children:[o.jsx("span",{className:"material-symbols-outlined",children:"location_on"}),o.jsx("span",{children:l.current_location.location_name})]}),((f=l.next_location)==null?void 0:f.location_name)&&o.jsxs("div",{className:"location-tag next",children:[o.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"}),o.jsx("span",{children:l.next_location.location_name})]})]})]})]},r)})}):o.jsxs("div",{className:"tracking-empty",children:[o.jsx("span",{className:"material-symbols-outlined",children:"sentiment_dissatisfied"}),o.jsx("p",{children:"Khng tm thy d liu hnh trnh cho vn n ny."}),o.jsx("p",{className:"empty-sub",children:"C th n hng va mi c to hoc carrier cha cp nht kp."})]})})]})})},dj=(t,e)=>{const n=Array.from({length:e},()=>[]);return t.forEach((a,i)=>{n[i%e].push(a)}),n};function fj(){var fh,mh;const[t,e]=A.useState(null),[n,a]=A.useState(!0),[i,s]=A.useState("orders"),[l,r]=A.useState({pending:0,active:0,disabled:0,delivered:0}),[u,c]=A.useState([]),[h,f]=A.useState([]),d=A.useRef(null),[m,p]=A.useState(!0),[_,S]=A.useState(!1),[y,g]=A.useState(""),[v,b]=A.useState(!1),[T,O]=A.useState(null),[j,R]=A.useState({}),[D,M]=A.useState(null),[N,G]=A.useState(null),I=async w=>{if(!N){G(w);try{const k=await Ie.checkOrder(w);k.error?alert(` Li: ${k.error}`):(alert(k.message),["delivered","cancelled","active"].includes(k.status)&&le())}catch(k){alert(` Li khi check: ${k.message}`)}finally{G(null)}}},le=A.useCallback(async()=>{try{const[w,k,x]=await Promise.all([Ie.getStats(),Ie.getCookies(),Ie.getActiveOrders()]);r(w),c(k),f(x)}catch(w){console.error("Fetch error:",w)}finally{p(!1)}},[]);A.useEffect(()=>{(async()=>{const{data:{session:x}}=await _s.auth.getSession();e((x==null?void 0:x.user)||null),a(!1)})();const{data:{subscription:k}}=_s.auth.onAuthStateChange((x,W)=>{e((W==null?void 0:W.user)||null)});return()=>k.unsubscribe()},[]),A.useEffect(()=>{if(!t)return;le();let w=null;return(async()=>{w=await Ie.subscribeToEvents(()=>{le()})})(),()=>{w&&w()}},[le,t]);const He=async()=>{if(y.trim())try{await Ie.addCookie(y.trim()),g(""),S(!1),le()}catch(w){console.error("Add cookie error:",w)}},C=async w=>{if(confirm("Xa cookie ny?"))try{await Ie.deleteCookie(w),le()}catch(k){console.error("Delete error:",k)}},q=async(w,k)=>{const x=prompt("Nhp cookie mi:",k||"");if(!(!x||x.trim()===k))try{const W=await Ie.updateCookie(w,x.trim());W.error?alert(` Li: ${W.error}`):(alert(` Cookie #${w}  c cp nht! Status  pending`),le())}catch(W){alert(` Li khi cp nht: ${W.message}`)}},B=async w=>{try{const k=await Ie.checkCookie(w);let x=`Cookie #${w}: `;k.activated?(x=` Cookie #${w}  c kch hot!
`,x+=` ang giao: ${k.ordersCount}
`,k.completedCount>0&&(x+=`  giao: ${k.completedCount}
`),k.cancelledCount>0&&(x+=`  hu: ${k.cancelledCount}
`)):k.status==="deleted_empty"?(x=` Cookie #${w}  c x l:
`,k.completedCount>0&&(x+=`  giao: ${k.completedCount} ( thm vo lch s)
`),k.cancelledCount>0&&(x+=`  hu: ${k.cancelledCount}
`),x+=`
V khng cn n hng no ang giao, cookie ny  c t ng xo.`):k.ordersCount===0?k.completedCount>0||k.cancelledCount>0?(x=` Cookie #${w}:
`,k.completedCount>0&&(x+=`  giao: ${k.completedCount}
`),k.cancelledCount>0&&(x+=`  hu: ${k.cancelledCount}
`),x+=`
Khng c n hng no ang giao.`):x=` Cookie #${w} cha c n hng. Vui lng th li sau.`:(x+=`${k.ordersCount} n hng ang giao.`,k.completedCount>0&&(x+=` ( giao: ${k.completedCount})`)),alert(x),le()}catch(k){console.error("Check cookie error:",k),alert(" Li khi check cookie: "+k.message)}},P=async()=>{try{await Cw(),e(null)}catch(w){console.error("Logout error:",w)}},[re,tt]=A.useState(!1),mt=async(w="normal")=>{var k;if(!v){tt(!1),b(!0);try{const x=await Ie.forceCheck(w);let W=[];const Ae=((k=x.errors)==null?void 0:k.filter(xt=>{var be;return((be=xt.error)==null?void 0:be.includes("Error 19"))||xt.action==="disabled_and_cleaned"}))||[];if(Ae.length>0){const xt=Ae.map(be=>`Cookie #${be.cookieId}:  b v hiu ho, xo ${be.deletedOrders||0} n`).join(`
`);W.push(` ${Ae.length} cookie ht hn (Error 19):
${xt}`)}if(x.cancelled&&x.cancelled.length>0){const xt=x.cancelled.map(be=>be.orderId?`n #${be.orderId}: ${be.reason}`:`Cookie #${be.cookieId}: ${be.reason}`).join(`
`);W.push(` ${x.cancelled.length} n b hu:
${xt}`)}x.updated&&x.updated.length>0&&W.push(` ${x.updated.length} n c cp nht`),W.length>0?alert(W.join(`

`)):alert(`  kim tra ${x.checked} cookies. Khng c thay i.`),le()}catch(x){console.error("Force check error:",x),alert(" Li khi kim tra: "+x.message)}finally{b(!1)}}},hn=(w,k)=>{var x,W;R({product:w.product||"",amount:w.amount||1,price:w.price||0,tracking_number:w.tracking_number||"",shipping:{name:((x=w.shipping)==null?void 0:x.name)||"",phone:((W=w.shipping)==null?void 0:W.phone)||""}}),O(w),k&&(d.current=k)},Vt=async()=>{if(T)try{await Ie.updateDeliveredOrder(T.id,j),O(null),d.current&&d.current()}catch(w){console.error("Update delivered error:",w),alert(" Li cp nht: "+w.message)}},ba=w=>{if(!w)return"N/A";const k=new Date(w),x=String(k.getHours()).padStart(2,"0"),W=String(k.getMinutes()).padStart(2,"0"),Ae=String(k.getDate()).padStart(2,"0"),xt=String(k.getMonth()+1).padStart(2,"0"),be=k.getFullYear();return`${x}:${W} ${Ae}/${xt}/${be}`},dh=w=>{const k=(w==null?void 0:w.toLowerCase())||"";return k.includes("giao hng thnh cng")||k.includes(" giao")?"delivered":k.includes("ang giao")||k.includes("vn chuyn")?"shipped":k.includes(" hy")?"cancelled":"processing"};return n?o.jsxs("div",{className:"auth-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"ang kim tra ng nhp..."})]}):t?o.jsxs("div",{className:"app-layout",children:[o.jsxs("aside",{className:"sidebar",children:[o.jsxs("div",{className:"sidebar-content",children:[o.jsxs("div",{className:"brand",children:[o.jsx("div",{className:"brand-icon",children:o.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"})}),o.jsxs("div",{className:"brand-text",children:[o.jsx("h1",{children:"Shopee Tracker"}),o.jsx("p",{children:"Power User v2.4"})]})]}),o.jsxs("nav",{className:"nav-menu",children:[o.jsxs("button",{className:`nav-item ${i==="orders"?"active":""}`,onClick:()=>s("orders"),children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"package_2"}),o.jsx("span",{children:"My Orders"})]}),o.jsxs("button",{className:`nav-item ${i==="cookies"?"active":""}`,onClick:()=>s("cookies"),children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"cookie"}),o.jsx("span",{children:"Cookies"})]}),o.jsxs("button",{className:`nav-item ${i==="history"?"active":""}`,onClick:()=>s("history"),children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"history"}),o.jsx("span",{children:"History"})]})]})]}),o.jsx("div",{className:"sidebar-footer",children:o.jsxs("button",{className:"logout-btn",onClick:P,children:[o.jsx("span",{className:"material-symbols-outlined",children:"logout"}),o.jsx("span",{children:"Log Out"})]})})]}),o.jsxs("main",{className:"main-content",children:[o.jsxs("header",{className:"header",children:[o.jsxs("div",{className:"header-left",children:[o.jsxs("h2",{children:[i==="orders"&&"Active Orders",i==="cookies"&&"Cookie Management",i==="history"&&"Delivery History"]}),o.jsxs("div",{className:"status-badge",children:[o.jsx("div",{className:`status-dot ${l.active>0?"active":"error"}`}),o.jsxs("span",{children:["Cookie: ",l.active>0?"Active":"Inactive"]})]})]}),o.jsxs("div",{className:"header-actions",children:[o.jsxs("div",{className:"force-check-dropdown",children:[o.jsxs("button",{className:"btn btn-secondary",onClick:()=>tt(!re),disabled:v,title:"Kim tra n hu qua Shopee API",children:[o.jsx("span",{className:"material-symbols-outlined",children:v?"sync":"refresh"}),v?"ang check...":"Force Check",o.jsx("span",{className:"material-symbols-outlined dropdown-arrow",children:"expand_more"})]}),re&&!v&&o.jsxs("div",{className:"force-check-menu",children:[o.jsxs("button",{onClick:()=>mt("normal"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"schedule"}),"Normal Check",o.jsx("span",{className:"menu-desc",children:"Ch check n ch MVD"})]}),o.jsxs("button",{onClick:()=>mt("all"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"fact_check"}),"Check All",o.jsx("span",{className:"menu-desc",children:"Check tt c n + cookie kho"})]})]})]}),o.jsxs("button",{className:"btn btn-primary",onClick:()=>S(!0),children:[o.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Add Cookie"]})]})]}),o.jsx("div",{className:"dashboard-content",children:m?o.jsx("div",{className:"loading",children:"Loading..."}):o.jsxs(o.Fragment,{children:[i==="orders"&&o.jsx("div",{className:"orders-section",children:h.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"local_shipping"}),o.jsx("h4",{children:"No orders in transit"}),o.jsx("p",{children:"Orders being delivered will appear here"})]}):o.jsx("div",{className:"tab-scroll-container",children:o.jsx("div",{className:"order-cards-grid",children:dj(h,3).map((w,k)=>o.jsx("div",{className:"masonry-column",children:w.map((x,W)=>{var Ae,xt;return o.jsxs("div",{className:"order-card",children:[o.jsxs("div",{className:"order-card-header",children:[o.jsx("div",{className:"order-card-product-img",children:x.image?o.jsx("img",{src:Pn(x.image),alt:"Product",onError:be=>{be.target.src="",be.target.style.display="none"}}):o.jsx("span",{className:"placeholder",children:""})}),o.jsxs("div",{className:"order-card-product-info",children:[o.jsxs("h4",{className:"order-card-product-name",children:[Ya(x.product)||"Sn phm",o.jsxs("span",{className:"product-quantity",children:[" (SL: ",x.amount||1,")"]})]}),o.jsxs("div",{className:"order-card-tracking",onClick:()=>x.tracking_number&&M(x.tracking_number),style:{cursor:x.tracking_number?"pointer":"default"},children:[o.jsx("span",{className:"tracking-code",children:x.tracking_number||"Ch MVD"}),o.jsx("button",{className:"copy-btn",onClick:be=>{be.stopPropagation(),navigator.clipboard.writeText(x.tracking_number||"")},title:"Copy m vn n",children:o.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})}),x.tracking_number&&o.jsx("button",{onClick:be=>{be.stopPropagation(),M(x.tracking_number)},className:"copy-btn",title:"Xem hnh trnh chi tit",children:o.jsx("span",{className:"material-symbols-outlined",children:"visibility"})})]})]})]}),o.jsx("div",{className:"order-card-body",children:o.jsxs("div",{className:"order-card-info-row",children:[o.jsxs("div",{className:"info-column",children:[o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"NGI NHN"}),o.jsx("span",{className:"info-value",children:(Ae=x.shipping)==null?void 0:Ae.name})]}),o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"S IN THOI"}),o.jsx("span",{className:"info-value phone-value",children:(xt=x.shipping)==null?void 0:xt.phone})]})]}),o.jsxs("div",{className:"info-column status-column",children:[o.jsxs("div",{className:"info-group",children:[o.jsxs("div",{className:"info-label-row",children:[o.jsx("span",{className:"info-label",children:"TRNG THI"}),o.jsx("span",{className:"material-symbols-outlined info-icon status-icon-small",children:"info"})]}),o.jsx("span",{className:"info-value status-text-wrap",children:x.status||"ang x l n hng"})]}),x.status_time&&o.jsxs("div",{className:"info-group",children:[o.jsx("span",{className:"info-label",children:"CP NHT"}),o.jsx("span",{className:"info-value",children:new Date(x.status_time*1e3).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]})]})]})}),(x.current_location||x.next_location)&&o.jsxs("div",{className:"order-card-journey",children:[o.jsxs("div",{className:"journey-header",children:[o.jsx("span",{className:"material-symbols-outlined",children:"route"}),o.jsx("span",{children:"D BO HNH TRNH"})]}),o.jsxs("div",{className:"journey-content",children:[x.current_location&&o.jsxs("div",{className:"journey-point",children:[o.jsx("span",{className:"journey-label",children:"V TR HIN TI"}),o.jsx("span",{className:"journey-value",children:x.current_location})]}),x.current_location&&x.next_location&&o.jsx("div",{className:"journey-arrow",children:o.jsx("span",{className:"material-symbols-outlined",children:"arrow_forward"})}),x.next_location&&o.jsxs("div",{className:"journey-point",children:[o.jsx("span",{className:"journey-label",children:x.current_location?"IM N TIP THEO":"IM N"}),o.jsx("span",{className:"journey-value",children:x.next_location})]})]})]}),o.jsxs("div",{className:"order-card-footer",children:[o.jsxs("div",{className:"order-card-price",children:[o.jsx("span",{className:"price-label",children:"TNG CNG"}),o.jsxs("span",{className:"price-value",children:[(x.price||0).toLocaleString(),""]})]}),o.jsxs("div",{className:"order-card-footer-right",children:[o.jsxs("button",{className:"order-check-btn",onClick:()=>I(x.id),disabled:N===x.id,title:"Check trng thi n hng",children:[o.jsx("span",{className:`material-symbols-outlined ${N===x.id?"spinning":""}`,children:N===x.id?"sync":"fact_check"}),N===x.id?"Checking...":"Check"]}),x.updated_at&&o.jsx("span",{className:"updated-at",children:new Date(x.updated_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]})]},x.id||W)})},k))})})}),i==="cookies"&&o.jsx("div",{className:"orders-card",children:u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx("span",{className:"material-symbols-outlined icon",children:"cookie"}),o.jsx("h4",{children:"No cookies"}),o.jsx("p",{children:"Add a Shopee cookie to start tracking"})]}):o.jsx("div",{className:"tab-scroll-container",children:o.jsxs("table",{className:"orders-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ID"}),o.jsx("th",{children:"Product"}),o.jsx("th",{children:"Cookie Preview"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Created"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:u.map(w=>{var W;const k=h.filter(Ae=>Ae.cookie_id===w.id),x=k[0];return o.jsxs("tr",{children:[o.jsxs("td",{className:"order-id",children:["#",w.id]}),o.jsx("td",{className:"cookie-product-cell",children:o.jsxs("div",{className:"cookie-product-info",children:[o.jsx("div",{className:"cookie-product-img",children:x&&x.image?o.jsx("img",{src:Pn(x.image),alt:"Product",onError:Ae=>{Ae.target.style.display="none"}}):o.jsx("span",{className:"placeholder",children:""})}),k.length>1&&o.jsx("span",{className:"product-count-badge",title:`${k.length} n hng`,children:k.length})]})}),o.jsxs("td",{style:{fontFamily:"monospace",fontSize:"0.75rem",cursor:"pointer"},title:"Click to copy full cookie",onClick:()=>{navigator.clipboard.writeText(w.cookie),alert(` copy cookie #${w.id}!`)},className:"cookie-preview-cell",children:[(W=w.cookie)==null?void 0:W.substring(0,30),"..."]}),o.jsx("td",{children:o.jsx("span",{className:`order-status ${w.status}`,children:w.status})}),o.jsx("td",{className:"order-date",children:ba(w.created_at)}),o.jsx("td",{children:o.jsxs("div",{className:"cookie-actions",children:[o.jsx("button",{className:"btn btn-ghost",onClick:()=>{navigator.clipboard.writeText(w.cookie),alert("Cookie  c copy vo clipboard!")},title:"Copy full cookie",children:o.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})}),w.status==="pending"&&o.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>B(w.id),title:"Check cookie",children:o.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"})}),o.jsx("button",{className:"btn btn-ghost",onClick:()=>q(w.id,w.cookie),title:"Sa cookie",children:o.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),o.jsx("button",{className:"btn btn-ghost",onClick:()=>C(w.id),title:"Delete",children:o.jsx("span",{className:"material-symbols-outlined",children:"delete"})})]})})]},w.id)})})]})})}),i==="history"&&o.jsx("div",{className:"orders-section",children:o.jsx(wf,{onEdit:hn})})]})})]}),o.jsxs("div",{className:"mobile-app",children:[o.jsxs("header",{className:"mobile-header",children:[o.jsxs("div",{className:"mobile-header-brand",children:[o.jsx("div",{className:"brand-icon",children:o.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"})}),o.jsx("h1",{children:"Shopee Tracker"})]}),o.jsxs("div",{className:"mobile-header-right",children:[o.jsxs("div",{className:"mobile-force-check",children:[o.jsx("button",{className:"mobile-force-check-btn",onClick:()=>tt(!re),disabled:v,title:"Force Check",children:o.jsx("span",{className:`material-symbols-outlined ${v?"spinning":""}`,children:v?"sync":"refresh"})}),re&&!v&&o.jsxs("div",{className:"mobile-force-check-menu",children:[o.jsxs("button",{onClick:()=>mt("normal"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"schedule"}),o.jsxs("div",{children:[o.jsx("span",{children:"Normal Check"}),o.jsx("small",{children:"Ch check n ch MVD"})]})]}),o.jsxs("button",{onClick:()=>mt("all"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"fact_check"}),o.jsxs("div",{children:[o.jsx("span",{children:"Check All"}),o.jsx("small",{children:"Check tt c n + cookie kho"})]})]})]})]}),o.jsxs("div",{className:`mobile-cookie-badge ${l.active>0?"active":"inactive"}`,children:[o.jsx("span",{className:"dot"}),o.jsxs("span",{children:["Cookie: ",l.active>0?"Active":"Inactive"]})]})]})]}),o.jsx("div",{className:"mobile-content",children:m?o.jsxs("div",{className:"mobile-empty-state",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading..."})]}):o.jsxs(o.Fragment,{children:[i==="dashboard"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"mobile-section-title",children:"Recent Update"}),h.length>0?(()=>{const w=h[0];return o.jsxs("div",{className:"recent-update-card",children:[o.jsxs("div",{className:"recent-update-header",children:[o.jsx("div",{className:"recent-update-icon",children:w.image?o.jsx("img",{src:Pn(w.image),alt:"Product",onError:k=>{k.target.style.display="none"}}):o.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"})}),o.jsx("span",{className:`order-status ${dh(w.status)}`,children:w.status||"Processing"})]}),o.jsxs("div",{className:"recent-update-body",children:[o.jsx("h3",{children:Ya(w.product)||"Unknown Product"}),o.jsxs("div",{className:"recent-update-meta",children:[o.jsxs("span",{className:"recent-update-qty",children:["SL: ",w.amount||1]}),o.jsx("span",{className:"recent-update-tracking",children:w.tracking_number||"Ch m vn n"})]})]})]})})():o.jsx("div",{className:"recent-update-card",children:o.jsxs("div",{className:"mobile-empty-state",children:[o.jsx("span",{className:"material-symbols-outlined",children:"inbox"}),o.jsx("h4",{children:"No recent orders"}),o.jsx("p",{children:"Add a cookie to start tracking"})]})}),o.jsxs("div",{className:"active-orders-section",children:[o.jsxs("div",{className:"active-orders-header",children:[o.jsx("h2",{children:"Active Orders"}),o.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),s("orders")},children:"See All"})]}),h.length===0?o.jsxs("div",{className:"mobile-empty-state",children:[o.jsx("span",{className:"material-symbols-outlined",children:"local_shipping"}),o.jsx("h4",{children:"No active orders"}),o.jsx("p",{children:"Orders will appear here"})]}):h.slice(0,5).map((w,k)=>o.jsxs("div",{className:"mobile-order-card",children:[o.jsx("div",{className:"mobile-order-img",children:w.image?o.jsx("img",{src:Pn(w.image),alt:"Product",onError:x=>{x.target.style.display="none"}}):o.jsx("span",{className:"placeholder",children:""})}),o.jsxs("div",{className:"mobile-order-info",children:[o.jsx("h4",{children:Ya(w.product)||"Unknown Product"}),o.jsxs("p",{children:["Tracking: #",w.tracking_number||"N/A"]})]}),o.jsx("span",{className:`order-status ${dh(w.status)}`,children:w.status||"Processing"})]},w.id||k))]})]}),i==="orders"&&o.jsxs("div",{className:"active-orders-section",children:[o.jsxs("p",{className:"mobile-section-title",children:["All Orders (",h.length,")"]}),h.length===0?o.jsxs("div",{className:"mobile-empty-state",children:[o.jsx("span",{className:"material-symbols-outlined",children:"local_shipping"}),o.jsx("h4",{children:"No orders in transit"}),o.jsx("p",{children:"Orders being delivered will appear here"})]}):h.map((w,k)=>{var x,W;return o.jsxs("div",{className:"mobile-order-card-expanded",children:[o.jsxs("div",{className:"mobile-order-header",children:[o.jsx("div",{className:"mobile-order-img",children:w.image?o.jsx("img",{src:Pn(w.image),alt:"Product",onError:Ae=>{Ae.target.style.display="none"}}):o.jsx("span",{className:"placeholder",children:""})}),o.jsxs("div",{className:"mobile-order-info",children:[o.jsxs("h4",{children:[Ya(w.product)||"Sn phm",o.jsxs("span",{className:"product-quantity",children:[" (SL: ",w.amount||1,")"]})]}),o.jsxs("div",{className:"mobile-tracking-row",children:[o.jsxs("span",{className:"tracking-num",onClick:()=>w.tracking_number&&M(w.tracking_number),style:{cursor:w.tracking_number?"pointer":"default"},children:["#",w.tracking_number||"Ch MVD"]}),w.tracking_number&&o.jsxs("div",{className:"mobile-tracking-actions",children:[o.jsx("button",{className:"mobile-track-btn",onClick:()=>navigator.clipboard.writeText(w.tracking_number),title:"Copy m vn n",children:o.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})}),o.jsx("button",{className:"mobile-track-btn",onClick:()=>M(w.tracking_number),title:"Xem hnh trnh",children:o.jsx("span",{className:"material-symbols-outlined",children:"visibility"})})]})]})]})]}),o.jsx("div",{className:"mobile-order-body",children:o.jsxs("div",{className:"mobile-info-row",children:[o.jsxs("div",{className:"mobile-info-group",children:[o.jsx("span",{className:"mobile-info-label",children:"NGI NHN"}),o.jsx("span",{className:"mobile-info-value",children:((x=w.shipping)==null?void 0:x.name)||"N/A"})]}),o.jsxs("div",{className:"mobile-info-group",children:[o.jsx("span",{className:"mobile-info-label",children:"S IN THOI"}),o.jsx("span",{className:"mobile-info-value phone",children:((W=w.shipping)==null?void 0:W.phone)||"N/A"})]})]})}),(w.current_location||w.next_location)&&o.jsxs("div",{className:"mobile-journey-section",children:[o.jsxs("div",{className:"mobile-journey-header",children:[o.jsx("span",{className:"material-symbols-outlined",children:"route"}),o.jsx("span",{children:"D BO HNH TRNH"})]}),o.jsxs("div",{className:"mobile-journey-content",children:[w.current_location&&o.jsxs("div",{className:"mobile-journey-point",children:[o.jsx("span",{className:"mobile-journey-label",children:"V TR HIN TI"}),o.jsx("span",{className:"mobile-journey-value",children:w.current_location})]}),w.next_location&&o.jsxs("div",{className:"mobile-journey-point",children:[o.jsx("span",{className:"mobile-journey-label",children:w.current_location?"IM N TIP THEO":"IM N"}),o.jsx("span",{className:"mobile-journey-value",children:w.next_location})]})]})]}),o.jsxs("div",{className:"mobile-status-info",children:[o.jsx("span",{className:"material-symbols-outlined",children:"info"}),o.jsx("span",{children:w.status||"ang x l n hng"}),w.status_time&&o.jsx("span",{className:"status-time",children:new Date(w.status_time*1e3).toLocaleString("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"})})]}),o.jsxs("div",{className:"mobile-order-footer",children:[o.jsxs("div",{children:[o.jsx("span",{className:"mobile-price-label",children:"TNG CNG"}),o.jsxs("span",{className:"mobile-price-value",children:[(w.price||0).toLocaleString(),""]})]}),o.jsxs("button",{className:"mobile-order-check-btn",onClick:()=>I(w.id),disabled:N===w.id,title:"Check trng thi",children:[o.jsx("span",{className:`material-symbols-outlined ${N===w.id?"spinning":""}`,children:N===w.id?"sync":"fact_check"}),o.jsx("span",{children:N===w.id?"Checking...":"Check"})]})]})]},w.id||k)})]}),i==="cookies"&&o.jsxs("div",{className:"active-orders-section",children:[o.jsx("div",{className:"active-orders-header",children:o.jsxs("h2",{children:["Cookie Management (",u.length,")"]})}),u.length===0?o.jsxs("div",{className:"mobile-empty-state",children:[o.jsx("span",{className:"material-symbols-outlined",children:"cookie"}),o.jsx("h4",{children:"No cookies"}),o.jsx("p",{children:"Add a Shopee cookie to start tracking"})]}):u.map(w=>{var W;const k=h.filter(Ae=>Ae.cookie_id===w.id),x=k[0];return o.jsxs("div",{className:"mobile-order-card",children:[o.jsx("div",{className:"mobile-order-img",children:x&&x.image?o.jsx("img",{src:Pn(x.image),alt:"Product",onError:Ae=>{Ae.target.style.display="none"},className:"product-img-thumbnail"}):o.jsx("span",{className:"placeholder",children:""})}),o.jsxs("div",{className:"mobile-order-info",children:[o.jsxs("div",{className:"mobile-cookie-header",children:[o.jsxs("h4",{children:["Cookie #",w.id]}),o.jsx("span",{className:`mobile-order-status ${w.status==="active"?"in-transit":w.status==="pending"?"preparing":"shipped"}`,children:w.status})]}),o.jsxs("div",{className:"mobile-cookie-meta",children:[o.jsxs("span",{className:"cookie-preview-hint",children:[(W=w.cookie)==null?void 0:W.substring(0,30),"..."]}),k.length>0&&o.jsxs("span",{className:"mobile-order-count",children:["(",k.length," n)"]})]})]}),w.status==="pending"&&o.jsx("button",{className:"btn btn-primary btn-sm mobile-cookie-check",onClick:()=>B(w.id),title:"Check cookie",children:o.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"})})]},w.id)})]}),i==="history"&&o.jsxs("div",{className:"active-orders-section",children:[o.jsx("div",{className:"active-orders-header",children:o.jsx("h2",{children:"Delivery History"})}),o.jsx(wf,{onEdit:hn,isMobile:!0})]})]})}),o.jsx("button",{className:"mobile-fab",onClick:()=>S(!0),children:o.jsx("span",{className:"material-symbols-outlined",children:"add"})}),o.jsxs("nav",{className:"bottom-nav",children:[o.jsxs("button",{className:`bottom-nav-item ${i==="orders"?"active":""}`,onClick:()=>s("orders"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"package_2"}),o.jsx("span",{children:"My Orders"})]}),o.jsxs("button",{className:`bottom-nav-item ${i==="cookies"?"active":""}`,onClick:()=>s("cookies"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"cookie"}),o.jsx("span",{children:"Cookies"})]}),o.jsxs("button",{className:`bottom-nav-item ${i==="history"?"active":""}`,onClick:()=>s("history"),children:[o.jsx("span",{className:"material-symbols-outlined",children:"history"}),o.jsx("span",{children:"History"})]})]})]}),_&&o.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:o.jsxs("div",{className:"modal",onClick:w=>w.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Add New Cookie"}),o.jsx("button",{className:"modal-close",onClick:()=>S(!1),children:o.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Shopee Cookie (SPC_ST)"}),o.jsx("textarea",{rows:5,placeholder:"Paste SPC_ST cookie here...",value:y,onChange:w=>g(w.target.value)})]}),o.jsx("p",{className:"modal-hint",children:" Cookie s c thm vo hng ch. Nhn nt   kch hot."}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"btn btn-ghost",onClick:()=>S(!1),children:"Cancel"}),o.jsxs("button",{className:"btn btn-primary",onClick:He,children:[o.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Add Cookie"]})]})]})}),T&&o.jsx("div",{className:"modal-overlay",onClick:()=>O(null),children:o.jsxs("div",{className:"modal edit-delivered-modal",onClick:w=>w.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",children:[o.jsx("h3",{children:"Sa thng tin n hng"}),o.jsx("button",{className:"modal-close",onClick:()=>O(null),children:o.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),o.jsxs("div",{className:"edit-form-grid",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tn sn phm"}),o.jsx("input",{type:"text",value:j.product,onChange:w=>R({...j,product:w.target.value})})]}),o.jsxs("div",{className:"form-row-2",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"S lng"}),o.jsx("input",{type:"number",min:"1",value:j.amount,onChange:w=>R({...j,amount:parseInt(w.target.value)||1})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Gi ()"}),o.jsx("input",{type:"number",min:"0",value:j.price,onChange:w=>R({...j,price:parseInt(w.target.value)||0})})]})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"M vn n"}),o.jsx("input",{type:"text",value:j.tracking_number,onChange:w=>R({...j,tracking_number:w.target.value})})]}),o.jsx("div",{className:"form-divider",children:o.jsx("span",{children:"Thng tin ngi nhn"})}),o.jsxs("div",{className:"form-row-2",children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"Tn ngi nhn"}),o.jsx("input",{type:"text",value:((fh=j.shipping)==null?void 0:fh.name)||"",onChange:w=>R({...j,shipping:{...j.shipping,name:w.target.value}})})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{children:"S in thoi"}),o.jsx("input",{type:"text",value:((mh=j.shipping)==null?void 0:mh.phone)||"",onChange:w=>R({...j,shipping:{...j.shipping,phone:w.target.value}})})]})]})]}),o.jsxs("div",{className:"modal-actions",children:[o.jsx("button",{className:"btn btn-ghost",onClick:()=>O(null),children:"Hy"}),o.jsxs("button",{className:"btn btn-primary",onClick:Vt,children:[o.jsx("span",{className:"material-symbols-outlined",children:"save"}),"Lu thay i"]})]})]})}),D&&o.jsx(hj,{trackingNumber:D,onClose:()=>M(null)})]}):o.jsx(Rw,{onLoginSuccess:w=>e(w)})}e_.createRoot(document.getElementById("root")).render(o.jsx(Df.StrictMode,{children:o.jsx(fj,{})}));
